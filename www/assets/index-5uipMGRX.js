(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const c of f.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=o(u);fetch(u.href,f)}})();function Lr(e,i){const o=new Set(e.split(","));return i?s=>o.has(s.toLowerCase()):s=>o.has(s)}const Lt={},Fn=[],xe=()=>{},Tl=()=>!1,Hi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),$r=e=>e.startsWith("onUpdate:"),ne=Object.assign,Vr=(e,i)=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)},Il=Object.prototype.hasOwnProperty,wt=(e,i)=>Il.call(e,i),ot=Array.isArray,Rn=e=>si(e)==="[object Map]",Hn=e=>si(e)==="[object Set]",Lo=e=>si(e)==="[object Date]",mt=e=>typeof e=="function",qt=e=>typeof e=="string",nn=e=>typeof e=="symbol",$t=e=>e!==null&&typeof e=="object",vs=e=>($t(e)||mt(e))&&mt(e.then)&&mt(e.catch),bs=Object.prototype.toString,si=e=>bs.call(e),El=e=>si(e).slice(8,-1),Cs=e=>si(e)==="[object Object]",kr=e=>qt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Pi=Lr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gi=e=>{const i=Object.create(null);return o=>i[o]||(i[o]=e(o))},Pl=/-(\w)/g,Nn=Gi(e=>e.replace(Pl,(i,o)=>o?o.toUpperCase():"")),Al=/\B([A-Z])/g,Cn=Gi(e=>e.replace(Al,"-$1").toLowerCase()),ws=Gi(e=>e.charAt(0).toUpperCase()+e.slice(1)),dr=Gi(e=>e?`on${ws(e)}`:""),rn=(e,i)=>!Object.is(e,i),Ai=(e,i)=>{for(let o=0;o<e.length;o++)e[o](i)},Ni=(e,i,o)=>{Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value:o})},Li=e=>{const i=parseFloat(e);return isNaN(i)?e:i};let $o;const Ms=()=>$o||($o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ur(e){if(ot(e)){const i={};for(let o=0;o<e.length;o++){const s=e[o],u=qt(s)?Rl(s):Ur(s);if(u)for(const f in u)i[f]=u[f]}return i}else if(qt(e)||$t(e))return e}const Bl=/;(?![^(]*\))/g,Ol=/:([^]+)/,Fl=/\/\*[^]*?\*\//g;function Rl(e){const i={};return e.replace(Fl,"").split(Bl).forEach(o=>{if(o){const s=o.split(Ol);s.length>1&&(i[s[0].trim()]=s[1].trim())}}),i}function ie(e){let i="";if(qt(e))i=e;else if(ot(e))for(let o=0;o<e.length;o++){const s=ie(e[o]);s&&(i+=s+" ")}else if($t(e))for(const o in e)e[o]&&(i+=o+" ");return i.trim()}const Dl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nl=Lr(Dl);function Ss(e){return!!e||e===""}function Ll(e,i){if(e.length!==i.length)return!1;let o=!0;for(let s=0;o&&s<e.length;s++)o=xn(e[s],i[s]);return o}function xn(e,i){if(e===i)return!0;let o=Lo(e),s=Lo(i);if(o||s)return o&&s?e.getTime()===i.getTime():!1;if(o=nn(e),s=nn(i),o||s)return e===i;if(o=ot(e),s=ot(i),o||s)return o&&s?Ll(e,i):!1;if(o=$t(e),s=$t(i),o||s){if(!o||!s)return!1;const u=Object.keys(e).length,f=Object.keys(i).length;if(u!==f)return!1;for(const c in e){const h=e.hasOwnProperty(c),g=i.hasOwnProperty(c);if(h&&!g||!h&&g||!xn(e[c],i[c]))return!1}}return String(e)===String(i)}function Hr(e,i){return e.findIndex(o=>xn(o,i))}const j=e=>qt(e)?e:e==null?"":ot(e)||$t(e)&&(e.toString===bs||!mt(e.toString))?JSON.stringify(e,Ts,2):String(e),Ts=(e,i)=>i&&i.__v_isRef?Ts(e,i.value):Rn(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((o,[s,u],f)=>(o[pr(s,f)+" =>"]=u,o),{})}:Hn(i)?{[`Set(${i.size})`]:[...i.values()].map(o=>pr(o))}:nn(i)?pr(i):$t(i)&&!ot(i)&&!Cs(i)?String(i):i,pr=(e,i="")=>{var o;return nn(e)?`Symbol(${(o=e.description)!=null?o:i})`:e};let pe;class Is{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=pe,!i&&pe&&(this.index=(pe.scopes||(pe.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const o=pe;try{return pe=this,i()}finally{pe=o}}}on(){pe=this}off(){pe=this.parent}stop(i){if(this._active){let o,s;for(o=0,s=this.effects.length;o<s;o++)this.effects[o].stop();for(o=0,s=this.cleanups.length;o<s;o++)this.cleanups[o]();if(this.scopes)for(o=0,s=this.scopes.length;o<s;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!i){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0,this._active=!1}}}function Es(e){return new Is(e)}function $l(e,i=pe){i&&i.active&&i.effects.push(e)}function Ps(){return pe}function Vl(e){pe&&pe.cleanups.push(e)}let gn;class Gr{constructor(i,o,s,u){this.fn=i,this.trigger=o,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,$l(this,u)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,wn();for(const i of this.deps)if(i.computed&&(kl(i.computed),this._dirtyLevel>=2))break;Mn(),this._queryings--}return this._dirtyLevel>=2}set dirty(i){this._dirtyLevel=i?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let i=Qe,o=gn;try{return Qe=!0,gn=this,this._runnings++,Vo(this),this.fn()}finally{ko(this),this._runnings--,gn=o,Qe=i}}stop(){var i;this.active&&(Vo(this),ko(this),(i=this.onStop)==null||i.call(this),this.active=!1)}}function kl(e){return e.value}function Vo(e){e._trackId++,e._depsLength=0}function ko(e){if(e.deps&&e.deps.length>e._depsLength){for(let i=e._depsLength;i<e.deps.length;i++)As(e.deps[i],e);e.deps.length=e._depsLength}}function As(e,i){const o=e.get(i);o!==void 0&&i._trackId!==o&&(e.delete(i),e.size===0&&e.cleanup())}let Qe=!0,Cr=0;const Bs=[];function wn(){Bs.push(Qe),Qe=!1}function Mn(){const e=Bs.pop();Qe=e===void 0?!0:e}function jr(){Cr++}function Wr(){for(Cr--;!Cr&&wr.length;)wr.shift()()}function Os(e,i,o){if(i.get(e)!==e._trackId){i.set(e,e._trackId);const s=e.deps[e._depsLength];s!==i?(s&&As(s,e),e.deps[e._depsLength++]=i):e._depsLength++}}const wr=[];function Fs(e,i,o){jr();for(const s of e.keys())if(!(!s.allowRecurse&&s._runnings)&&s._dirtyLevel<i&&(!s._runnings||i!==2)){const u=s._dirtyLevel;s._dirtyLevel=i,u===0&&(!s._queryings||i!==2)&&(s.trigger(),s.scheduler&&wr.push(s.scheduler))}Wr()}const Rs=(e,i)=>{const o=new Map;return o.cleanup=e,o.computed=i,o},$i=new WeakMap,mn=Symbol(""),Mr=Symbol("");function fe(e,i,o){if(Qe&&gn){let s=$i.get(e);s||$i.set(e,s=new Map);let u=s.get(o);u||s.set(o,u=Rs(()=>s.delete(o))),Os(gn,u)}}function ke(e,i,o,s,u,f){const c=$i.get(e);if(!c)return;let h=[];if(i==="clear")h=[...c.values()];else if(o==="length"&&ot(e)){const g=Number(s);c.forEach((b,M)=>{(M==="length"||!nn(M)&&M>=g)&&h.push(b)})}else switch(o!==void 0&&h.push(c.get(o)),i){case"add":ot(e)?kr(o)&&h.push(c.get("length")):(h.push(c.get(mn)),Rn(e)&&h.push(c.get(Mr)));break;case"delete":ot(e)||(h.push(c.get(mn)),Rn(e)&&h.push(c.get(Mr)));break;case"set":Rn(e)&&h.push(c.get(mn));break}jr();for(const g of h)g&&Fs(g,3);Wr()}function Ul(e,i){var o;return(o=$i.get(e))==null?void 0:o.get(i)}const Hl=Lr("__proto__,__v_isRef,__isVue"),Ds=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(nn)),Uo=Gl();function Gl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(i=>{e[i]=function(...o){const s=Mt(this);for(let f=0,c=this.length;f<c;f++)fe(s,"get",f+"");const u=s[i](...o);return u===-1||u===!1?s[i](...o.map(Mt)):u}}),["push","pop","shift","unshift","splice"].forEach(i=>{e[i]=function(...o){wn(),jr();const s=Mt(this)[i].apply(this,o);return Wr(),Mn(),s}}),e}function jl(e){const i=Mt(this);return fe(i,"has",e),i.hasOwnProperty(e)}class Ns{constructor(i=!1,o=!1){this._isReadonly=i,this._shallow=o}get(i,o,s){const u=this._isReadonly,f=this._shallow;if(o==="__v_isReactive")return!u;if(o==="__v_isReadonly")return u;if(o==="__v_isShallow")return f;if(o==="__v_raw")return s===(u?f?rf:ks:f?Vs:$s).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(s)?i:void 0;const c=ot(i);if(!u){if(c&&wt(Uo,o))return Reflect.get(Uo,o,s);if(o==="hasOwnProperty")return jl}const h=Reflect.get(i,o,s);return(nn(o)?Ds.has(o):Hl(o))||(u||fe(i,"get",o),f)?h:Xt(h)?c&&kr(o)?h:h.value:$t(h)?u?Us(h):Wi(h):h}}class Ls extends Ns{constructor(i=!1){super(!1,i)}set(i,o,s,u){let f=i[o];if(!this._shallow){const g=Ln(f);if(!Vi(s)&&!Ln(s)&&(f=Mt(f),s=Mt(s)),!ot(i)&&Xt(f)&&!Xt(s))return g?!1:(f.value=s,!0)}const c=ot(i)&&kr(o)?Number(o)<i.length:wt(i,o),h=Reflect.set(i,o,s,u);return i===Mt(u)&&(c?rn(s,f)&&ke(i,"set",o,s):ke(i,"add",o,s)),h}deleteProperty(i,o){const s=wt(i,o);i[o];const u=Reflect.deleteProperty(i,o);return u&&s&&ke(i,"delete",o,void 0),u}has(i,o){const s=Reflect.has(i,o);return(!nn(o)||!Ds.has(o))&&fe(i,"has",o),s}ownKeys(i){return fe(i,"iterate",ot(i)?"length":mn),Reflect.ownKeys(i)}}class Wl extends Ns{constructor(i=!1){super(!0,i)}set(i,o){return!0}deleteProperty(i,o){return!0}}const zl=new Ls,Kl=new Wl,ql=new Ls(!0),zr=e=>e,ji=e=>Reflect.getPrototypeOf(e);function bi(e,i,o=!1,s=!1){e=e.__v_raw;const u=Mt(e),f=Mt(i);o||(rn(i,f)&&fe(u,"get",i),fe(u,"get",f));const{has:c}=ji(u),h=s?zr:o?Xr:ei;if(c.call(u,i))return h(e.get(i));if(c.call(u,f))return h(e.get(f));e!==u&&e.get(i)}function Ci(e,i=!1){const o=this.__v_raw,s=Mt(o),u=Mt(e);return i||(rn(e,u)&&fe(s,"has",e),fe(s,"has",u)),e===u?o.has(e):o.has(e)||o.has(u)}function wi(e,i=!1){return e=e.__v_raw,!i&&fe(Mt(e),"iterate",mn),Reflect.get(e,"size",e)}function Ho(e){e=Mt(e);const i=Mt(this);return ji(i).has.call(i,e)||(i.add(e),ke(i,"add",e,e)),this}function Go(e,i){i=Mt(i);const o=Mt(this),{has:s,get:u}=ji(o);let f=s.call(o,e);f||(e=Mt(e),f=s.call(o,e));const c=u.call(o,e);return o.set(e,i),f?rn(i,c)&&ke(o,"set",e,i):ke(o,"add",e,i),this}function jo(e){const i=Mt(this),{has:o,get:s}=ji(i);let u=o.call(i,e);u||(e=Mt(e),u=o.call(i,e)),s&&s.call(i,e);const f=i.delete(e);return u&&ke(i,"delete",e,void 0),f}function Wo(){const e=Mt(this),i=e.size!==0,o=e.clear();return i&&ke(e,"clear",void 0,void 0),o}function Mi(e,i){return function(s,u){const f=this,c=f.__v_raw,h=Mt(c),g=i?zr:e?Xr:ei;return!e&&fe(h,"iterate",mn),c.forEach((b,M)=>s.call(u,g(b),g(M),f))}}function Si(e,i,o){return function(...s){const u=this.__v_raw,f=Mt(u),c=Rn(f),h=e==="entries"||e===Symbol.iterator&&c,g=e==="keys"&&c,b=u[e](...s),M=o?zr:i?Xr:ei;return!i&&fe(f,"iterate",g?Mr:mn),{next(){const{value:O,done:T}=b.next();return T?{value:O,done:T}:{value:h?[M(O[0]),M(O[1])]:M(O),done:T}},[Symbol.iterator](){return this}}}}function qe(e){return function(...i){return e==="delete"?!1:e==="clear"?void 0:this}}function Xl(){const e={get(f){return bi(this,f)},get size(){return wi(this)},has:Ci,add:Ho,set:Go,delete:jo,clear:Wo,forEach:Mi(!1,!1)},i={get(f){return bi(this,f,!1,!0)},get size(){return wi(this)},has:Ci,add:Ho,set:Go,delete:jo,clear:Wo,forEach:Mi(!1,!0)},o={get(f){return bi(this,f,!0)},get size(){return wi(this,!0)},has(f){return Ci.call(this,f,!0)},add:qe("add"),set:qe("set"),delete:qe("delete"),clear:qe("clear"),forEach:Mi(!0,!1)},s={get(f){return bi(this,f,!0,!0)},get size(){return wi(this,!0)},has(f){return Ci.call(this,f,!0)},add:qe("add"),set:qe("set"),delete:qe("delete"),clear:qe("clear"),forEach:Mi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{e[f]=Si(f,!1,!1),o[f]=Si(f,!0,!1),i[f]=Si(f,!1,!0),s[f]=Si(f,!0,!0)}),[e,o,i,s]}const[Jl,Zl,Yl,Ql]=Xl();function Kr(e,i){const o=i?e?Ql:Yl:e?Zl:Jl;return(s,u,f)=>u==="__v_isReactive"?!e:u==="__v_isReadonly"?e:u==="__v_raw"?s:Reflect.get(wt(o,u)&&u in s?o:s,u,f)}const tf={get:Kr(!1,!1)},ef={get:Kr(!1,!0)},nf={get:Kr(!0,!1)},$s=new WeakMap,Vs=new WeakMap,ks=new WeakMap,rf=new WeakMap;function of(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sf(e){return e.__v_skip||!Object.isExtensible(e)?0:of(El(e))}function Wi(e){return Ln(e)?e:qr(e,!1,zl,tf,$s)}function uf(e){return qr(e,!1,ql,ef,Vs)}function Us(e){return qr(e,!0,Kl,nf,ks)}function qr(e,i,o,s,u){if(!$t(e)||e.__v_raw&&!(i&&e.__v_isReactive))return e;const f=u.get(e);if(f)return f;const c=sf(e);if(c===0)return e;const h=new Proxy(e,c===2?s:o);return u.set(e,h),h}function tn(e){return Ln(e)?tn(e.__v_raw):!!(e&&e.__v_isReactive)}function Ln(e){return!!(e&&e.__v_isReadonly)}function Vi(e){return!!(e&&e.__v_isShallow)}function Hs(e){return tn(e)||Ln(e)}function Mt(e){const i=e&&e.__v_raw;return i?Mt(i):e}function zi(e){return Ni(e,"__v_skip",!0),e}const ei=e=>$t(e)?Wi(e):e,Xr=e=>$t(e)?Us(e):e;class Gs{constructor(i,o,s,u){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Gr(()=>i(this._value),()=>Sr(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!u,this.__v_isReadonly=s}get value(){const i=Mt(this);return js(i),(!i._cacheable||i.effect.dirty)&&rn(i._value,i._value=i.effect.run())&&Sr(i,2),i._value}set value(i){this._setter(i)}get _dirty(){return this.effect.dirty}set _dirty(i){this.effect.dirty=i}}function lf(e,i,o=!1){let s,u;const f=mt(e);return f?(s=e,u=xe):(s=e.get,u=e.set),new Gs(s,u,f||!u,o)}function js(e){Qe&&gn&&(e=Mt(e),Os(gn,e.dep||(e.dep=Rs(()=>e.dep=void 0,e instanceof Gs?e:void 0))))}function Sr(e,i=3,o){e=Mt(e);const s=e.dep;s&&Fs(s,i)}function Xt(e){return!!(e&&e.__v_isRef===!0)}function Dt(e){return ff(e,!1)}function ff(e,i){return Xt(e)?e:new af(e,i)}class af{constructor(i,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?i:Mt(i),this._value=o?i:ei(i)}get value(){return js(this),this._value}set value(i){const o=this.__v_isShallow||Vi(i)||Ln(i);i=o?i:Mt(i),rn(i,this._rawValue)&&(this._rawValue=i,this._value=o?i:ei(i),Sr(this,3))}}function m(e){return Xt(e)?e.value:e}const cf={get:(e,i,o)=>m(Reflect.get(e,i,o)),set:(e,i,o,s)=>{const u=e[i];return Xt(u)&&!Xt(o)?(u.value=o,!0):Reflect.set(e,i,o,s)}};function Ws(e){return tn(e)?e:new Proxy(e,cf)}function hf(e){const i=ot(e)?new Array(e.length):{};for(const o in e)i[o]=pf(e,o);return i}class df{constructor(i,o,s){this._object=i,this._key=o,this._defaultValue=s,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return Ul(Mt(this._object),this._key)}}function pf(e,i,o){const s=e[i];return Xt(s)?s:new df(e,i,o)}function en(e,i,o,s){let u;try{u=s?e(...s):e()}catch(f){Ki(f,i,o)}return u}function Se(e,i,o,s){if(mt(e)){const f=en(e,i,o,s);return f&&vs(f)&&f.catch(c=>{Ki(c,i,o)}),f}const u=[];for(let f=0;f<e.length;f++)u.push(Se(e[f],i,o,s));return u}function Ki(e,i,o,s=!0){const u=i?i.vnode:null;if(i){let f=i.parent;const c=i.proxy,h=`https://vuejs.org/errors/#runtime-${o}`;for(;f;){const b=f.ec;if(b){for(let M=0;M<b.length;M++)if(b[M](e,c,h)===!1)return}f=f.parent}const g=i.appContext.config.errorHandler;if(g){en(g,null,10,[e,c,h]);return}}gf(e,o,u,s)}function gf(e,i,o,s=!0){console.error(e)}let ni=!1,Tr=!1;const te=[];let De=0;const Dn=[];let $e=null,hn=0;const zs=Promise.resolve();let Jr=null;function Zr(e){const i=Jr||zs;return e?i.then(this?e.bind(this):e):i}function mf(e){let i=De+1,o=te.length;for(;i<o;){const s=i+o>>>1,u=te[s],f=ii(u);f<e||f===e&&u.pre?i=s+1:o=s}return i}function Yr(e){(!te.length||!te.includes(e,ni&&e.allowRecurse?De+1:De))&&(e.id==null?te.push(e):te.splice(mf(e.id),0,e),Ks())}function Ks(){!ni&&!Tr&&(Tr=!0,Jr=zs.then(Xs))}function _f(e){const i=te.indexOf(e);i>De&&te.splice(i,1)}function yf(e){ot(e)?Dn.push(...e):(!$e||!$e.includes(e,e.allowRecurse?hn+1:hn))&&Dn.push(e),Ks()}function zo(e,i,o=ni?De+1:0){for(;o<te.length;o++){const s=te[o];if(s&&s.pre){if(e&&s.id!==e.uid)continue;te.splice(o,1),o--,s()}}}function qs(e){if(Dn.length){const i=[...new Set(Dn)];if(Dn.length=0,$e){$e.push(...i);return}for($e=i,$e.sort((o,s)=>ii(o)-ii(s)),hn=0;hn<$e.length;hn++)$e[hn]();$e=null,hn=0}}const ii=e=>e.id==null?1/0:e.id,xf=(e,i)=>{const o=ii(e)-ii(i);if(o===0){if(e.pre&&!i.pre)return-1;if(i.pre&&!e.pre)return 1}return o};function Xs(e){Tr=!1,ni=!0,te.sort(xf);try{for(De=0;De<te.length;De++){const i=te[De];i&&i.active!==!1&&en(i,null,14)}}finally{De=0,te.length=0,qs(),ni=!1,Jr=null,(te.length||Dn.length)&&Xs()}}function vf(e,i,...o){if(e.isUnmounted)return;const s=e.vnode.props||Lt;let u=o;const f=i.startsWith("update:"),c=f&&i.slice(7);if(c&&c in s){const M=`${c==="modelValue"?"model":c}Modifiers`,{number:O,trim:T}=s[M]||Lt;T&&(u=o.map($=>qt($)?$.trim():$)),O&&(u=o.map(Li))}let h,g=s[h=dr(i)]||s[h=dr(Nn(i))];!g&&f&&(g=s[h=dr(Cn(i))]),g&&Se(g,e,6,u);const b=s[h+"Once"];if(b){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Se(b,e,6,u)}}function Js(e,i,o=!1){const s=i.emitsCache,u=s.get(e);if(u!==void 0)return u;const f=e.emits;let c={},h=!1;if(!mt(e)){const g=b=>{const M=Js(b,i,!0);M&&(h=!0,ne(c,M))};!o&&i.mixins.length&&i.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!f&&!h?($t(e)&&s.set(e,null),null):(ot(f)?f.forEach(g=>c[g]=null):ne(c,f),$t(e)&&s.set(e,c),c)}function qi(e,i){return!e||!Hi(i)?!1:(i=i.slice(2).replace(/Once$/,""),wt(e,i[0].toLowerCase()+i.slice(1))||wt(e,Cn(i))||wt(e,i))}let ve=null,Xi=null;function ki(e){const i=ve;return ve=e,Xi=e&&e.type.__scopeId||null,i}function bf(e){Xi=e}function Cf(){Xi=null}function wf(e,i=ve,o){if(!i||e._n)return e;const s=(...u)=>{s._d&&ns(-1);const f=ki(i);let c;try{c=e(...u)}finally{ki(f),s._d&&ns(1)}return c};return s._n=!0,s._c=!0,s._d=!0,s}function gr(e){const{type:i,vnode:o,proxy:s,withProxy:u,props:f,propsOptions:[c],slots:h,attrs:g,emit:b,render:M,renderCache:O,data:T,setupState:$,ctx:R,inheritAttrs:I}=e;let it,k;const J=ki(e);try{if(o.shapeFlag&4){const Ft=u||s,St=Ft;it=Re(M.call(St,Ft,O,f,$,T,R)),k=g}else{const Ft=i;it=Re(Ft.length>1?Ft(f,{attrs:g,slots:h,emit:b}):Ft(f,null)),k=i.props?g:Mf(g)}}catch(Ft){Qn.length=0,Ki(Ft,e,1),it=nt(vn)}let ht=it;if(k&&I!==!1){const Ft=Object.keys(k),{shapeFlag:St}=ht;Ft.length&&St&7&&(c&&Ft.some($r)&&(k=Sf(k,c)),ht=$n(ht,k))}return o.dirs&&(ht=$n(ht),ht.dirs=ht.dirs?ht.dirs.concat(o.dirs):o.dirs),o.transition&&(ht.transition=o.transition),it=ht,ki(J),it}const Mf=e=>{let i;for(const o in e)(o==="class"||o==="style"||Hi(o))&&((i||(i={}))[o]=e[o]);return i},Sf=(e,i)=>{const o={};for(const s in e)(!$r(s)||!(s.slice(9)in i))&&(o[s]=e[s]);return o};function Tf(e,i,o){const{props:s,children:u,component:f}=e,{props:c,children:h,patchFlag:g}=i,b=f.emitsOptions;if(i.dirs||i.transition)return!0;if(o&&g>=0){if(g&1024)return!0;if(g&16)return s?Ko(s,c,b):!!c;if(g&8){const M=i.dynamicProps;for(let O=0;O<M.length;O++){const T=M[O];if(c[T]!==s[T]&&!qi(b,T))return!0}}}else return(u||h)&&(!h||!h.$stable)?!0:s===c?!1:s?c?Ko(s,c,b):!0:!!c;return!1}function Ko(e,i,o){const s=Object.keys(i);if(s.length!==Object.keys(e).length)return!0;for(let u=0;u<s.length;u++){const f=s[u];if(i[f]!==e[f]&&!qi(o,f))return!0}return!1}function If({vnode:e,parent:i},o){if(o)for(;i;){const s=i.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=i.vnode).el=o,i=i.parent;else break}}const Ef=Symbol.for("v-ndc"),Pf=e=>e.__isSuspense;function Af(e,i){i&&i.pendingBranch?ot(e)?i.effects.push(...e):i.effects.push(e):yf(e)}const Bf=Symbol.for("v-scx"),Of=()=>Yn(Bf),Ti={};function Bi(e,i,o){return Zs(e,i,o)}function Zs(e,i,{immediate:o,deep:s,flush:u,once:f,onTrack:c,onTrigger:h}=Lt){if(i&&f){const ft=i;i=(...kt)=>{ft(...kt),St()}}const g=ee,b=ft=>s===!0?ft:dn(ft,s===!1?1:void 0);let M,O=!1,T=!1;if(Xt(e)?(M=()=>e.value,O=Vi(e)):tn(e)?(M=()=>b(e),O=!0):ot(e)?(T=!0,O=e.some(ft=>tn(ft)||Vi(ft)),M=()=>e.map(ft=>{if(Xt(ft))return ft.value;if(tn(ft))return b(ft);if(mt(ft))return en(ft,g,2)})):mt(e)?i?M=()=>en(e,g,2):M=()=>($&&$(),Se(e,g,3,[R])):M=xe,i&&s){const ft=M;M=()=>dn(ft())}let $,R=ft=>{$=ht.onStop=()=>{en(ft,g,4),$=ht.onStop=void 0}},I;if(Qi)if(R=xe,i?o&&Se(i,g,3,[M(),T?[]:void 0,R]):M(),u==="sync"){const ft=Of();I=ft.__watcherHandles||(ft.__watcherHandles=[])}else return xe;let it=T?new Array(e.length).fill(Ti):Ti;const k=()=>{if(!(!ht.active||!ht.dirty))if(i){const ft=ht.run();(s||O||(T?ft.some((kt,lt)=>rn(kt,it[lt])):rn(ft,it)))&&($&&$(),Se(i,g,3,[ft,it===Ti?void 0:T&&it[0]===Ti?[]:it,R]),it=ft)}else ht.run()};k.allowRecurse=!!i;let J;u==="sync"?J=k:u==="post"?J=()=>le(k,g&&g.suspense):(k.pre=!0,g&&(k.id=g.uid),J=()=>Yr(k));const ht=new Gr(M,xe,J),Ft=Ps(),St=()=>{ht.stop(),Ft&&Vr(Ft.effects,ht)};return i?o?k():it=ht.run():u==="post"?le(ht.run.bind(ht),g&&g.suspense):ht.run(),I&&I.push(St),St}function Ff(e,i,o){const s=this.proxy,u=qt(e)?e.includes(".")?Ys(s,e):()=>s[e]:e.bind(s,s);let f;mt(i)?f=i:(f=i.handler,o=i);const c=ee;Vn(this);const h=Zs(u,f.bind(s),o);return c?Vn(c):_n(),h}function Ys(e,i){const o=i.split(".");return()=>{let s=e;for(let u=0;u<o.length&&s;u++)s=s[o[u]];return s}}function dn(e,i,o=0,s){if(!$t(e)||e.__v_skip)return e;if(i&&i>0){if(o>=i)return e;o++}if(s=s||new Set,s.has(e))return e;if(s.add(e),Xt(e))dn(e.value,i,o,s);else if(ot(e))for(let u=0;u<e.length;u++)dn(e[u],i,o,s);else if(Hn(e)||Rn(e))e.forEach(u=>{dn(u,i,o,s)});else if(Cs(e))for(const u in e)dn(e[u],i,o,s);return e}function jt(e,i){const o=ve;if(o===null)return e;const s=tr(o)||o.proxy,u=e.dirs||(e.dirs=[]);for(let f=0;f<i.length;f++){let[c,h,g,b=Lt]=i[f];c&&(mt(c)&&(c={mounted:c,updated:c}),c.deep&&dn(h),u.push({dir:c,instance:s,value:h,oldValue:void 0,arg:g,modifiers:b}))}return e}function an(e,i,o,s){const u=e.dirs,f=i&&i.dirs;for(let c=0;c<u.length;c++){const h=u[c];f&&(h.oldValue=f[c].value);let g=h.dir[s];g&&(wn(),Se(g,o,8,[e.el,h,e,i]),Mn())}}const Oi=e=>!!e.type.__asyncLoader,Qs=e=>e.type.__isKeepAlive;function Rf(e,i){tu(e,"a",i)}function Df(e,i){tu(e,"da",i)}function tu(e,i,o=ee){const s=e.__wdc||(e.__wdc=()=>{let u=o;for(;u;){if(u.isDeactivated)return;u=u.parent}return e()});if(Ji(i,s,o),o){let u=o.parent;for(;u&&u.parent;)Qs(u.parent.vnode)&&Nf(s,i,o,u),u=u.parent}}function Nf(e,i,o,s){const u=Ji(i,e,s,!0);iu(()=>{Vr(s[i],u)},o)}function Ji(e,i,o=ee,s=!1){if(o){const u=o[e]||(o[e]=[]),f=i.__weh||(i.__weh=(...c)=>{if(o.isUnmounted)return;wn(),Vn(o);const h=Se(i,o,e,c);return _n(),Mn(),h});return s?u.unshift(f):u.push(f),f}}const Ue=e=>(i,o=ee)=>(!Qi||e==="sp")&&Ji(e,(...s)=>i(...s),o),eu=Ue("bm"),Qr=Ue("m"),Lf=Ue("bu"),$f=Ue("u"),nu=Ue("bum"),iu=Ue("um"),Vf=Ue("sp"),kf=Ue("rtg"),Uf=Ue("rtc");function Hf(e,i=ee){Ji("ec",e,i)}function Gt(e,i,o,s){let u;const f=o&&o[s];if(ot(e)||qt(e)){u=new Array(e.length);for(let c=0,h=e.length;c<h;c++)u[c]=i(e[c],c,void 0,f&&f[c])}else if(typeof e=="number"){u=new Array(e);for(let c=0;c<e;c++)u[c]=i(c+1,c,void 0,f&&f[c])}else if($t(e))if(e[Symbol.iterator])u=Array.from(e,(c,h)=>i(c,h,void 0,f&&f[h]));else{const c=Object.keys(e);u=new Array(c.length);for(let h=0,g=c.length;h<g;h++){const b=c[h];u[h]=i(e[b],b,h,f&&f[h])}}else u=[];return o&&(o[s]=u),u}const Ir=e=>e?gu(e)?tr(e)||e.proxy:Ir(e.parent):null,Zn=ne(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ir(e.parent),$root:e=>Ir(e.root),$emit:e=>e.emit,$options:e=>to(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Yr(e.update)}),$nextTick:e=>e.n||(e.n=Zr.bind(e.proxy)),$watch:e=>Ff.bind(e)}),mr=(e,i)=>e!==Lt&&!e.__isScriptSetup&&wt(e,i),Gf={get({_:e},i){const{ctx:o,setupState:s,data:u,props:f,accessCache:c,type:h,appContext:g}=e;let b;if(i[0]!=="$"){const $=c[i];if($!==void 0)switch($){case 1:return s[i];case 2:return u[i];case 4:return o[i];case 3:return f[i]}else{if(mr(s,i))return c[i]=1,s[i];if(u!==Lt&&wt(u,i))return c[i]=2,u[i];if((b=e.propsOptions[0])&&wt(b,i))return c[i]=3,f[i];if(o!==Lt&&wt(o,i))return c[i]=4,o[i];Er&&(c[i]=0)}}const M=Zn[i];let O,T;if(M)return i==="$attrs"&&fe(e,"get",i),M(e);if((O=h.__cssModules)&&(O=O[i]))return O;if(o!==Lt&&wt(o,i))return c[i]=4,o[i];if(T=g.config.globalProperties,wt(T,i))return T[i]},set({_:e},i,o){const{data:s,setupState:u,ctx:f}=e;return mr(u,i)?(u[i]=o,!0):s!==Lt&&wt(s,i)?(s[i]=o,!0):wt(e.props,i)||i[0]==="$"&&i.slice(1)in e?!1:(f[i]=o,!0)},has({_:{data:e,setupState:i,accessCache:o,ctx:s,appContext:u,propsOptions:f}},c){let h;return!!o[c]||e!==Lt&&wt(e,c)||mr(i,c)||(h=f[0])&&wt(h,c)||wt(s,c)||wt(Zn,c)||wt(u.config.globalProperties,c)},defineProperty(e,i,o){return o.get!=null?e._.accessCache[i]=0:wt(o,"value")&&this.set(e,i,o.value,null),Reflect.defineProperty(e,i,o)}};function qo(e){return ot(e)?e.reduce((i,o)=>(i[o]=null,i),{}):e}let Er=!0;function jf(e){const i=to(e),o=e.proxy,s=e.ctx;Er=!1,i.beforeCreate&&Xo(i.beforeCreate,e,"bc");const{data:u,computed:f,methods:c,watch:h,provide:g,inject:b,created:M,beforeMount:O,mounted:T,beforeUpdate:$,updated:R,activated:I,deactivated:it,beforeDestroy:k,beforeUnmount:J,destroyed:ht,unmounted:Ft,render:St,renderTracked:ft,renderTriggered:kt,errorCaptured:lt,serverPrefetch:dt,expose:at,inheritAttrs:pt,components:Ut,directives:ue,filters:ae}=i;if(b&&Wf(b,s,null),c)for(const Pt in c){const A=c[Pt];mt(A)&&(s[Pt]=A.bind(o))}if(u){const Pt=u.call(o,o);$t(Pt)&&(e.data=Wi(Pt))}if(Er=!0,f)for(const Pt in f){const A=f[Pt],F=mt(A)?A.bind(o,o):mt(A.get)?A.get.bind(o,o):xe,U=!mt(A)&&mt(A.set)?A.set.bind(o):xe,_t=_u({get:F,set:U});Object.defineProperty(s,Pt,{enumerable:!0,configurable:!0,get:()=>_t.value,set:vt=>_t.value=vt})}if(h)for(const Pt in h)ru(h[Pt],s,o,Pt);if(g){const Pt=mt(g)?g.call(o):g;Reflect.ownKeys(Pt).forEach(A=>{Zf(A,Pt[A])})}M&&Xo(M,e,"c");function Ct(Pt,A){ot(A)?A.forEach(F=>Pt(F.bind(o))):A&&Pt(A.bind(o))}if(Ct(eu,O),Ct(Qr,T),Ct(Lf,$),Ct($f,R),Ct(Rf,I),Ct(Df,it),Ct(Hf,lt),Ct(Uf,ft),Ct(kf,kt),Ct(nu,J),Ct(iu,Ft),Ct(Vf,dt),ot(at))if(at.length){const Pt=e.exposed||(e.exposed={});at.forEach(A=>{Object.defineProperty(Pt,A,{get:()=>o[A],set:F=>o[A]=F})})}else e.exposed||(e.exposed={});St&&e.render===xe&&(e.render=St),pt!=null&&(e.inheritAttrs=pt),Ut&&(e.components=Ut),ue&&(e.directives=ue)}function Wf(e,i,o=xe){ot(e)&&(e=Pr(e));for(const s in e){const u=e[s];let f;$t(u)?"default"in u?f=Yn(u.from||s,u.default,!0):f=Yn(u.from||s):f=Yn(u),Xt(f)?Object.defineProperty(i,s,{enumerable:!0,configurable:!0,get:()=>f.value,set:c=>f.value=c}):i[s]=f}}function Xo(e,i,o){Se(ot(e)?e.map(s=>s.bind(i.proxy)):e.bind(i.proxy),i,o)}function ru(e,i,o,s){const u=s.includes(".")?Ys(o,s):()=>o[s];if(qt(e)){const f=i[e];mt(f)&&Bi(u,f)}else if(mt(e))Bi(u,e.bind(o));else if($t(e))if(ot(e))e.forEach(f=>ru(f,i,o,s));else{const f=mt(e.handler)?e.handler.bind(o):i[e.handler];mt(f)&&Bi(u,f,e)}}function to(e){const i=e.type,{mixins:o,extends:s}=i,{mixins:u,optionsCache:f,config:{optionMergeStrategies:c}}=e.appContext,h=f.get(i);let g;return h?g=h:!u.length&&!o&&!s?g=i:(g={},u.length&&u.forEach(b=>Ui(g,b,c,!0)),Ui(g,i,c)),$t(i)&&f.set(i,g),g}function Ui(e,i,o,s=!1){const{mixins:u,extends:f}=i;f&&Ui(e,f,o,!0),u&&u.forEach(c=>Ui(e,c,o,!0));for(const c in i)if(!(s&&c==="expose")){const h=zf[c]||o&&o[c];e[c]=h?h(e[c],i[c]):i[c]}return e}const zf={data:Jo,props:Zo,emits:Zo,methods:Jn,computed:Jn,beforeCreate:se,created:se,beforeMount:se,mounted:se,beforeUpdate:se,updated:se,beforeDestroy:se,beforeUnmount:se,destroyed:se,unmounted:se,activated:se,deactivated:se,errorCaptured:se,serverPrefetch:se,components:Jn,directives:Jn,watch:qf,provide:Jo,inject:Kf};function Jo(e,i){return i?e?function(){return ne(mt(e)?e.call(this,this):e,mt(i)?i.call(this,this):i)}:i:e}function Kf(e,i){return Jn(Pr(e),Pr(i))}function Pr(e){if(ot(e)){const i={};for(let o=0;o<e.length;o++)i[e[o]]=e[o];return i}return e}function se(e,i){return e?[...new Set([].concat(e,i))]:i}function Jn(e,i){return e?ne(Object.create(null),e,i):i}function Zo(e,i){return e?ot(e)&&ot(i)?[...new Set([...e,...i])]:ne(Object.create(null),qo(e),qo(i??{})):i}function qf(e,i){if(!e)return i;if(!i)return e;const o=ne(Object.create(null),e);for(const s in i)o[s]=se(e[s],i[s]);return o}function ou(){return{app:null,config:{isNativeTag:Tl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xf=0;function Jf(e,i){return function(s,u=null){mt(s)||(s=ne({},s)),u!=null&&!$t(u)&&(u=null);const f=ou(),c=new WeakSet;let h=!1;const g=f.app={_uid:Xf++,_component:s,_props:u,_container:null,_context:f,_instance:null,version:wa,get config(){return f.config},set config(b){},use(b,...M){return c.has(b)||(b&&mt(b.install)?(c.add(b),b.install(g,...M)):mt(b)&&(c.add(b),b(g,...M))),g},mixin(b){return f.mixins.includes(b)||f.mixins.push(b),g},component(b,M){return M?(f.components[b]=M,g):f.components[b]},directive(b,M){return M?(f.directives[b]=M,g):f.directives[b]},mount(b,M,O){if(!h){const T=nt(s,u);return T.appContext=f,O===!0?O="svg":O===!1&&(O=void 0),M&&i?i(T,b):e(T,b,O),h=!0,g._container=b,b.__vue_app__=g,tr(T.component)||T.component.proxy}},unmount(){h&&(e(null,g._container),delete g._container.__vue_app__)},provide(b,M){return f.provides[b]=M,g},runWithContext(b){ri=g;try{return b()}finally{ri=null}}};return g}}let ri=null;function Zf(e,i){if(ee){let o=ee.provides;const s=ee.parent&&ee.parent.provides;s===o&&(o=ee.provides=Object.create(s)),o[e]=i}}function Yn(e,i,o=!1){const s=ee||ve;if(s||ri){const u=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:ri._context.provides;if(u&&e in u)return u[e];if(arguments.length>1)return o&&mt(i)?i.call(s&&s.proxy):i}}function Yf(){return!!(ee||ve||ri)}function Qf(e,i,o,s=!1){const u={},f={};Ni(f,Yi,1),e.propsDefaults=Object.create(null),su(e,i,u,f);for(const c in e.propsOptions[0])c in u||(u[c]=void 0);o?e.props=s?u:uf(u):e.type.props?e.props=u:e.props=f,e.attrs=f}function ta(e,i,o,s){const{props:u,attrs:f,vnode:{patchFlag:c}}=e,h=Mt(u),[g]=e.propsOptions;let b=!1;if((s||c>0)&&!(c&16)){if(c&8){const M=e.vnode.dynamicProps;for(let O=0;O<M.length;O++){let T=M[O];if(qi(e.emitsOptions,T))continue;const $=i[T];if(g)if(wt(f,T))$!==f[T]&&(f[T]=$,b=!0);else{const R=Nn(T);u[R]=Ar(g,h,R,$,e,!1)}else $!==f[T]&&(f[T]=$,b=!0)}}}else{su(e,i,u,f)&&(b=!0);let M;for(const O in h)(!i||!wt(i,O)&&((M=Cn(O))===O||!wt(i,M)))&&(g?o&&(o[O]!==void 0||o[M]!==void 0)&&(u[O]=Ar(g,h,O,void 0,e,!0)):delete u[O]);if(f!==h)for(const O in f)(!i||!wt(i,O))&&(delete f[O],b=!0)}b&&ke(e,"set","$attrs")}function su(e,i,o,s){const[u,f]=e.propsOptions;let c=!1,h;if(i)for(let g in i){if(Pi(g))continue;const b=i[g];let M;u&&wt(u,M=Nn(g))?!f||!f.includes(M)?o[M]=b:(h||(h={}))[M]=b:qi(e.emitsOptions,g)||(!(g in s)||b!==s[g])&&(s[g]=b,c=!0)}if(f){const g=Mt(o),b=h||Lt;for(let M=0;M<f.length;M++){const O=f[M];o[O]=Ar(u,g,O,b[O],e,!wt(b,O))}}return c}function Ar(e,i,o,s,u,f){const c=e[o];if(c!=null){const h=wt(c,"default");if(h&&s===void 0){const g=c.default;if(c.type!==Function&&!c.skipFactory&&mt(g)){const{propsDefaults:b}=u;o in b?s=b[o]:(Vn(u),s=b[o]=g.call(null,i),_n())}else s=g}c[0]&&(f&&!h?s=!1:c[1]&&(s===""||s===Cn(o))&&(s=!0))}return s}function uu(e,i,o=!1){const s=i.propsCache,u=s.get(e);if(u)return u;const f=e.props,c={},h=[];let g=!1;if(!mt(e)){const M=O=>{g=!0;const[T,$]=uu(O,i,!0);ne(c,T),$&&h.push(...$)};!o&&i.mixins.length&&i.mixins.forEach(M),e.extends&&M(e.extends),e.mixins&&e.mixins.forEach(M)}if(!f&&!g)return $t(e)&&s.set(e,Fn),Fn;if(ot(f))for(let M=0;M<f.length;M++){const O=Nn(f[M]);Yo(O)&&(c[O]=Lt)}else if(f)for(const M in f){const O=Nn(M);if(Yo(O)){const T=f[M],$=c[O]=ot(T)||mt(T)?{type:T}:ne({},T);if($){const R=es(Boolean,$.type),I=es(String,$.type);$[0]=R>-1,$[1]=I<0||R<I,(R>-1||wt($,"default"))&&h.push(O)}}}const b=[c,h];return $t(e)&&s.set(e,b),b}function Yo(e){return e[0]!=="$"}function Qo(e){const i=e&&e.toString().match(/^\s*(function|class) (\w+)/);return i?i[2]:e===null?"null":""}function ts(e,i){return Qo(e)===Qo(i)}function es(e,i){return ot(i)?i.findIndex(o=>ts(o,e)):mt(i)&&ts(i,e)?0:-1}const lu=e=>e[0]==="_"||e==="$stable",eo=e=>ot(e)?e.map(Re):[Re(e)],ea=(e,i,o)=>{if(i._n)return i;const s=wf((...u)=>eo(i(...u)),o);return s._c=!1,s},fu=(e,i,o)=>{const s=e._ctx;for(const u in e){if(lu(u))continue;const f=e[u];if(mt(f))i[u]=ea(u,f,s);else if(f!=null){const c=eo(f);i[u]=()=>c}}},au=(e,i)=>{const o=eo(i);e.slots.default=()=>o},na=(e,i)=>{if(e.vnode.shapeFlag&32){const o=i._;o?(e.slots=Mt(i),Ni(i,"_",o)):fu(i,e.slots={})}else e.slots={},i&&au(e,i);Ni(e.slots,Yi,1)},ia=(e,i,o)=>{const{vnode:s,slots:u}=e;let f=!0,c=Lt;if(s.shapeFlag&32){const h=i._;h?o&&h===1?f=!1:(ne(u,i),!o&&h===1&&delete u._):(f=!i.$stable,fu(i,u)),c=i}else i&&(au(e,i),c={default:1});if(f)for(const h in u)!lu(h)&&c[h]==null&&delete u[h]};function Br(e,i,o,s,u=!1){if(ot(e)){e.forEach((T,$)=>Br(T,i&&(ot(i)?i[$]:i),o,s,u));return}if(Oi(s)&&!u)return;const f=s.shapeFlag&4?tr(s.component)||s.component.proxy:s.el,c=u?null:f,{i:h,r:g}=e,b=i&&i.r,M=h.refs===Lt?h.refs={}:h.refs,O=h.setupState;if(b!=null&&b!==g&&(qt(b)?(M[b]=null,wt(O,b)&&(O[b]=null)):Xt(b)&&(b.value=null)),mt(g))en(g,h,12,[c,M]);else{const T=qt(g),$=Xt(g);if(T||$){const R=()=>{if(e.f){const I=T?wt(O,g)?O[g]:M[g]:g.value;u?ot(I)&&Vr(I,f):ot(I)?I.includes(f)||I.push(f):T?(M[g]=[f],wt(O,g)&&(O[g]=M[g])):(g.value=[f],e.k&&(M[e.k]=g.value))}else T?(M[g]=c,wt(O,g)&&(O[g]=c)):$&&(g.value=c,e.k&&(M[e.k]=c))};c?(R.id=-1,le(R,o)):R()}}}const le=Af;function ra(e){return oa(e)}function oa(e,i){const o=Ms();o.__VUE__=!0;const{insert:s,remove:u,patchProp:f,createElement:c,createText:h,createComment:g,setText:b,setElementText:M,parentNode:O,nextSibling:T,setScopeId:$=xe,insertStaticContent:R}=e,I=(y,v,w,B=null,P=null,G=null,q=void 0,H=null,W=!!v.dynamicChildren)=>{if(y===v)return;y&&!qn(y,v)&&(B=sn(y),vt(y,P,G,!0),y=null),v.patchFlag===-2&&(W=!1,v.dynamicChildren=null);const{type:N,ref:E,shapeFlag:d}=v;switch(N){case Zi:it(y,v,w,B);break;case vn:k(y,v,w,B);break;case Fi:y==null&&J(v,w,B,q);break;case gt:Ut(y,v,w,B,P,G,q,H,W);break;default:d&1?St(y,v,w,B,P,G,q,H,W):d&6?ue(y,v,w,B,P,G,q,H,W):(d&64||d&128)&&N.process(y,v,w,B,P,G,q,H,W,He)}E!=null&&P&&Br(E,y&&y.ref,G,v||y,!v)},it=(y,v,w,B)=>{if(y==null)s(v.el=h(v.children),w,B);else{const P=v.el=y.el;v.children!==y.children&&b(P,v.children)}},k=(y,v,w,B)=>{y==null?s(v.el=g(v.children||""),w,B):v.el=y.el},J=(y,v,w,B)=>{[y.el,y.anchor]=R(y.children,v,w,B,y.el,y.anchor)},ht=({el:y,anchor:v},w,B)=>{let P;for(;y&&y!==v;)P=T(y),s(y,w,B),y=P;s(v,w,B)},Ft=({el:y,anchor:v})=>{let w;for(;y&&y!==v;)w=T(y),u(y),y=w;u(v)},St=(y,v,w,B,P,G,q,H,W)=>{v.type==="svg"?q="svg":v.type==="math"&&(q="mathml"),y==null?ft(v,w,B,P,G,q,H,W):dt(y,v,P,G,q,H,W)},ft=(y,v,w,B,P,G,q,H)=>{let W,N;const{props:E,shapeFlag:d,transition:Y,dirs:ct}=y;if(W=y.el=c(y.type,G,E&&E.is,E),d&8?M(W,y.children):d&16&&lt(y.children,W,null,B,P,_r(y,G),q,H),ct&&an(y,null,B,"created"),kt(W,y,y.scopeId,q,B),E){for(const Tt in E)Tt!=="value"&&!Pi(Tt)&&f(W,Tt,null,E[Tt],G,y.children,B,P,ut);"value"in E&&f(W,"value",null,E.value,G),(N=E.onVnodeBeforeMount)&&Fe(N,B,y)}ct&&an(y,null,B,"beforeMount");const yt=sa(P,Y);yt&&Y.beforeEnter(W),s(W,v,w),((N=E&&E.onVnodeMounted)||yt||ct)&&le(()=>{N&&Fe(N,B,y),yt&&Y.enter(W),ct&&an(y,null,B,"mounted")},P)},kt=(y,v,w,B,P)=>{if(w&&$(y,w),B)for(let G=0;G<B.length;G++)$(y,B[G]);if(P){let G=P.subTree;if(v===G){const q=P.vnode;kt(y,q,q.scopeId,q.slotScopeIds,P.parent)}}},lt=(y,v,w,B,P,G,q,H,W=0)=>{for(let N=W;N<y.length;N++){const E=y[N]=H?Ze(y[N]):Re(y[N]);I(null,E,v,w,B,P,G,q,H)}},dt=(y,v,w,B,P,G,q)=>{const H=v.el=y.el;let{patchFlag:W,dynamicChildren:N,dirs:E}=v;W|=y.patchFlag&16;const d=y.props||Lt,Y=v.props||Lt;let ct;if(w&&cn(w,!1),(ct=Y.onVnodeBeforeUpdate)&&Fe(ct,w,v,y),E&&an(v,y,w,"beforeUpdate"),w&&cn(w,!0),N?at(y.dynamicChildren,N,H,w,B,_r(v,P),G):q||A(y,v,H,null,w,B,_r(v,P),G,!1),W>0){if(W&16)pt(H,v,d,Y,w,B,P);else if(W&2&&d.class!==Y.class&&f(H,"class",null,Y.class,P),W&4&&f(H,"style",d.style,Y.style,P),W&8){const yt=v.dynamicProps;for(let Tt=0;Tt<yt.length;Tt++){const It=yt[Tt],Ht=d[It],he=Y[It];(he!==Ht||It==="value")&&f(H,It,Ht,he,P,y.children,w,B,ut)}}W&1&&y.children!==v.children&&M(H,v.children)}else!q&&N==null&&pt(H,v,d,Y,w,B,P);((ct=Y.onVnodeUpdated)||E)&&le(()=>{ct&&Fe(ct,w,v,y),E&&an(v,y,w,"updated")},B)},at=(y,v,w,B,P,G,q)=>{for(let H=0;H<v.length;H++){const W=y[H],N=v[H],E=W.el&&(W.type===gt||!qn(W,N)||W.shapeFlag&70)?O(W.el):w;I(W,N,E,null,B,P,G,q,!0)}},pt=(y,v,w,B,P,G,q)=>{if(w!==B){if(w!==Lt)for(const H in w)!Pi(H)&&!(H in B)&&f(y,H,w[H],null,q,v.children,P,G,ut);for(const H in B){if(Pi(H))continue;const W=B[H],N=w[H];W!==N&&H!=="value"&&f(y,H,N,W,q,v.children,P,G,ut)}"value"in B&&f(y,"value",w.value,B.value,q)}},Ut=(y,v,w,B,P,G,q,H,W)=>{const N=v.el=y?y.el:h(""),E=v.anchor=y?y.anchor:h("");let{patchFlag:d,dynamicChildren:Y,slotScopeIds:ct}=v;ct&&(H=H?H.concat(ct):ct),y==null?(s(N,w,B),s(E,w,B),lt(v.children,w,E,P,G,q,H,W)):d>0&&d&64&&Y&&y.dynamicChildren?(at(y.dynamicChildren,Y,w,P,G,q,H),(v.key!=null||P&&v===P.subTree)&&cu(y,v,!0)):A(y,v,w,E,P,G,q,H,W)},ue=(y,v,w,B,P,G,q,H,W)=>{v.slotScopeIds=H,y==null?v.shapeFlag&512?P.ctx.activate(v,w,B,q,W):ae(v,w,B,P,G,q,W):ce(y,v,W)},ae=(y,v,w,B,P,G,q)=>{const H=y.component=_a(y,B,P);if(Qs(y)&&(H.ctx.renderer=He),ya(H),H.asyncDep){if(P&&P.registerDep(H,Ct),!y.el){const W=H.subTree=nt(vn);k(null,W,v,w)}}else Ct(H,y,v,w,P,G,q)},ce=(y,v,w)=>{const B=v.component=y.component;if(Tf(y,v,w))if(B.asyncDep&&!B.asyncResolved){Pt(B,v,w);return}else B.next=v,_f(B.update),B.effect.dirty=!0,B.update();else v.el=y.el,B.vnode=v},Ct=(y,v,w,B,P,G,q)=>{const H=()=>{if(y.isMounted){let{next:E,bu:d,u:Y,parent:ct,vnode:yt}=y;{const Ge=hu(y);if(Ge){E&&(E.el=yt.el,Pt(y,E,q)),Ge.asyncDep.then(()=>{y.isUnmounted||H()});return}}let Tt=E,It;cn(y,!1),E?(E.el=yt.el,Pt(y,E,q)):E=yt,d&&Ai(d),(It=E.props&&E.props.onVnodeBeforeUpdate)&&Fe(It,ct,E,yt),cn(y,!0);const Ht=gr(y),he=y.subTree;y.subTree=Ht,I(he,Ht,O(he.el),sn(he),y,P,G),E.el=Ht.el,Tt===null&&If(y,Ht.el),Y&&le(Y,P),(It=E.props&&E.props.onVnodeUpdated)&&le(()=>Fe(It,ct,E,yt),P)}else{let E;const{el:d,props:Y}=v,{bm:ct,m:yt,parent:Tt}=y,It=Oi(v);if(cn(y,!1),ct&&Ai(ct),!It&&(E=Y&&Y.onVnodeBeforeMount)&&Fe(E,Tt,v),cn(y,!0),d&&Gn){const Ht=()=>{y.subTree=gr(y),Gn(d,y.subTree,y,P,null)};It?v.type.__asyncLoader().then(()=>!y.isUnmounted&&Ht()):Ht()}else{const Ht=y.subTree=gr(y);I(null,Ht,w,B,y,P,G),v.el=Ht.el}if(yt&&le(yt,P),!It&&(E=Y&&Y.onVnodeMounted)){const Ht=v;le(()=>Fe(E,Tt,Ht),P)}(v.shapeFlag&256||Tt&&Oi(Tt.vnode)&&Tt.vnode.shapeFlag&256)&&y.a&&le(y.a,P),y.isMounted=!0,v=w=B=null}},W=y.effect=new Gr(H,xe,()=>Yr(N),y.scope),N=y.update=()=>{W.dirty&&W.run()};N.id=y.uid,cn(y,!0),N()},Pt=(y,v,w)=>{v.component=y;const B=y.vnode.props;y.vnode=v,y.next=null,ta(y,v.props,B,w),ia(y,v.children,w),wn(),zo(y),Mn()},A=(y,v,w,B,P,G,q,H,W=!1)=>{const N=y&&y.children,E=y?y.shapeFlag:0,d=v.children,{patchFlag:Y,shapeFlag:ct}=v;if(Y>0){if(Y&128){U(N,d,w,B,P,G,q,H,W);return}else if(Y&256){F(N,d,w,B,P,G,q,H,W);return}}ct&8?(E&16&&ut(N,P,G),d!==N&&M(w,d)):E&16?ct&16?U(N,d,w,B,P,G,q,H,W):ut(N,P,G,!0):(E&8&&M(w,""),ct&16&&lt(d,w,B,P,G,q,H,W))},F=(y,v,w,B,P,G,q,H,W)=>{y=y||Fn,v=v||Fn;const N=y.length,E=v.length,d=Math.min(N,E);let Y;for(Y=0;Y<d;Y++){const ct=v[Y]=W?Ze(v[Y]):Re(v[Y]);I(y[Y],ct,w,null,P,G,q,H,W)}N>E?ut(y,P,G,!0,!1,d):lt(v,w,B,P,G,q,H,W,d)},U=(y,v,w,B,P,G,q,H,W)=>{let N=0;const E=v.length;let d=y.length-1,Y=E-1;for(;N<=d&&N<=Y;){const ct=y[N],yt=v[N]=W?Ze(v[N]):Re(v[N]);if(qn(ct,yt))I(ct,yt,w,null,P,G,q,H,W);else break;N++}for(;N<=d&&N<=Y;){const ct=y[d],yt=v[Y]=W?Ze(v[Y]):Re(v[Y]);if(qn(ct,yt))I(ct,yt,w,null,P,G,q,H,W);else break;d--,Y--}if(N>d){if(N<=Y){const ct=Y+1,yt=ct<E?v[ct].el:B;for(;N<=Y;)I(null,v[N]=W?Ze(v[N]):Re(v[N]),w,yt,P,G,q,H,W),N++}}else if(N>Y)for(;N<=d;)vt(y[N],P,G,!0),N++;else{const ct=N,yt=N,Tt=new Map;for(N=yt;N<=Y;N++){const re=v[N]=W?Ze(v[N]):Re(v[N]);re.key!=null&&Tt.set(re.key,N)}let It,Ht=0;const he=Y-yt+1;let Ge=!1,li=0;const un=new Array(he);for(N=0;N<he;N++)un[N]=0;for(N=ct;N<=d;N++){const re=y[N];if(Ht>=he){vt(re,P,G,!0);continue}let ge;if(re.key!=null)ge=Tt.get(re.key);else for(It=yt;It<=Y;It++)if(un[It-yt]===0&&qn(re,v[It])){ge=It;break}ge===void 0?vt(re,P,G,!0):(un[ge-yt]=N+1,ge>=li?li=ge:Ge=!0,I(re,v[ge],w,null,P,G,q,H,W),Ht++)}const fi=Ge?ua(un):Fn;for(It=fi.length-1,N=he-1;N>=0;N--){const re=yt+N,ge=v[re],ai=re+1<E?v[re+1].el:B;un[N]===0?I(null,ge,w,ai,P,G,q,H,W):Ge&&(It<0||N!==fi[It]?_t(ge,w,ai,2):It--)}}},_t=(y,v,w,B,P=null)=>{const{el:G,type:q,transition:H,children:W,shapeFlag:N}=y;if(N&6){_t(y.component.subTree,v,w,B);return}if(N&128){y.suspense.move(v,w,B);return}if(N&64){q.move(y,v,w,He);return}if(q===gt){s(G,v,w);for(let d=0;d<W.length;d++)_t(W[d],v,w,B);s(y.anchor,v,w);return}if(q===Fi){ht(y,v,w);return}if(B!==2&&N&1&&H)if(B===0)H.beforeEnter(G),s(G,v,w),le(()=>H.enter(G),P);else{const{leave:d,delayLeave:Y,afterLeave:ct}=H,yt=()=>s(G,v,w),Tt=()=>{d(G,()=>{yt(),ct&&ct()})};Y?Y(G,yt,Tt):Tt()}else s(G,v,w)},vt=(y,v,w,B=!1,P=!1)=>{const{type:G,props:q,ref:H,children:W,dynamicChildren:N,shapeFlag:E,patchFlag:d,dirs:Y}=y;if(H!=null&&Br(H,null,w,y,!0),E&256){v.ctx.deactivate(y);return}const ct=E&1&&Y,yt=!Oi(y);let Tt;if(yt&&(Tt=q&&q.onVnodeBeforeUnmount)&&Fe(Tt,v,y),E&6)Te(y.component,w,B);else{if(E&128){y.suspense.unmount(w,B);return}ct&&an(y,null,v,"beforeUnmount"),E&64?y.type.remove(y,v,w,P,He,B):N&&(G!==gt||d>0&&d&64)?ut(N,v,w,!1,!0):(G===gt&&d&384||!P&&E&16)&&ut(W,v,w),B&&Et(y)}(yt&&(Tt=q&&q.onVnodeUnmounted)||ct)&&le(()=>{Tt&&Fe(Tt,v,y),ct&&an(y,null,v,"unmounted")},w)},Et=y=>{const{type:v,el:w,anchor:B,transition:P}=y;if(v===gt){Kt(w,B);return}if(v===Fi){Ft(y);return}const G=()=>{u(w),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(y.shapeFlag&1&&P&&!P.persisted){const{leave:q,delayLeave:H}=P,W=()=>q(w,G);H?H(y.el,G,W):W()}else G()},Kt=(y,v)=>{let w;for(;y!==v;)w=T(y),u(y),y=w;u(v)},Te=(y,v,w)=>{const{bum:B,scope:P,update:G,subTree:q,um:H}=y;B&&Ai(B),P.stop(),G&&(G.active=!1,vt(q,y,v,w)),H&&le(H,v),le(()=>{y.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},ut=(y,v,w,B=!1,P=!1,G=0)=>{for(let q=G;q<y.length;q++)vt(y[q],v,w,B,P)},sn=y=>y.shapeFlag&6?sn(y.component.subTree):y.shapeFlag&128?y.suspense.next():T(y.anchor||y.el),Tn=(y,v,w)=>{y==null?v._vnode&&vt(v._vnode,null,null,!0):I(v._vnode||null,y,v,null,null,null,w),zo(),qs(),v._vnode=y},He={p:I,um:vt,m:_t,r:Et,mt:ae,mc:lt,pc:A,pbc:at,n:sn,o:e};let In,Gn;return i&&([In,Gn]=i(He)),{render:Tn,hydrate:In,createApp:Jf(Tn,In)}}function _r({type:e,props:i},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:o}function cn({effect:e,update:i},o){e.allowRecurse=i.allowRecurse=o}function sa(e,i){return(!e||e&&!e.pendingBranch)&&i&&!i.persisted}function cu(e,i,o=!1){const s=e.children,u=i.children;if(ot(s)&&ot(u))for(let f=0;f<s.length;f++){const c=s[f];let h=u[f];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=u[f]=Ze(u[f]),h.el=c.el),o||cu(c,h)),h.type===Zi&&(h.el=c.el)}}function ua(e){const i=e.slice(),o=[0];let s,u,f,c,h;const g=e.length;for(s=0;s<g;s++){const b=e[s];if(b!==0){if(u=o[o.length-1],e[u]<b){i[s]=u,o.push(s);continue}for(f=0,c=o.length-1;f<c;)h=f+c>>1,e[o[h]]<b?f=h+1:c=h;b<e[o[f]]&&(f>0&&(i[s]=o[f-1]),o[f]=s)}}for(f=o.length,c=o[f-1];f-- >0;)o[f]=c,c=i[c];return o}function hu(e){const i=e.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:hu(i)}const la=e=>e.__isTeleport,gt=Symbol.for("v-fgt"),Zi=Symbol.for("v-txt"),vn=Symbol.for("v-cmt"),Fi=Symbol.for("v-stc"),Qn=[];let Me=null;function D(e=!1){Qn.push(Me=e?null:[])}function fa(){Qn.pop(),Me=Qn[Qn.length-1]||null}let oi=1;function ns(e){oi+=e}function du(e){return e.dynamicChildren=oi>0?Me||Fn:null,fa(),oi>0&&Me&&Me.push(e),e}function V(e,i,o,s,u,f){return du(x(e,i,o,s,u,f,!0))}function pn(e,i,o,s,u){return du(nt(e,i,o,s,u,!0))}function aa(e){return e?e.__v_isVNode===!0:!1}function qn(e,i){return e.type===i.type&&e.key===i.key}const Yi="__vInternal",pu=({key:e})=>e??null,Ri=({ref:e,ref_key:i,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?qt(e)||Xt(e)||mt(e)?{i:ve,r:e,k:i,f:!!o}:e:null);function x(e,i=null,o=null,s=0,u=null,f=e===gt?0:1,c=!1,h=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:i,key:i&&pu(i),ref:i&&Ri(i),scopeId:Xi,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:s,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:ve};return h?(no(g,o),f&128&&e.normalize(g)):o&&(g.shapeFlag|=qt(o)?8:16),oi>0&&!c&&Me&&(g.patchFlag>0||f&6)&&g.patchFlag!==32&&Me.push(g),g}const nt=ca;function ca(e,i=null,o=null,s=0,u=null,f=!1){if((!e||e===Ef)&&(e=vn),aa(e)){const h=$n(e,i,!0);return o&&no(h,o),oi>0&&!f&&Me&&(h.shapeFlag&6?Me[Me.indexOf(e)]=h:Me.push(h)),h.patchFlag|=-2,h}if(Ca(e)&&(e=e.__vccOpts),i){i=ha(i);let{class:h,style:g}=i;h&&!qt(h)&&(i.class=ie(h)),$t(g)&&(Hs(g)&&!ot(g)&&(g=ne({},g)),i.style=Ur(g))}const c=qt(e)?1:Pf(e)?128:la(e)?64:$t(e)?4:mt(e)?2:0;return x(e,i,o,s,u,c,f,!0)}function ha(e){return e?Hs(e)||Yi in e?ne({},e):e:null}function $n(e,i,o=!1){const{props:s,ref:u,patchFlag:f,children:c}=e,h=i?pa(s||{},i):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&pu(h),ref:i&&i.ref?o&&u?ot(u)?u.concat(Ri(i)):[u,Ri(i)]:Ri(i):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:i&&e.type!==gt?f===-1?16:f|16:f,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$n(e.ssContent),ssFallback:e.ssFallback&&$n(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function rt(e=" ",i=0){return nt(Zi,null,e,i)}function da(e,i){const o=nt(Fi,null,e);return o.staticCount=i,o}function st(e="",i=!1){return i?(D(),pn(vn,null,e)):nt(vn,null,e)}function Re(e){return e==null||typeof e=="boolean"?nt(vn):ot(e)?nt(gt,null,e.slice()):typeof e=="object"?Ze(e):nt(Zi,null,String(e))}function Ze(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$n(e)}function no(e,i){let o=0;const{shapeFlag:s}=e;if(i==null)i=null;else if(ot(i))o=16;else if(typeof i=="object")if(s&65){const u=i.default;u&&(u._c&&(u._d=!1),no(e,u()),u._c&&(u._d=!0));return}else{o=32;const u=i._;!u&&!(Yi in i)?i._ctx=ve:u===3&&ve&&(ve.slots._===1?i._=1:(i._=2,e.patchFlag|=1024))}else mt(i)?(i={default:i,_ctx:ve},o=32):(i=String(i),s&64?(o=16,i=[rt(i)]):o=8);e.children=i,e.shapeFlag|=o}function pa(...e){const i={};for(let o=0;o<e.length;o++){const s=e[o];for(const u in s)if(u==="class")i.class!==s.class&&(i.class=ie([i.class,s.class]));else if(u==="style")i.style=Ur([i.style,s.style]);else if(Hi(u)){const f=i[u],c=s[u];c&&f!==c&&!(ot(f)&&f.includes(c))&&(i[u]=f?[].concat(f,c):c)}else u!==""&&(i[u]=s[u])}return i}function Fe(e,i,o,s=null){Se(e,i,7,[o,s])}const ga=ou();let ma=0;function _a(e,i,o){const s=e.type,u=(i?i.appContext:e.appContext)||ga,f={uid:ma++,vnode:e,type:s,parent:i,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,scope:new Is(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uu(s,u),emitsOptions:Js(s,u),emit:null,emitted:null,propsDefaults:Lt,inheritAttrs:s.inheritAttrs,ctx:Lt,data:Lt,props:Lt,attrs:Lt,slots:Lt,refs:Lt,setupState:Lt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=i?i.root:f,f.emit=vf.bind(null,f),e.ce&&e.ce(f),f}let ee=null,io,Or;{const e=Ms(),i=(o,s)=>{let u;return(u=e[o])||(u=e[o]=[]),u.push(s),f=>{u.length>1?u.forEach(c=>c(f)):u[0](f)}};io=i("__VUE_INSTANCE_SETTERS__",o=>ee=o),Or=i("__VUE_SSR_SETTERS__",o=>Qi=o)}const Vn=e=>{io(e),e.scope.on()},_n=()=>{ee&&ee.scope.off(),io(null)};function gu(e){return e.vnode.shapeFlag&4}let Qi=!1;function ya(e,i=!1){i&&Or(i);const{props:o,children:s}=e.vnode,u=gu(e);Qf(e,o,u,i),na(e,s);const f=u?xa(e,i):void 0;return i&&Or(!1),f}function xa(e,i){const o=e.type;e.accessCache=Object.create(null),e.proxy=zi(new Proxy(e.ctx,Gf));const{setup:s}=o;if(s){const u=e.setupContext=s.length>1?ba(e):null;Vn(e),wn();const f=en(s,e,0,[e.props,u]);if(Mn(),_n(),vs(f)){if(f.then(_n,_n),i)return f.then(c=>{is(e,c,i)}).catch(c=>{Ki(c,e,0)});e.asyncDep=f}else is(e,f,i)}else mu(e,i)}function is(e,i,o){mt(i)?e.type.__ssrInlineRender?e.ssrRender=i:e.render=i:$t(i)&&(e.setupState=Ws(i)),mu(e,o)}let rs;function mu(e,i,o){const s=e.type;if(!e.render){if(!i&&rs&&!s.render){const u=s.template||to(e).template;if(u){const{isCustomElement:f,compilerOptions:c}=e.appContext.config,{delimiters:h,compilerOptions:g}=s,b=ne(ne({isCustomElement:f,delimiters:h},c),g);s.render=rs(u,b)}}e.render=s.render||xe}{Vn(e),wn();try{jf(e)}finally{Mn(),_n()}}}function va(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(i,o){return fe(e,"get","$attrs"),i[o]}}))}function ba(e){const i=o=>{e.exposed=o||{}};return{get attrs(){return va(e)},slots:e.slots,emit:e.emit,expose:i}}function tr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ws(zi(e.exposed)),{get(i,o){if(o in i)return i[o];if(o in Zn)return Zn[o](e)},has(i,o){return o in i||o in Zn}}))}function Ca(e){return mt(e)&&"__vccOpts"in e}const _u=(e,i)=>lf(e,i,Qi),wa="3.4.5",Ma="http://www.w3.org/2000/svg",Sa="http://www.w3.org/1998/Math/MathML",Ye=typeof document<"u"?document:null,os=Ye&&Ye.createElement("template"),Ta={insert:(e,i,o)=>{i.insertBefore(e,o||null)},remove:e=>{const i=e.parentNode;i&&i.removeChild(e)},createElement:(e,i,o,s)=>{const u=i==="svg"?Ye.createElementNS(Ma,e):i==="mathml"?Ye.createElementNS(Sa,e):Ye.createElement(e,o?{is:o}:void 0);return e==="select"&&s&&s.multiple!=null&&u.setAttribute("multiple",s.multiple),u},createText:e=>Ye.createTextNode(e),createComment:e=>Ye.createComment(e),setText:(e,i)=>{e.nodeValue=i},setElementText:(e,i)=>{e.textContent=i},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ye.querySelector(e),setScopeId(e,i){e.setAttribute(i,"")},insertStaticContent(e,i,o,s,u,f){const c=o?o.previousSibling:i.lastChild;if(u&&(u===f||u.nextSibling))for(;i.insertBefore(u.cloneNode(!0),o),!(u===f||!(u=u.nextSibling)););else{os.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const h=os.content;if(s==="svg"||s==="mathml"){const g=h.firstChild;for(;g.firstChild;)h.appendChild(g.firstChild);h.removeChild(g)}i.insertBefore(h,o)}return[c?c.nextSibling:i.firstChild,o?o.previousSibling:i.lastChild]}},Ia=Symbol("_vtc");function Ea(e,i,o){const s=e[Ia];s&&(i=(i?[i,...s]:[...s]).join(" ")),i==null?e.removeAttribute("class"):o?e.setAttribute("class",i):e.className=i}const Pa=Symbol("_vod"),Aa=Symbol("");function Ba(e,i,o){const s=e.style,u=qt(o);if(o&&!u){if(i&&!qt(i))for(const f in i)o[f]==null&&Fr(s,f,"");for(const f in o)Fr(s,f,o[f])}else{const f=s.display;if(u){if(i!==o){const c=s[Aa];c&&(o+=";"+c),s.cssText=o}}else i&&e.removeAttribute("style");Pa in e&&(s.display=f)}}const ss=/\s*!important$/;function Fr(e,i,o){if(ot(o))o.forEach(s=>Fr(e,i,s));else if(o==null&&(o=""),i.startsWith("--"))e.setProperty(i,o);else{const s=Oa(e,i);ss.test(o)?e.setProperty(Cn(s),o.replace(ss,""),"important"):e[s]=o}}const us=["Webkit","Moz","ms"],yr={};function Oa(e,i){const o=yr[i];if(o)return o;let s=Nn(i);if(s!=="filter"&&s in e)return yr[i]=s;s=ws(s);for(let u=0;u<us.length;u++){const f=us[u]+s;if(f in e)return yr[i]=f}return i}const ls="http://www.w3.org/1999/xlink";function Fa(e,i,o,s,u){if(s&&i.startsWith("xlink:"))o==null?e.removeAttributeNS(ls,i.slice(6,i.length)):e.setAttributeNS(ls,i,o);else{const f=Nl(i);o==null||f&&!Ss(o)?e.removeAttribute(i):e.setAttribute(i,f?"":o)}}function Ra(e,i,o,s,u,f,c){if(i==="innerHTML"||i==="textContent"){s&&c(s,u,f),e[i]=o??"";return}const h=e.tagName;if(i==="value"&&h!=="PROGRESS"&&!h.includes("-")){e._value=o;const b=h==="OPTION"?e.getAttribute("value"):e.value,M=o??"";b!==M&&(e.value=M),o==null&&e.removeAttribute(i);return}let g=!1;if(o===""||o==null){const b=typeof e[i];b==="boolean"?o=Ss(o):o==null&&b==="string"?(o="",g=!0):b==="number"&&(o=0,g=!0)}try{e[i]=o}catch{}g&&e.removeAttribute(i)}function Ve(e,i,o,s){e.addEventListener(i,o,s)}function Da(e,i,o,s){e.removeEventListener(i,o,s)}const fs=Symbol("_vei");function Na(e,i,o,s,u=null){const f=e[fs]||(e[fs]={}),c=f[i];if(s&&c)c.value=s;else{const[h,g]=La(i);if(s){const b=f[i]=ka(s,u);Ve(e,h,b,g)}else c&&(Da(e,h,c,g),f[i]=void 0)}}const as=/(?:Once|Passive|Capture)$/;function La(e){let i;if(as.test(e)){i={};let s;for(;s=e.match(as);)e=e.slice(0,e.length-s[0].length),i[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Cn(e.slice(2)),i]}let xr=0;const $a=Promise.resolve(),Va=()=>xr||($a.then(()=>xr=0),xr=Date.now());function ka(e,i){const o=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=o.attached)return;Se(Ua(s,o.value),i,5,[s])};return o.value=e,o.attached=Va(),o}function Ua(e,i){if(ot(i)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},i.map(s=>u=>!u._stopped&&s&&s(u))}else return i}const cs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ha=(e,i,o,s,u,f,c,h,g)=>{const b=u==="svg";i==="class"?Ea(e,s,b):i==="style"?Ba(e,o,s):Hi(i)?$r(i)||Na(e,i,o,s,c):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):Ga(e,i,s,b))?Ra(e,i,s,f,c,h,g):(i==="true-value"?e._trueValue=s:i==="false-value"&&(e._falseValue=s),Fa(e,i,s,b))};function Ga(e,i,o,s){if(s)return!!(i==="innerHTML"||i==="textContent"||i in e&&cs(i)&&mt(o));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&e.tagName==="INPUT"||i==="type"&&e.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const u=e.tagName;if(u==="IMG"||u==="VIDEO"||u==="CANVAS"||u==="SOURCE")return!1}return cs(i)&&qt(o)?!1:i in e}const on=e=>{const i=e.props["onUpdate:modelValue"]||!1;return ot(i)?o=>Ai(i,o):i};function ja(e){e.target.composing=!0}function hs(e){const i=e.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const be=Symbol("_assign"),Rr={created(e,{modifiers:{lazy:i,trim:o,number:s}},u){e[be]=on(u);const f=s||u.props&&u.props.type==="number";Ve(e,i?"change":"input",c=>{if(c.target.composing)return;let h=e.value;o&&(h=h.trim()),f&&(h=Li(h)),e[be](h)}),o&&Ve(e,"change",()=>{e.value=e.value.trim()}),i||(Ve(e,"compositionstart",ja),Ve(e,"compositionend",hs),Ve(e,"change",hs))},mounted(e,{value:i}){e.value=i??""},beforeUpdate(e,{value:i,modifiers:{lazy:o,trim:s,number:u}},f){if(e[be]=on(f),e.composing)return;const c=u||e.type==="number"?Li(e.value):e.value,h=i??"";c!==h&&(document.activeElement===e&&e.type!=="range"&&(o||s&&e.value.trim()===h)||(e.value=h))}},ro={deep:!0,created(e,i,o){e[be]=on(o),Ve(e,"change",()=>{const s=e._modelValue,u=Un(e),f=e.checked,c=e[be];if(ot(s)){const h=Hr(s,u),g=h!==-1;if(f&&!g)c(s.concat(u));else if(!f&&g){const b=[...s];b.splice(h,1),c(b)}}else if(Hn(s)){const h=new Set(s);f?h.add(u):h.delete(u),c(h)}else c(yu(e,f))})},mounted:ds,beforeUpdate(e,i,o){e[be]=on(o),ds(e,i,o)}};function ds(e,{value:i,oldValue:o},s){e._modelValue=i,ot(i)?e.checked=Hr(i,s.props.value)>-1:Hn(i)?e.checked=i.has(s.props.value):i!==o&&(e.checked=xn(i,yu(e,!0)))}const yn={created(e,{value:i},o){e.checked=xn(i,o.props.value),e[be]=on(o),Ve(e,"change",()=>{e[be](Un(e))})},beforeUpdate(e,{value:i,oldValue:o},s){e[be]=on(s),i!==o&&(e.checked=xn(i,s.props.value))}},kn={deep:!0,created(e,{value:i,modifiers:{number:o}},s){const u=Hn(i);Ve(e,"change",()=>{const f=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>o?Li(Un(c)):Un(c));e[be](e.multiple?u?new Set(f):f:f[0])}),e[be]=on(s)},mounted(e,{value:i}){ps(e,i)},beforeUpdate(e,i,o){e[be]=on(o)},updated(e,{value:i}){ps(e,i)}};function ps(e,i){const o=e.multiple;if(!(o&&!ot(i)&&!Hn(i))){for(let s=0,u=e.options.length;s<u;s++){const f=e.options[s],c=Un(f);if(o)ot(i)?f.selected=Hr(i,c)>-1:f.selected=i.has(c);else if(xn(Un(f),i)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Un(e){return"_value"in e?e._value:e.value}function yu(e,i){const o=i?"_trueValue":"_falseValue";return o in e?e[o]:i}const bn={created(e,i,o){Ii(e,i,o,null,"created")},mounted(e,i,o){Ii(e,i,o,null,"mounted")},beforeUpdate(e,i,o,s){Ii(e,i,o,s,"beforeUpdate")},updated(e,i,o,s){Ii(e,i,o,s,"updated")}};function Wa(e,i){switch(e){case"SELECT":return kn;case"TEXTAREA":return Rr;default:switch(i){case"checkbox":return ro;case"radio":return yn;default:return Rr}}}function Ii(e,i,o,s,u){const c=Wa(e.tagName,o.props&&o.props.type)[u];c&&c(e,i,o,s)}const za={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ka=(e,i)=>{const o=e._withKeys||(e._withKeys={}),s=i.join(".");return o[s]||(o[s]=u=>{if(!("key"in u))return;const f=Cn(u.key);if(i.some(c=>c===f||za[c]===f))return e(u)})},qa=ne({patchProp:Ha},Ta);let gs;function Xa(){return gs||(gs=ra(qa))}const Ja=(...e)=>{const i=Xa().createApp(...e),{mount:o}=i;return i.mount=s=>{const u=Ya(s);if(!u)return;const f=i._component;!mt(f)&&!f.render&&!f.template&&(f.template=u.innerHTML),u.innerHTML="";const c=o(u,!1,Za(u));return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),c},i};function Za(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ya(e){return qt(e)?document.querySelector(e):e}var Qa=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let xu;const er=e=>xu=e,vu=Symbol();function Dr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ti;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ti||(ti={}));function tc(){const e=Es(!0),i=e.run(()=>Dt({}));let o=[],s=[];const u=zi({install(f){er(u),u._a=f,f.provide(vu,u),f.config.globalProperties.$pinia=u,s.forEach(c=>o.push(c)),s=[]},use(f){return!this._a&&!Qa?s.push(f):o.push(f),this},_p:o,_a:null,_e:e,_s:new Map,state:i});return u}const bu=()=>{};function ms(e,i,o,s=bu){e.push(i);const u=()=>{const f=e.indexOf(i);f>-1&&(e.splice(f,1),s())};return!o&&Ps()&&Vl(u),u}function On(e,...i){e.slice().forEach(o=>{o(...i)})}const ec=e=>e();function Nr(e,i){e instanceof Map&&i instanceof Map&&i.forEach((o,s)=>e.set(s,o)),e instanceof Set&&i instanceof Set&&i.forEach(e.add,e);for(const o in i){if(!i.hasOwnProperty(o))continue;const s=i[o],u=e[o];Dr(u)&&Dr(s)&&e.hasOwnProperty(o)&&!Xt(s)&&!tn(s)?e[o]=Nr(u,s):e[o]=s}return e}const nc=Symbol();function ic(e){return!Dr(e)||!e.hasOwnProperty(nc)}const{assign:Je}=Object;function rc(e){return!!(Xt(e)&&e.effect)}function oc(e,i,o,s){const{state:u,actions:f,getters:c}=i,h=o.state.value[e];let g;function b(){h||(o.state.value[e]=u?u():{});const M=hf(o.state.value[e]);return Je(M,f,Object.keys(c||{}).reduce((O,T)=>(O[T]=zi(_u(()=>{er(o);const $=o._s.get(e);return c[T].call($,$)})),O),{}))}return g=Cu(e,b,i,o,s,!0),g}function Cu(e,i,o={},s,u,f){let c;const h=Je({actions:{}},o),g={deep:!0};let b,M,O=[],T=[],$;const R=s.state.value[e];!f&&!R&&(s.state.value[e]={}),Dt({});let I;function it(lt){let dt;b=M=!1,typeof lt=="function"?(lt(s.state.value[e]),dt={type:ti.patchFunction,storeId:e,events:$}):(Nr(s.state.value[e],lt),dt={type:ti.patchObject,payload:lt,storeId:e,events:$});const at=I=Symbol();Zr().then(()=>{I===at&&(b=!0)}),M=!0,On(O,dt,s.state.value[e])}const k=f?function(){const{state:dt}=o,at=dt?dt():{};this.$patch(pt=>{Je(pt,at)})}:bu;function J(){c.stop(),O=[],T=[],s._s.delete(e)}function ht(lt,dt){return function(){er(s);const at=Array.from(arguments),pt=[],Ut=[];function ue(Ct){pt.push(Ct)}function ae(Ct){Ut.push(Ct)}On(T,{args:at,name:lt,store:St,after:ue,onError:ae});let ce;try{ce=dt.apply(this&&this.$id===e?this:St,at)}catch(Ct){throw On(Ut,Ct),Ct}return ce instanceof Promise?ce.then(Ct=>(On(pt,Ct),Ct)).catch(Ct=>(On(Ut,Ct),Promise.reject(Ct))):(On(pt,ce),ce)}}const Ft={_p:s,$id:e,$onAction:ms.bind(null,T),$patch:it,$reset:k,$subscribe(lt,dt={}){const at=ms(O,lt,dt.detached,()=>pt()),pt=c.run(()=>Bi(()=>s.state.value[e],Ut=>{(dt.flush==="sync"?M:b)&&lt({storeId:e,type:ti.direct,events:$},Ut)},Je({},g,dt)));return at},$dispose:J},St=Wi(Ft);s._s.set(e,St);const kt=(s._a&&s._a.runWithContext||ec)(()=>s._e.run(()=>(c=Es()).run(i)));for(const lt in kt){const dt=kt[lt];if(Xt(dt)&&!rc(dt)||tn(dt))f||(R&&ic(dt)&&(Xt(dt)?dt.value=R[lt]:Nr(dt,R[lt])),s.state.value[e][lt]=dt);else if(typeof dt=="function"){const at=ht(lt,dt);kt[lt]=at,h.actions[lt]=dt}}return Je(St,kt),Je(Mt(St),kt),Object.defineProperty(St,"$state",{get:()=>s.state.value[e],set:lt=>{it(dt=>{Je(dt,lt)})}}),s._p.forEach(lt=>{Je(St,c.run(()=>lt({store:St,app:s._a,pinia:s,options:h})))}),R&&f&&o.hydrate&&o.hydrate(St.$state,R),b=!0,M=!0,St}function nr(e,i,o){let s,u;const f=typeof i=="function";typeof e=="string"?(s=e,u=f?o:i):(u=e,s=e.id);function c(h,g){const b=Yf();return h=h||(b?Yn(vu,null):null),h&&er(h),h=xu,h._s.has(s)||(f?Cu(s,i,u,h):oc(s,u,h)),h._s.get(s)}return c.$id=s,c}const oo=nr("ws",()=>{const e=Dt({readyState:3}),i=Dt(3);function o(g){console.log("wsClose",g),i.value=3}function s(g){console.warn("wsOpen",g),i.value=1}function u(g){console.error("wsError",g)}function f(g){e.value=new WebSocket(g),e.value.open=s,i.value=1,e.value.onmessage=b=>{console.log("--> RX socket",b.data)},e.value.close=o,e.value.error=u}function c(g){e.value.readyState&&e.value.readyState===1?e.value.send(g):console.warn("ws is not connected")}function h(){e.value.close()}return{ws:e,open:f,send:c,close:h,state:i}}),so=nr("webmidi",()=>{const e=Dt({}),i=Dt(""),o=Dt(""),s=Dt([]),u=Dt([]);function f(T){let $=[];for(let R=0;R<T.data.byteLength;R++)$[R]=T.data[R].toString(16).padStart(2,0);console.log("--> RX_WEB",T.target.name,T.data,$)}function c(){console.log("onMIDISuccess  MIDI ready!");let T=0,$={};e.value.inputs.forEach(R=>{R.name.indexOf("Gadget")!=-1&&(i.value=R.id,R.onmidimessage=f),T==0&&($=R),i.value===""&&s.value[0]&&s.value[0].id&&(i.value=$.id,$.onmidimessage=f),T++}),u.value[0]&&u.value[0].id&&(o.value=u.value[0].id),console.log("input/out",i.value,o.value)}function h(T){console.error(`onMIDIFailure Failed to get MIDI access - ${T}`)}function g(){let T=0;for(const $ of e.value.inputs){const R=$[1];s.value[T]={name:R.name,id:R.id,manufacturer:R.manufacturer,version:R.version},T++}T=0;for(const $ of e.value.outputs){const R=$[1];u.value[T]={name:R.name,id:R.id,manufacturer:R.manufacturer,version:R.version},T++}}function b(){navigator.permissions.query({name:"midi",sysex:!0}).then(T=>{T.state==="granted"||T.state}),navigator.requestMIDIAccess({name:"midi",sysex:!0}).then(T=>{T.onstatechange=$=>{console.log("webmidi onstatechange",$.port.name,$.port.state,$.port.id)},e.value=T,g()}).then(c,h)}function M(T){if(o.value!=""){const $=e.value.outputs.get(o.value);$!=null?$.send(T):console.warn("no web midi port")}else console.warn("select web midi out port")}function O(){console.log("close")}return{open:b,close:O,send:M,LsIo:g,_in:i,out:o,ins:s,outs:u}});async function ui(e){return await(await fetch(e)).json()}const Vt=await ui("lemons.json"),sc=await ui("minidexed.json"),Di=await ui("performances.json");Di[1]={id:"000001",file:"performance.ini",name:"Perf: default",size:0,data:await ui("performance.json")};const Xn=await ui("voxs.json"),zt=nr("dx7",()=>{const e=oo(),i=so(),o=Dt(1),s=Dt(Di[o.value].data),u=Dt({vox:{show:!0,name:"Bank:Voice"},ReverbSize:{cc:255,min:0,max:127,def:100,name:"ReverbSize",short:"RevSize",show:!0,type:"range"},ReverbHighDamp:{cc:255,min:0,max:127,def:100,name:"ReverbHighDamp",short:"RevHDamp",show:!0,type:"range"},ReverbLowDamp:{cc:255,min:0,max:127,def:100,name:"ReverbLowDamp",short:"RevLDamp",show:!0,type:"range"},ReverbLowPass:{cc:255,min:0,max:127,def:100,name:"ReverbLowPass",short:"RevLPass",show:!0,type:"range"},ReverbDiffusion:{cc:255,min:0,max:127,def:100,name:"ReverbDiffusion",short:"RevDiff",show:!0,type:"range"},ReverbLevel:{cc:255,min:0,max:127,def:100,name:"ReverbLevel",short:"RevLevl",show:!0,type:"range"},CompressorEnable:{cc:255,name:"CompressorEnable",short:"CompEn",show:!1,type:"bool"},ReverbEnable:{cc:255,name:"ReverbEnable",short:"RevEn",show:!0,type:"bool"},BankNumber:{min:0,max:127,def:0},VoiceNumber:{min:0,max:127,def:0},MIDIChannel:{cc:255,min:0,max:16,def:1,name:"MIDIChannel",short:"Midi",type:"range"},Volume:{cc:7,min:0,max:127,def:100,name:"Volume",short:"TG Vol",type:"range"},Pan:{cc:10,min:0,max:127,def:64,name:"Pan",short:"Pan",type:"range"},Detune:{cc:94,min:0,max:127,def:0,name:"Detune",short:"De- tune",type:"range"},Cutoff:{cc:74,min:0,max:99,def:99,name:"Cutoff",short:"Cut Off",type:"range"},Resonance:{cc:71,min:0,max:99,def:0,name:"Resonance",short:"Reso- nance",type:"range"},NoteLimitLow:{cc:255,min:0,max:127,def:0,name:"NoteLimitLow",short:"Note LmtLo",type:"range"},NoteLimitHigh:{cc:255,min:0,max:127,def:127,name:"NoteLimitHigh",short:"Note LmtHi",type:"range"},NoteShift:{cc:255,min:-24,max:24,def:0,name:"NoteShift",short:"Note Shft",type:"range"},ReverbSend:{cc:91,min:0,max:99,def:0,name:"ReverbSend",short:"Rvbr Send",type:"range"},PitchBendRange:{cc:255,min:0,max:12,def:2,name:"PitchBendRange",short:"PtchBnd Range",type:"range"},PitchBendStep:{cc:255,min:0,max:12,def:0,name:"PitchBendStep",short:"PtchBnd Step",type:"range"},PortamentoMode:{cc:255,min:0,max:1,def:0,name:"PortamentoMode",short:"Protm Mode",type:"range"},PortamentoGlissando:{cc:255,min:0,max:1,def:0,name:"PortamentoGlissando",short:"Portm Glis",type:"range"},PortamentoTime:{cc:255,min:0,max:99,def:0,name:"PortamentoTime",short:"Portm Time",type:"range"},VoiceData:"",MonoMode:{cc:255,min:0,max:1,def:0,name:"MonoMode",short:"Mono Mode",type:"range"},ModulationWheelRange:{cc:255,min:0,max:99,def:99,name:"ModulationWheelRange",short:"MdWhl Range",type:"range"},ModulationWheelTarget:{cc:255,min:0,max:7,def:1,name:"ModulationWheelTarget",short:"MdWhl Target",type:"range"},FootControlRange:{cc:255,min:0,max:99,def:99,name:"FootControlRange",short:"FootC Range",type:"range"},FootControlTarget:{cc:255,min:0,max:7,def:0,name:"FootControlTarget",short:"FootC Target",type:"range"},BreathControlRange:{cc:255,min:0,max:99,def:99,name:"BreathControlRange",short:"Breth Range",type:"range"},BreathControlTarget:{cc:255,min:0,max:7,def:0,name:"BreathControlTarget",short:"Breth Target",type:"range"},AftertouchRange:{cc:255,min:0,max:99,def:99,name:"AftertouchRange",short:"AftTch Range",type:"range"},AftertouchTarget:{cc:255,min:0,max:7,def:0,name:"AftertouchTarget",short:"AftTch Target",type:"range"}});function f(){h.value.tg=Vt.tg}const c=Dt();eu(()=>{window.location.hostname=="localhost"?c.value=Vt.local:c.value=Vt.picow,Vt.dev&&console.log("document.cookie",document.cookie),f()}),Qr(()=>{if(c.value.websocket){let A=3e3;window.location.protocol=="https"&&(document.cookie!=""&&(A=443),e.open("wss://"+window.location.hostname+":"+A+"/wss")),window.location.protocol=="http"&&(document.cookie!=""&&(A=80),e.open("ws://"+window.location.hostname+":"+A+"/ws"))}c.value.webmidi&&i.open()}),nu(()=>{c.value.websocket&&e.close(),c.value.webmidi&&i.close()});const h=Dt({1:{mute:!1,vol:0,showVoiceData:!1},2:{mute:!1,vol:0,showVoiceData:!1},3:{mute:!1,vol:0,showVoiceData:!1},4:{mute:!1,vol:0,showVoiceData:!1},5:{mute:!1,vol:0,showVoiceData:!1},6:{mute:!1,vol:0,showVoiceData:!1},7:{mute:!1,vol:0,showVoiceData:!1},8:{mute:!1,vol:0,showVoiceData:!1}});function g(A){Vt.dev&&console.log("mute id",A.target.id);const F=A.target.id;h.value[F].mute=!h.value[F].mute,h.value[F].mute==!0?(h.value[F].vol=s.value[F].Volume,s.value[F].Volume=0,I(F,"Volume",s.value[F].Volume)):(s.value[F].Volume=h.value[F].vol,h.value[F].vol=0,I(F,"Volume",s.value[F].Volume))}function b(A){h.value.tg[A].show=!h.value.tg[A].show}function M(A){Vt.dev&&console.log("ShowVoiceData",h.value[A.target.id].showVoiceData),h.value[A.target.id].showVoiceData=!h.value[A.target.id].showVoiceData}const O=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function T(A){let F=[];for(let U=0;U<A.byteLength;U++)F[U]=A[U].toString(16).padStart(2,0);return F}function $(A){const F=new Uint8Array(A.length);for(let U in A)F[U]=A[U];c.value.webmidi&&i.send(F),c.value.websocket&&e.send(F),Vt.dev&&console.log("send","dat ---> HEX",A,T(F))}function R(A){return A}function I(A,F,U){if(F.substring(0,11)=="MIDIChannel"&&(s.value[A][F.substring(0,11)]=U),u.value[F]){const _t=[];if(u.value[F].cc!=255){const vt="0xB"+O[A];_t[0]=parseInt(vt,16),_t[1]=u.value[F].cc,_t[2]=parseInt(U),$(_t)}else Vt.dev&&console.log("CC key does not exist in tg")}}function it(A){const F=A.target.getAttribute("data-tg");if(F!==void 0){const U=A.target.name,_t=A.target.value;I(F,U,_t),Vt.dev&&console.log("CC",{tg:F,name:U,val:_t})}else Vt.dev&&console.log("CC MISSING ATTR data-tg",F)}function k(A,F){const U=[];U[0]=parseInt("0xC"+O[A],16),U[1]=parseInt(F),$(U),Vt.dev&&console.log("Program Change",U[0],F,U)}function J(A){k(A.target.getAttribute("data-tg"),A.target.value)}function ht(A){const F=parseInt(A.target.getAttribute("data-tg")),U=parseInt("0xB"+O[F],16),_t=parseInt(A.target.value);Vt.dev&&console.log("Bank:",{bank_id:_t,tg:F,ch:U});const vt=[];vt[0]=U,vt[1]=0,vt[2]=0,$(vt),vt[1]=32,vt[2]=_t,$(vt),s.value[F].BankNumber=_t,k(F,parseInt(s.value[F].VoiceNumber))}function Ft(A){const F=parseInt(A.target.value);s.value=Di[F].data;const U=[];U[0]=192,U[1]=F,$(U),Vt.dev&&console.log("Perf",F,U)}function St(A){const F=A.target.value.split(" "),U=[];for(const _t in F)U[_t]=parseInt(F[_t],16);Vt.dev&&console.log("sysex",F,U),$(U)}const ft=Dt(100);function kt(A){const F=parseInt(A.target.value),U=[];U[0]=240,U[1]=127,U[2]=127,U[3]=4,U[4]=1,U[5]=0,U[6]=F,U[7]=247,$(U)}function lt(A){let F={0:{},1:{},2:{},3:{},4:{},5:{},6:{},7:{},8:{}};A=A.replace("	"," ");const U=A.split(`
`);for(let _t in U)if(!(U[_t]==""||U[_t][0]=="#")){const vt=U[_t].split("="),Et=vt[0].length,Kt=vt[0].substring(0,Et-1),Te=vt[0].substring(Et-1,Et),ut=parseInt(Te);Number.isInteger(ut)?F[ut][Kt]=vt[1]:F[0][Kt]=vt[1]}return F}function dt(A){const F={};for(let Et=0;Et<32;Et++){const Kt=118+Et*128;F[Et]=new TextDecoder().decode(A.subarray(Kt,Kt+10)).trim()}return F}function at(A){let F=0;A.forEach(_t=>{F+=_t});const U=0;return Vt.dev&&console.log("CheckSum sum/crc:",F,U),U}function pt(A){const F=A.split(" ");for(let _t in F)F[_t]=parseInt(F[_t],16);const U=[240,67,0,0,1,27];return U.push(...F),U.push(247),U}function Ut(A,F,U,_t=0){let vt;switch(A){case"perf":vt=lt(U),Vt.dev&&console.log("Upload Performance");for(let Et=1;Et<9;Et++){if(vt[Et].VoiceData&&vt[Et].VoiceData!=""){let Kt=pt(vt[Et].VoiceData);Kt[2]=Et,$(Kt),Vt.dev&&console.log("load VoiceData into tg:",Et,Kt)}s.value=vt}break;case"bank":if(Vt.dev&&console.log("uploadedBank _tg/file",_t,F),F.size==4104&&U[3]==9){const Et=dt(U.subarray(6,-2));at(U.subarray(6,-2));const Kt=F.name,Te=Object.keys(Xn).length+1;Xn[Te]={tg:_t,id:"--up "+Te,file:F.name,name:Kt,size:F.size,data:Et},$(U),s.value[_t].BankNumber=Te,Vt.dev&&console.log("bank upload",Kt,Xn[Te])}F.size==4096;break;case"vox":if(U.length==156){let Et=["f0","43","00","00","01","1b"];Et.push(...U),Et.push("f7"),Et=Et.map(Kt=>parseInt(Kt,16)),$(Et),Vt.dev&&console.log("Uploaded vox",U,Et)}break;case"voxs":break;default:Vt.dev&&console.log("Upload not recognised",F,U)}}function ue(A){const F=A.target.getAttribute("data-tg"),U=A.target.name;u.value[U].max>s.value[F][U]&&s.value[F][U]++}function ae(A){const F=A.target.getAttribute("data-tg"),U=A.target.name;u.value[U].min<s.value[F][U]&&s.value[F][U]--}function ce(A){A.preventDefault(),A.deltaY>0?ae(A):ue(A)}function Ct(A){const F=A.target.getAttribute("data-tg"),U=A.target.value;s.value[F][U]=u.value[U].def,I(F,U,u.value[U].def),Vt.dev&&console.log("reset _tg/_cc/default",F,U,u.value[U].def)}function Pt(){Vt.dev&&console.log("log",{ini:s.value,voxs:Xn,perf:o.value})}return{Log:Pt,ini:s,perf:o,perfs:Di,voxs:Xn,minidexed:sc,tg:u,conf:c,CC:it,PC:J,Bank:ht,Perf:Ft,Show:b,ShowVoiceData:M,Mute:g,MainVol:kt,mainVol:ft,parsePerfIni:lt,Sysex:St,Upload:Ut,ses:h,inc:ue,dec:ae,wheel:ce,reset:Ct}}),wu=(e,i)=>{const o=e.__vccOpts||e;for(const[s,u]of i)o[s]=u;return o},uc=["id"],lc=["data-tg","value"],fc=["list","data-tg","min","max","type"],ac=["id"],cc=da('<option value="0" label="0" data-v-2c19081b></option><option value="32" label="32" data-v-2c19081b></option><option value="64" label="64" data-v-2c19081b></option><option value="96" label="96" data-v-2c19081b></option><option value="127" label="127" data-v-2c19081b></option>',5),hc=[cc],dc={__name:"TGPan",props:{tg:{type:Number,required:!0},cc:{type:String,required:!0}},setup(e){const i=zt();return(o,s)=>(D(),V("table",null,[x("tr",null,[x("th",null,[x("button",{id:e.tg,type:"button",class:"fix btn btn-outline-info"},j(e.tg),9,uc)]),x("th",null,[x("button",{"data-tg":e.tg,value:e.cc,onClick:s[0]||(s[0]=(...u)=>m(i).reset&&m(i).reset(...u)),type:"button",class:ie(m(i).ini[e.tg].Pan!=m(i).tg.Pan.def?"fix btn btn-success":"fix btn btn-outline-success"),style:{direction:"rtl"}},j(m(i).ini[e.tg].Pan>64?"L":"")+j(64-m(i).ini[e.tg].Pan)+j(m(i).ini[e.tg].Pan<64?"R":""),11,lc)]),x("th",null,[jt(x("input",{list:"Pan"+e.tg,"data-tg":e.tg,onInput:s[1]||(s[1]=(...u)=>m(i).CC&&m(i).CC(...u)),"onUpdate:modelValue":s[2]||(s[2]=u=>m(i).ini[e.tg].Pan=u),name:"Pan",min:m(i).tg.Pan.min,max:m(i).tg.Pan.max,type:m(i).tg.Pan.type,style:{}},null,40,fc),[[bn,m(i).ini[e.tg].Pan]]),x("datalist",{id:"Pan"+e.tg},hc,8,ac)])])]))}},Mu=wu(dc,[["__scopeId","data-v-2c19081b"]]),pc={key:0},gc=["data-tg"],mc=x("option",{value:"up"},"upload 32 voices .syx",-1),_c=["data-tg","value"],yc={__name:"TGBank",props:{tg:{type:Number,required:!0},cc:{type:String,required:!0}},setup(e){const i=zt(),o=e;function s(h){h.target.value==="up"?document.getElementById("bankUpload").click():i.Bank(h)}const u=Object.keys(i.voxs),f=Dt(!0);function c(h){let g;const[b]=h.target.files,M=new FileReader;M.addEventListener("load",async()=>{g=new Uint8Array(M.result),i.Upload("bank",b,g,o.tg),f.value=!1,await Zr(),f.value=!0},!1),b&&M.readAsArrayBuffer(b)}return(h,g)=>(D(),V(gt,null,[x("input",{type:"file",id:"bankUpload",style:{display:"none"},ref:"fileInput",accept:".syx",onChange:c},null,544),m(i).ini[e.tg]?(D(),V("span",pc,[f.value?jt((D(),V("select",{key:0,"onUpdate:modelValue":g[0]||(g[0]=b=>m(i).ini[e.tg].BankNumber=b),"data-tg":e.tg,name:"BankNumber",onChange:s,id:"bank",class:"form-select"},[mc,(D(!0),V(gt,null,Gt(m(u),b=>(D(),V("option",{key:b,"data-tg":e.tg,value:b},j(m(i).voxs[b].id)+" "+j(m(i).voxs[b].name),9,_c))),128))],40,gc)),[[kn,m(i).ini[e.tg].BankNumber]]):st("",!0)])):st("",!0)],64))}},xc=["data-tg"],vc=["data-tg","value"],bc={__name:"TGVoice",props:{tg:{type:Number,required:!0},cc:{type:String,required:!0}},setup(e){const i=zt();function o(s){s.target.value==="up"?(console.log("call upload"),document.getElementById("voxUpload").click()):i.PC(s)}return(s,u)=>m(i).voxs[m(i).ini[e.tg].BankNumber]!=null&&m(i).voxs[m(i).ini[e.tg].BankNumber].data!=null?jt((D(),V("select",{key:0,"onUpdate:modelValue":u[0]||(u[0]=f=>m(i).ini[e.tg].VoiceNumber=f),"data-tg":e.tg,name:"VoiceNumber",onChange:o,class:"form-select"},[rt(" tg:"+j(m(i).voxs[m(i).ini[e.tg].BankNumber].tg!=null?m(i).voxs[m(i).ini[e.tg].BankNumber].tg:"-")+" ",1),(D(!0),V(gt,null,Gt(m(i).voxs[Number(m(i).ini[e.tg].BankNumber)].data,(f,c)=>(D(),V("option",{key:c,"data-tg":e.tg,value:c},j(Number(c))+" - "+j(f),9,vc))),128))],40,xc)),[[kn,m(i).ini[e.tg].VoiceNumber]]):st("",!0)}},Cc={key:0,class:"input-group"},wc=["id"],Mc=["id","disabled"],Su={__name:"TGBankVoice",props:{tg:{type:Number,required:!0}},setup(e){const i=zt();return(o,s)=>m(i).tg.vox.show?(D(),V("span",Cc,[x("button",{id:e.tg,type:"button",class:"btn btn-outline-info"},j(e.tg),9,wc),nt(yc,{tg:e.tg,cc:"BankNumber"},null,8,["tg"]),nt(bc,{tg:e.tg,cc:"VoiceNumber"},null,8,["tg"]),x("button",{id:e.tg,onClick:s[0]||(s[0]=(...u)=>m(i).ShowVoiceData&&m(i).ShowVoiceData(...u)),type:"button",class:"btn btn-outline-warning",disabled:m(i).ini[e.tg].VoiceData==""},"edit",8,Mc)])):st("",!0)}},Sc=["data-tg","value"],Tc=["disabled","list","data-tg","min","max","type"],Ic=["id"],Ec=x("option",{value:"0",label:"0"},null,-1),Pc=x("option",{value:"64",label:"64"},null,-1),Ac=x("option",{value:"100",label:"100"},null,-1),Bc=x("option",{value:"127",label:"127"},null,-1),Oc=[Ec,Pc,Ac,Bc],Fc=["id"],Rc={__name:"TGGroupVolume",props:{tg:{type:Number,required:!0},cc:{type:String,required:!0}},setup(e){const i=zt();return(o,s)=>(D(),V("table",null,[x("tr",null,[x("th",null,[x("button",{"data-tg":e.tg,value:e.cc,onClick:s[0]||(s[0]=(...u)=>m(i).reset&&m(i).reset(...u)),type:"button",class:ie(m(i).ini[e.tg].Volume!=m(i).tg.Volume.def?"fix btn btn-success":"fix btn btn-outline-success")},j(m(i).ini[e.tg].Volume),11,Sc)])]),x("tr",null,[x("th",null,[jt(x("input",{disabled:m(i).ses[e.tg].mute==1,list:"Vol"+e.tg,"data-tg":e.tg,onInput:s[1]||(s[1]=(...u)=>m(i).CC&&m(i).CC(...u)),"onUpdate:modelValue":s[2]||(s[2]=u=>m(i).ini[e.tg].Volume=u),name:"Volume",min:m(i).tg.Volume.min,max:m(i).tg.Volume.max,type:m(i).tg.Volume.type,orient:"vertical"},null,40,Tc),[[bn,m(i).ini[e.tg].Volume]]),x("datalist",{id:"Vol"+e.tg},Oc,8,Ic)])]),x("tr",null,[x("th",null,[x("button",{onClick:s[3]||(s[3]=(...u)=>m(i).Mute&&m(i).Mute(...u)),id:e.tg,type:"button",class:ie(m(i).ses[e.tg].vol==0?"fix btn btn-outline-warning":"fix btn btn-warning")},j(e.tg),11,Fc)])])]))}},Dc=["id","disabled"],Nc=["data-tg","value","disabled"],Lc=["list","data-tg","name","min","max","type","orient","disabled"],$c=["id"],Vc=x("option",{value:"0",label:"0"},null,-1),kc=x("option",{value:"64",label:"64"},null,-1),Uc=x("option",{value:"127",label:"127"},null,-1),Hc=[Vc,kc,Uc],Gc={key:0},jc=["id"],Wc=["list","data-tg","name","min","max","type"],zc=["id"],Kc=x("option",{value:"0",label:"0"},null,-1),qc=x("option",{value:"64",label:"64"},null,-1),Xc=x("option",{value:"127",label:"127"},null,-1),Jc=[Kc,qc,Xc],Zc=["data-tg","name","value"],Yc={__name:"TGGroupRange",props:{tg:{type:Number,required:!0},cc:{type:String,required:!0},vertical:{type:Boolean,required:!1,default:!0}},setup(e){const i=zt();return(o,s)=>(D(),V(gt,null,[x("tr",null,[x("th",null,[x("button",{id:e.tg,type:"button",class:"fix btn btn-outline-info",disabled:m(i).tg[e.cc].cc==255},j(e.tg),9,Dc)])]),x("tr",null,[x("th",null,[x("button",{"data-tg":e.tg,value:e.cc,onClick:s[0]||(s[0]=(...u)=>m(i).reset&&m(i).reset(...u)),type:"button",class:ie(m(i).ini[e.tg][e.cc]!=m(i).tg[e.cc].def?"fix btn btn-success":"fix btn btn-outline-success"),disabled:m(i).tg[e.cc].cc==255},j(m(i).ini[e.tg][e.cc]),11,Nc)])]),x("tr",null,[x("th",null,[jt(x("input",{onWheel:s[1]||(s[1]=(...u)=>m(i).wheel&&m(i).wheel(...u)),list:e.cc+e.tg,"data-tg":e.tg,onInput:s[2]||(s[2]=(...u)=>m(i).CC&&m(i).CC(...u)),"onUpdate:modelValue":s[3]||(s[3]=u=>m(i).ini[e.tg][e.cc]=u),name:e.cc,min:m(i).tg[e.cc].min,max:m(i).tg[e.cc].max,type:m(i).tg[e.cc].type,orient:e.vertical?"vertical":"horizontal",disabled:m(i).tg[e.cc].cc==255},null,40,Lc),[[bn,m(i).ini[e.tg][e.cc]]]),x("datalist",{id:e.cc+e.tg},Hc,8,$c)])]),e.vertical==!1?(D(),V("span",Gc,[x("button",{id:e.tg,type:"button",class:"fix btn btn-outline-info"},j(e.tg),9,jc),jt(x("input",{list:e.cc+e.tg,"data-tg":e.tg,onInput:s[4]||(s[4]=(...u)=>o.reset&&o.reset(...u)),"onUpdate:modelValue":s[5]||(s[5]=u=>m(i).ini[e.tg][e.cc]=u),name:e.cc,min:m(i).tg[e.cc].min,max:m(i).tg[e.cc].max,type:m(i).tg[e.cc].type},null,40,Wc),[[bn,m(i).ini[e.tg][e.cc]]]),x("datalist",{id:e.cc+e.tg},Jc,8,zc),x("button",{"data-tg":e.tg,name:e.cc,value:m(i).tg[e.cc].def,onClick:s[6]||(s[6]=(...u)=>m(i).CC&&m(i).CC(...u)),type:"button",class:ie(m(i).ini[e.tg][e.cc]!=m(i).tg[e.cc].def?"fix btn btn-success":"fix btn btn-outline-success")},j(m(i).ini[e.tg][e.cc]),11,Zc)])):st("",!0)],64))}},Qc=["id"],th={class:"btn-group",role:"group","aria-label":"Basic radio toggle button group"},eh=["id","data-tg","name"],nh=["for"],ih=["id","data-tg","name"],rh=["for"],oh=["value","id","data-tg","name"],sh=["for"],Tu={__name:"TGMIDIChannel",props:{tg:{type:Number,required:!0}},setup(e){const i=zt(),o=e;return i.ini[o.tg].MIDIChannel>16,(s,u)=>(D(),V("table",null,[x("tr",null,[x("td",null,[x("button",{id:e.tg,type:"button",class:"fix btn btn-outline-info"},j(e.tg),9,Qc),x("div",th,[jt(x("input",{onClick:u[0]||(u[0]=(...f)=>m(i).CC&&m(i).CC(...f)),value:"0",id:"tg"+e.tg+"m0","data-tg":e.tg,name:"MIDIChannel_tg"+e.tg,"onUpdate:modelValue":u[1]||(u[1]=f=>m(i).ini[e.tg].MIDIChannel=f),type:"radio",class:"btn-check",autocomplete:"off"},null,8,eh),[[yn,m(i).ini[e.tg].MIDIChannel]]),x("label",{class:"btn btn-outline-warning",for:"tg"+e.tg+"m0"},"Off",8,nh),jt(x("input",{onClick:u[2]||(u[2]=(...f)=>m(i).CC&&m(i).CC(...f)),value:"255",id:"tg"+e.tg+"m16","data-tg":e.tg,name:"MIDIChannel_tg"+e.tg,"onUpdate:modelValue":u[3]||(u[3]=f=>m(i).ini[e.tg].MIDIChannel=f),type:"radio",class:"btn-check",autocomplete:"off"},null,8,ih),[[yn,m(i).ini[e.tg].MIDIChannel]]),x("label",{class:"btn btn-outline-danger",for:"tg"+e.tg+"m16"},"omni",8,rh),(D(),V(gt,null,Gt(15,f=>x("span",{key:f},[jt(x("input",{onClick:u[4]||(u[4]=(...c)=>m(i).CC&&m(i).CC(...c)),value:f,id:"tg"+e.tg+"m"+f,"data-tg":e.tg,name:"MIDIChannel_tg"+e.tg,"onUpdate:modelValue":u[5]||(u[5]=c=>m(i).ini[e.tg].MIDIChannel=c),type:"radio",class:"btn-check",autocomplete:"off"},null,8,oh),[[yn,m(i).ini[e.tg].MIDIChannel]]),x("label",{class:"btn btn-outline-success",for:"tg"+e.tg+"m"+f},j(f),9,sh)])),64)),rt(" midi ch #"+j(m(i).ini[e.tg].MIDIChannel),1)])])])]))}},uh={key:0},lh={class:"input-group"},fh=x("hr",null,null,-1),ah={key:1},ch=x("hr",null,null,-1),hh={key:2},dh=x("hr",null,null,-1),ph={key:3},gh=x("hr",null,null,-1),mh={key:0},_h={key:0},yh={__name:"TGGroup",setup(e){const i=zt();return(o,s)=>(D(),V(gt,null,[m(i).ses.tg.vox.show?(D(),V("span",uh,[rt(" Bank/Voice "),(D(),V(gt,null,Gt(8,u=>x("div",{key:u},[x("div",lh,[nt(Su,{tg:u},null,8,["tg"])])])),64)),fh])):st("",!0),m(i).ses.tg.MIDIChannel.show?(D(),V("div",ah,[rt(" Midi Channels "),(D(),V(gt,null,Gt(8,u=>x("span",{key:u},[nt(Tu,{tg:u,cc:"MIDIChannel"},null,8,["tg"])])),64)),ch])):st("",!0),m(i).ses.tg.Volume.show?(D(),V("div",hh,[rt(j(m(i).tg.Volume.name)+" ",1),x("table",null,[x("tr",null,[(D(),V(gt,null,Gt(8,u=>x("th",{key:u},[nt(Rc,{tg:u,cc:"Volume"},null,8,["tg"])])),64))])]),dh])):st("",!0),m(i).ses.tg.Pan.show?(D(),V("div",ph,[rt(j(m(i).tg.Pan.name)+" ",1),x("table",null,[(D(),V(gt,null,Gt(8,u=>x("tr",{key:u},[nt(Mu,{tg:u,cc:"Pan"},null,8,["tg"])])),64))]),gh])):st("",!0),(D(!0),V(gt,null,Gt(m(i).ses.tg,(u,f)=>(D(),V("span",{key:f},[m(i).ses.tg[f].show!=null&&f!="Volume"&&f!="vox"&&f!="MIDIChannel"?(D(),V("span",mh,[m(i).ses.tg[f].show==!0?(D(),V("span",_h,[rt(j(f)+" ",1),x("table",null,[(D(),V(gt,null,Gt(8,c=>x("span",{key:c},[nt(Yc,{tg:c,cc:f},null,8,["tg","cc"])])),64))])])):st("",!0)])):st("",!0)]))),128))],64))}},xh=["value"],vh=["value"],bh={__name:"AboutView",setup(e){const i=zt(),o=so();return(s,u)=>(D(),V(gt,null,[x("input",{type:"text",onKeyup:u[0]||(u[0]=Ka((...f)=>m(i).Sysex&&m(i).Sysex(...f),["enter"])),placeholder:"send sysex msgs",value:"F0 7F 7F 04 01 00 50 F7"},null,32),rt("<-- vol web midi outs "),jt(x("select",{"onUpdate:modelValue":u[1]||(u[1]=f=>m(o).out=f),class:"form-select","aria-label":"Default select example"},[(D(!0),V(gt,null,Gt(m(o).outs,(f,c)=>(D(),V("option",{key:c,value:f.id}," lemons --> "+j(f.name),9,xh))),128))],512),[[kn,m(o).out]]),rt(" web midi ins "),jt(x("select",{"onUpdate:modelValue":u[2]||(u[2]=f=>m(o)._in=f),class:"form-select","aria-label":"Default select example"},[(D(!0),V(gt,null,Gt(m(o).ins,(f,c)=>(D(),V("option",{key:c,value:f.id}," lemons <-- "+j(f.name),9,vh))),128))],512),[[kn,m(o)._in]])],64))}},Ch={class:"form-check form-switch"},wh=["id"],Mh=["for"],_s={__name:"TGButton",props:{tg:{type:Number,required:!0},cc:{type:String,required:!0}},setup(e){const i=zt();return(o,s)=>(D(),V("div",Ch,[jt(x("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>m(i).ini[e.tg][e.cc]=u),class:"form-check-input",type:"checkbox",role:"switch",id:e.cc},null,8,wh),[[ro,m(i).ini[e.tg][e.cc]]]),x("label",{class:"form-check-label",for:e.cc},j(e.cc),9,Mh)]))}},Sn=e=>(bf("data-v-b687d516"),e=e(),Cf(),e),Sh={key:0},Th=Sn(()=>x("br",null,null,-1)),Ih=["data-tg","value","disabled"],Eh=["list","data-tg","name","min","max","type","orient","disabled"],Ph=["id"],Ah=Sn(()=>x("option",{value:"0",label:"0"},null,-1)),Bh=Sn(()=>x("option",{value:"64",label:"64"},null,-1)),Oh=Sn(()=>x("option",{value:"127",label:"127"},null,-1)),Fh=[Ah,Bh,Oh],Rh=["id","disabled"],Dh={key:1},Nh=["id"],Lh=["list","data-tg","name","min","max","type"],$h=["id"],Vh=Sn(()=>x("option",{value:"0",label:"0"},null,-1)),kh=Sn(()=>x("option",{value:"64",label:"64"},null,-1)),Uh=Sn(()=>x("option",{value:"127",label:"127"},null,-1)),Hh=[Vh,kh,Uh],Gh=["data-tg","name","value"],jh={__name:"TGRange",props:{tg:{type:Number,required:!0},cc:{type:String,required:!0},vertical:{type:Boolean,required:!1,default:!0}},setup(e){const i=zt();return(o,s)=>(D(),V(gt,null,[e.vertical?(D(),V("span",Sh,[x("tr",null,[x("th",null,[rt(j(m(i).tg[e.cc].short),1),Th,x("button",{"data-tg":e.tg,value:e.cc,onClick:s[0]||(s[0]=(...u)=>m(i).reset&&m(i).reset(...u)),type:"button",class:ie(m(i).ini[e.tg][e.cc]!=m(i).tg[e.cc].def?"fix btn btn-success":"fix btn btn-outline-success"),disabled:m(i).tg[e.cc].cc==255},j(m(i).ini[e.tg][e.cc]),11,Ih)])]),x("tr",null,[x("th",null,[jt(x("input",{onWheel:s[1]||(s[1]=(...u)=>m(i).wheel&&m(i).wheel(...u)),list:e.cc+e.tg,"data-tg":e.tg,onInput:s[2]||(s[2]=(...u)=>m(i).CC&&m(i).CC(...u)),"onUpdate:modelValue":s[3]||(s[3]=u=>m(i).ini[e.tg][e.cc]=u),name:e.cc,min:m(i).tg[e.cc].min,max:m(i).tg[e.cc].max,type:m(i).tg[e.cc].type,orient:e.vertical?"vertical":"horizontal",disabled:m(i).tg[e.cc].cc==255},null,40,Eh),[[bn,m(i).ini[e.tg][e.cc]]]),x("datalist",{id:e.cc+e.tg},Fh,8,Ph)])]),x("tr",null,[x("th",null,[x("button",{id:e.tg,type:"button",class:"fix btn btn-outline-info",disabled:m(i).tg[e.cc].cc==255},"   ",8,Rh)])])])):st("",!0),e.vertical==!1?(D(),V("span",Dh,[x("button",{id:e.tg,type:"button",class:"fix btn btn-outline-info"},j(e.tg),9,Nh),jt(x("input",{list:e.cc+e.tg,"data-tg":e.tg,onInput:s[4]||(s[4]=(...u)=>o.reset&&o.reset(...u)),"onUpdate:modelValue":s[5]||(s[5]=u=>m(i).ini[e.tg][e.cc]=u),name:e.cc,min:m(i).tg[e.cc].min,max:m(i).tg[e.cc].max,type:m(i).tg[e.cc].type},null,40,Lh),[[bn,m(i).ini[e.tg][e.cc]]]),x("datalist",{id:e.cc+e.tg},Hh,8,$h),x("button",{"data-tg":e.tg,name:e.cc,value:m(i).tg[e.cc].def,onClick:s[6]||(s[6]=(...u)=>m(i).CC&&m(i).CC(...u)),type:"button",class:ie(m(i).ini[e.tg][e.cc]!=m(i).tg[e.cc].def?"fix btn btn-success":"fix btn btn-outline-success")},j(m(i).ini[e.tg][e.cc]),11,Gh)])):st("",!0)],64))}},Rt=wu(jh,[["__scopeId","data-v-b687d516"]]),Wh=x("hr",null,null,-1),Xe=0,zh={__name:"TGFx",setup(e){const i=zt();return(o,s)=>(D(),V(gt,null,[x("table",null,[x("tr",null,[x("th",null,[rt(" Reverb "),nt(_s,{tg:Xe,cc:"ReverbEnable"})]),x("th",null,[rt(j(m(i).tg.ReverbSize.short)+" ",1),nt(Rt,{tg:Xe,cc:"ReverbSize"})]),x("th",null,[rt(j(m(i).tg.ReverbHighDamp.short)+" ",1),nt(Rt,{tg:Xe,cc:"ReverbHighDamp"})]),x("th",null,[rt(j(m(i).tg.ReverbLowDamp.short)+" ",1),nt(Rt,{tg:Xe,cc:"ReverbLowDamp"})]),x("th",null,[rt(j(m(i).tg.ReverbLowPass.short)+" ",1),nt(Rt,{tg:Xe,cc:"ReverbLowPass"})]),x("th",null,[rt(j(m(i).tg.ReverbDiffusion.short)+" ",1),nt(Rt,{tg:Xe,cc:"ReverbDiffusion"})]),x("th",null,[rt(j(m(i).tg.ReverbLevel.short)+" ",1),nt(Rt,{tg:Xe,cc:"ReverbLevel"})]),x("th",null,[rt(j(m(i).tg.CompressorEnable.short)+" ",1),nt(_s,{tg:Xe,cc:"CompressorEnable"})])])]),Wh],64))}},Kh=["id"],qh=x("hr",null,null,-1),Xh=x("tr",null,[x("th",null,"param | osc:"),x("th",null,"6"),x("th",null,"5"),x("th",null,"4"),x("th",null,"3"),x("th",null,"2"),x("th",null,"1")],-1),Jh=["min","max","id","value"],Zh=["min","max","id","value"],Yh=["min","max","id","value"],Qh=["min","max","id","value"],td=["min","max","id","value"],ed=["min","max","id","value"],nd=x("hr",null,null,-1),id=["id","min","max","value"],rd={key:0},od={__name:"TGVoiceEdit",props:{tg:{type:Number,required:!0},vox:{type:Array,required:!1}},setup(e){const i=zt(),o=e,s=[],u={0:{def:0,min:0,max:99,t:"rate 1"},1:{def:0,min:0,max:99,t:"rate 2"},2:{def:0,min:0,max:99,t:"rate 3"},3:{def:0,min:0,max:99,t:"rate 4"},4:{def:0,min:0,max:99,t:"level 1"},5:{def:0,min:0,max:99,t:"level 2"},6:{def:0,min:0,max:99,t:"level 3"},7:{def:0,min:0,max:99,t:"level 4"},8:{def:0,min:0,max:0,t:"KBD LEV SCL BRK PT"},9:{def:0,min:0,max:0,t:"LFT DEPTH"},10:{def:0,min:0,max:0,t:"RHT DEPTH"},11:{def:0,min:0,max:3,t:"LFT CURVE"},12:{def:0,min:0,max:3,t:"RHT CURVE"},13:{def:0,min:0,max:7,t:"KBD RATE SCALING"},14:{def:0,min:0,max:3,t:"AMP_MOD_SENSITIVITY"},15:{def:0,min:0,max:7,t:"KEY VEL SENSITIVITY"},16:{def:0,min:0,max:99,t:"OP OUTPUT LEVEL"},17:{def:0,min:0,max:1,t:"OSC MODE"},18:{def:0,min:0,max:31,t:"OSC FREQ COARSE"},19:{def:0,min:0,max:99,t:"OSC FREQ FINE"},20:{def:0,min:0,max:14,t:"OSC DETUNE"}},f={0:"TR",1:"SD",2:"SU",3:"SQ",4:"SI",5:"SH"},c={0:{def:0,min:0,max:99,t:"PITCH EG RATE 1"},1:{def:0,min:0,max:99,t:"PITCH EG RATE 2"},2:{def:0,min:0,max:99,t:"PITCH EG RATE 3"},3:{def:0,min:0,max:99,t:"PITCH EG RATE 4"},4:{def:0,min:0,max:99,t:"PITCH EG LEVEL 1"},5:{def:0,min:0,max:99,t:"PITCH EG LEVEL 2"},6:{def:0,min:0,max:99,t:"PITCH EG LEVEL 3"},7:{def:0,min:0,max:99,t:"PITCH EG LEVEL 4"},8:{def:0,min:0,max:31,t:"ALGORITHM"},9:{def:0,min:0,max:7,t:"FEEDBACK"},10:{def:0,min:0,max:1,t:"OSCILLATOR SYNC"},11:{def:0,min:0,max:99,t:"LFO SPEED"},12:{def:0,min:0,max:99,t:"DELAY"},13:{def:0,min:0,max:99,t:"PITCH MOD DEPTH"},14:{def:0,min:0,max:99,t:"AMP MOD DEPTH"},15:{def:0,min:0,max:1,t:"LFO SYNC"},16:{def:0,min:0,max:5,t:"WAVEFORM"},17:{def:0,min:0,max:7,t:"PITCH MOD SENSITIVITY"},18:{def:0,min:0,max:48,t:"TRANSPOSE"}},h={def:0,min:0,max:0,t:"OPERATOR ON/OFF"};i.ini[o.tg].VoiceData.split(" ").forEach((I,it)=>s[it]=parseInt(I,16));const b=Dt(s),M=b.value.slice(145,155);b.value[155]&&b.value[155];let O=new Uint8Array(M);O=new TextDecoder().decode(O),console.log("vox",{bin:s,dat:b},O);function T(I){const it=Number(I.target.id),k=Number(I.target.value);b.value[it]=k,console.log("setOsc",it,k)}function $(I){const it=Number(I.target.id)+126,k=Number(I.target.value);b.value[it]=k,console.log("setOps",it,k)}const R={6:0,5:21,4:42,3:63,2:84,1:105};return(I,it)=>(D(),V(gt,null,[x("h3",null,[rt(j(m(O))+" (todo figure out checksum for upload and UI) ",1),x("button",{id:e.tg,onClick:it[0]||(it[0]=(...k)=>m(i).ShowVoiceData&&m(i).ShowVoiceData(...k)),type:"button",class:"btn btn-outline-warning"},"close",8,Kh)]),qh,x("table",null,[Xh,(D(),V(gt,null,Gt(u,(k,J)=>x("tr",{key:J},[x("td",null,j(k.t),1),x("td",null,[x("input",{onChange:T,type:"range",min:k.min,max:k.max,id:R[6]+J,value:b.value[R[6]+J]},null,40,Jh),rt(" "+j(b.value[R[6]+J]),1)]),x("td",null,[x("input",{onChange:T,type:"range",min:k.min,max:k.max,id:R[5]+J,value:b.value[R[5]+J]},null,40,Zh),rt(" "+j(b.value[R[5]+J]),1)]),x("td",null,[x("input",{onChange:T,type:"range",min:k.min,max:k.max,id:R[4]+J,value:b.value[R[4]+J]},null,40,Yh),rt(" "+j(b.value[R[4]+J]),1)]),x("td",null,[x("input",{onChange:T,type:"range",min:k.min,max:k.max,id:R[3]+J,value:b.value[R[3]+J]},null,40,Qh),rt(" "+j(b.value[R[3]+J]),1)]),x("td",null,[x("input",{onChange:T,type:"range",min:k.min,max:k.max,id:R[2]+J,value:b.value[R[2]+J]},null,40,td),rt(" "+j(b.value[R[2]+J]),1)]),x("td",null,[x("input",{onChange:T,type:"range",min:k.min,max:k.max,id:R[1]+J,value:b.value[R[1]+J]},null,40,ed),rt(" "+j(b.value[R[1]+J]),1)])])),64))]),nd,rt("Options: "),x("table",null,[(D(!0),V(gt,null,Gt(b.value.slice(126,145),(k,J)=>(D(),V("tr",{key:J},[x("td",null,j(c[J].t.trim()),1),x("td",null,[x("input",{onChange:$,id:J,type:"range",min:c[J].min,max:c[J].max,value:k},null,40,id)]),x("td",null,j(J==16?f[k]:k),1)]))),128))]),b.value[155]?(D(),V("div",rd,j(h.t)+" 1-6: "+j(b.value[155].toString(2)),1)):st("",!0)],64))}},sd=x("br",null,null,-1),ud=["data-tg","value"],ld=["disabled","list","data-tg","min","max","type"],fd=["id"],ad=x("option",{value:"0",label:"0"},null,-1),cd=x("option",{value:"64",label:"64"},null,-1),hd=x("option",{value:"100",label:"100"},null,-1),dd=x("option",{value:"127",label:"127"},null,-1),pd=[ad,cd,hd,dd],gd=["id"],md={__name:"TGVolume",props:{tg:{type:Number,required:!0},cc:{type:String,required:!0}},setup(e){const i=zt();return(o,s)=>(D(),V("table",null,[x("tr",null,[x("th",null,[rt(j(m(i).tg[e.cc].short),1),sd,x("button",{"data-tg":e.tg,value:e.cc,onClick:s[0]||(s[0]=(...u)=>m(i).reset&&m(i).reset(...u)),type:"button",class:ie(m(i).ini[e.tg].Volume!=m(i).tg.Volume.def?"fix btn btn-success":"fix btn btn-outline-success")},j(m(i).ini[e.tg].Volume),11,ud)])]),x("tr",null,[x("th",null,[jt(x("input",{disabled:m(i).ses[e.tg].mute==1,list:"Vol"+e.tg,"data-tg":e.tg,onWheel:s[1]||(s[1]=(...u)=>m(i).wheel&&m(i).wheel(...u)),onInput:s[2]||(s[2]=(...u)=>m(i).CC&&m(i).CC(...u)),"onUpdate:modelValue":s[3]||(s[3]=u=>m(i).ini[e.tg].Volume=u),name:"Volume",min:m(i).tg.Volume.min,max:m(i).tg.Volume.max,type:m(i).tg.Volume.type,orient:"vertical"},null,40,ld),[[bn,m(i).ini[e.tg].Volume]]),x("datalist",{id:"Vol"+e.tg},pd,8,fd)])]),x("tr",null,[x("th",null,[x("button",{onClick:s[4]||(s[4]=(...u)=>m(i).Mute&&m(i).Mute(...u)),id:e.tg,type:"button",class:ie(m(i).ses[e.tg].vol==0?"fix btn btn-outline-warning":"fix btn btn-warning")}," M ",10,gd)])])]))}},_d={key:0},yd={key:1},xd={key:2},vd={key:3},bd={key:4},Cd={key:5},wd={key:6},Md={key:7},Sd={key:8},Td={key:9},Id={key:10},Ed={key:11},Pd={key:12},Ad={key:13},Bd={key:14},Od={key:15},Fd={key:16},Rd={key:17},Dd={key:18},Nd={key:19},Ld={key:20},$d={key:21},Vd={key:1},kd={key:2},Ud=x("hr",null,null,-1),vr={__name:"MiniDexedBody",props:{tg:{type:Number,required:!0}},setup(e){const i=zt();return(o,s)=>(D(),V(gt,null,[m(i).ses[e.tg].showVoiceData?(D(),pn(od,{key:0,tg:e.tg},null,8,["tg"])):st("",!0),nt(Su,{tg:e.tg},null,8,["tg"]),x("table",null,[x("tr",null,[m(i).ses.tg.Volume.show?(D(),V("th",_d,[rt(j(m(i).ses.tg.Volume.short),1),nt(md,{tg:e.tg,cc:"Volume"},null,8,["tg"])])):st("",!0),m(i).ses.tg.Detune.show?(D(),V("th",yd,[rt(j(m(i).ses.tg.Detune.short)+" ",1),nt(Rt,{tg:e.tg,cc:"Detune"},null,8,["tg"])])):st("",!0),m(i).ses.tg.Resonance.show?(D(),V("th",xd,[rt(j(m(i).ses.tg.Resonance.short)+" ",1),nt(Rt,{tg:e.tg,cc:"Resonance"},null,8,["tg"])])):st("",!0),m(i).ses.tg.Cutoff.show?(D(),V("th",vd,[rt(j(m(i).ses.tg.Cutoff.short)+" ",1),nt(Rt,{tg:e.tg,cc:"Cutoff"},null,8,["tg"])])):st("",!0),m(i).ses.tg.ReverbSend.show?(D(),V("th",bd,[rt(j(m(i).ses.tg.ReverbSend.short)+" ",1),nt(Rt,{tg:e.tg,cc:"ReverbSend"},null,8,["tg"])])):st("",!0),m(i).ses.tg.NoteLimitLow.show?(D(),V("th",Cd,[rt(j(m(i).ses.tg.NoteLimitLow.short)+" ",1),nt(Rt,{tg:e.tg,cc:"NoteLimitLow"},null,8,["tg"])])):st("",!0),m(i).ses.tg.NoteLimitHigh.show?(D(),V("th",wd,[rt(j(m(i).ses.tg.NoteLimitHigh.short)+" ",1),nt(Rt,{tg:e.tg,cc:"NoteLimitHigh"},null,8,["tg"])])):st("",!0),m(i).ses.tg.NoteShift.show?(D(),V("th",Md,[rt(j(m(i).ses.tg.NoteShift.short)+" ",1),nt(Rt,{tg:e.tg,cc:"NoteShift"},null,8,["tg"])])):st("",!0),m(i).ses.tg.PitchBendRange.show?(D(),V("th",Sd,[rt(j(m(i).ses.tg.PitchBendRange.short)+" ",1),nt(Rt,{tg:e.tg,cc:"PitchBendRange"},null,8,["tg"])])):st("",!0),m(i).ses.tg.PitchBendStep.show?(D(),V("th",Td,[rt(j(m(i).ses.tg.PitchBendStep.short)+" ",1),nt(Rt,{tg:e.tg,cc:"PitchBendStep"},null,8,["tg"])])):st("",!0),m(i).ses.tg.PortamentoMode.show?(D(),V("th",Id,[rt(j(m(i).ses.tg.PortamentoMode.short)+" ",1),nt(Rt,{tg:e.tg,cc:"PortamentoMode"},null,8,["tg"])])):st("",!0),m(i).ses.tg.PortamentoGlissando.show?(D(),V("th",Ed,[rt(j(m(i).ses.tg.PortamentoGlissando.short)+" ",1),nt(Rt,{tg:e.tg,cc:"PortamentoGlissando"},null,8,["tg"])])):st("",!0),m(i).ses.tg.PortamentoTime.show?(D(),V("th",Pd,[rt(j(m(i).ses.tg.PortamentoTime.short)+" ",1),nt(Rt,{tg:e.tg,cc:"PortamentoTime"},null,8,["tg"])])):st("",!0),m(i).ses.tg.MonoMode.show?(D(),V("th",Ad,[rt(j(m(i).ses.tg.MonoMode.short)+" ",1),nt(Rt,{tg:e.tg,cc:"MonoMode"},null,8,["tg"])])):st("",!0),m(i).ses.tg.ModulationWheelRange.show?(D(),V("th",Bd,[rt(j(m(i).ses.tg.ModulationWheelRange.short)+" ",1),nt(Rt,{tg:e.tg,cc:"ModulationWheelRange"},null,8,["tg"])])):st("",!0),m(i).ses.tg.ModulationWheelTarget.show?(D(),V("th",Od,[rt(j(m(i).ses.tg.ModulationWheelTarget.short)+" ",1),nt(Rt,{tg:e.tg,cc:"ModulationWheelTarget"},null,8,["tg"])])):st("",!0),m(i).ses.tg.FootControlRange.show?(D(),V("th",Fd,[rt(j(m(i).ses.tg.FootControlRange.short)+" ",1),nt(Rt,{tg:e.tg,cc:"FootControlRange"},null,8,["tg"])])):st("",!0),m(i).ses.tg.FootControlTarget.show?(D(),V("th",Rd,[rt(j(m(i).ses.tg.FootControlTarget.short)+" ",1),nt(Rt,{tg:e.tg,cc:"FootControlTarget"},null,8,["tg"])])):st("",!0),m(i).ses.tg.BreathControlRange.show?(D(),V("th",Dd,[rt(j(m(i).ses.tg.BreathControlRange.short)+" ",1),nt(Rt,{tg:e.tg,cc:"BreathControlRange"},null,8,["tg"])])):st("",!0),m(i).ses.tg.BreathControlTarget.show?(D(),V("th",Nd,[rt(j(m(i).ses.tg.BreathControlTarget.short)+" ",1),nt(Rt,{tg:e.tg,cc:"BreathControlTarget"},null,8,["tg"])])):st("",!0),m(i).ses.tg.AftertouchRange.show?(D(),V("th",Ld,[rt(j(m(i).ses.tg.AftertouchRange.short)+" ",1),nt(Rt,{tg:e.tg,cc:"AftertouchRange"},null,8,["tg"])])):st("",!0),m(i).ses.tg.AftertouchTarget.show?(D(),V("th",$d,[rt(j(m(i).ses.tg.AftertouchTarget.short)+" ",1),nt(Rt,{tg:e.tg,cc:"AftertouchTarget"},null,8,["tg"])])):st("",!0)])]),m(i).ses.tg.Pan.show?(D(),V("span",Vd,[rt(j(m(i).ses.tg.Pan.short)+" ",1),nt(Mu,{tg:e.tg,cc:"Pan"},null,8,["tg"])])):st("",!0),m(i).ses.tg.MIDIChannel.show?(D(),V("div",kd,[rt(j(m(i).ses.tg.MIDIChannel.short)+" ",1),nt(Tu,{tg:e.tg,cc:"MIDIChannel"},null,8,["tg"]),Ud])):st("",!0)],64))}},Hd=x("option",{value:"up"},"upload performance .ini",-1),Gd=["value"],jd={__name:"TGPerformance",setup(e){const i=zt();function o(u){u.target.value=="up"?document.getElementById("perfUpload").click():i.Perf(u)}function s(u){let f="";const[c]=u.target.files,h=new FileReader;h.addEventListener("load",()=>{f=h.result,i.Upload("perf",c,f)},!1),c&&h.readAsText(c)}return(u,f)=>(D(),V(gt,null,[x("input",{type:"file",id:"perfUpload",style:{display:"none"},ref:"fileInput",accept:".ini, .json",onChange:s},null,544),jt(x("select",{"onUpdate:modelValue":f[0]||(f[0]=c=>m(i).perf=c),onChange:o,class:"form-select",style:{width:"200px"}},[Hd,(D(!0),V(gt,null,Gt(m(i).perfs,(c,h)=>(D(),V("option",{key:h,value:h},j(c.name),9,Gd))),128))],544),[[kn,m(i).perf]])],64))}},Wd={type:"button",class:"btn btn-primary"},zd={__name:"MiniDexedHead",setup(e){const i=zt(),o=oo(),s=["btn btn-outline-warning","btn btn-outline-success","btn btn-outline-danger","btn btn-outline-danger"];return(u,f)=>(D(),V(gt,null,[nt(jd),x("button",Wd,"Vol:"+j(m(i).mainVol),1),jt(x("input",{onInput:f[0]||(f[0]=(...c)=>m(i).MainVol&&m(i).MainVol(...c)),type:"range",class:"form-range",id:"volume",name:"volume",min:"0",max:"127","onUpdate:modelValue":f[1]||(f[1]=c=>m(i).mainVol=c)},null,544),[[Rr,m(i).mainVol]]),x("button",{type:"button",class:ie(s[m(o).state])},"ws:"+j(m(o).state),3)],64))}},Kd={key:0},qd=["onClick"],Xd={__name:"MiniDexedTail",setup(e){const i=zt();return(o,s)=>(D(!0),V(gt,null,Gt(m(i).ses.tg,(u,f)=>(D(),V("span",{key:f},[u.show!=null?(D(),V("span",Kd,[x("button",{onClick:c=>m(i).Show(f),type:"button",class:ie(m(i).ses.tg[f].show?"btn btn-success":"btn btn-outline-success")},j(m(i).tg[f].name),11,qd)])):st("",!0),rt("  ")]))),128))}};var ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Iu={exports:{}},br,xs;function Jd(){return xs||(xs=1,br=void 0),br}(function(e,i){(function(o,s){e.exports=s()})(ys,function(){var o=typeof window>"u"?ys:window,s="1.7.7",u,f,c,h,g,b=Date.now||function(){return new Date().getTime()},M=b(),O=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return b()-M},T=function(t){setTimeout(t,0)};function $(){}function R(t){return typeof t=="function"}function I(){this._orig=this,this._ready=!1,this._queue=[],this._log=[]}I.prototype._exec=function(){for(;this._ready&&this._queue.length;){var t=this._queue.shift();t[0].apply(this,t[1])}},I.prototype._push=function(t,n){this._queue.push([t,n]),I.prototype._exec.apply(this)},I.prototype._slip=function(t,n){this._queue.unshift([t,n])},I.prototype._pause=function(){this._ready=!1},I.prototype._resume=function(){this._ready=!0,I.prototype._exec.apply(this)},I.prototype._break=function(t){this._orig._bad=!0,this._orig._log.push(t||"Unknown JZZ error")},I.prototype._repair=function(){this._orig._bad=!1},I.prototype._crash=function(t){this._break(t),this._resume()},I.prototype._err=function(){return this._log[this._log.length-1]},I.prototype.log=function(){return Ut(this._log)},I.prototype._dup=function(){var t=function(){};t.prototype=this._orig;var n=new t;return n._ready=!1,n._queue=[],n},I.prototype._image=function(){return this._dup()},I.prototype._thenable=function(){if(this.then)return this;var t=this,n=function(){};n.prototype=t;var r=new n;return r.then=function(l,a){return t._push(it,[l,a]),this},r};function it(t,n){this._bad?R(n)&&n.apply(this,[new Error(this._err())]):R(t)&&t.apply(this,[this])}function k(t,n){this._bad?t._crash(this._err()):setTimeout(function(){t._resume()},n)}I.prototype.wait=function(t){if(!t)return this;var n=this._image();return this._push(k,[n,t]),n._thenable()};function J(t){this._bad&&t._break(this._err()),t._resume()}function ht(t,n,r){t[r]=function(){var l=arguments,a=n._image();return this._push(J,[a]),a[r].apply(a,l)}}function Ft(t){this._bad||(R(t)?t.apply(this):console.log(t))}I.prototype.and=function(t){return this._push(Ft,[t]),this._thenable()};function St(t){this._bad&&(R(t)?t.apply(this):console.log(t))}I.prototype.or=function(t){return this._push(St,[t]),this._thenable()},I.prototype._info={},I.prototype.info=function(){var t=Ut(this._orig._info);return typeof t.engine>"u"&&(t.engine="none"),typeof t.sysex>"u"&&(t.sysex=!0),t},I.prototype.name=function(){return this.info().name};function ft(t){this._bad?t._crash(this._err()):(this._break("Closed"),t._resume())}I.prototype.close=function(){var t=new I;return this._close&&this._push(this._close,[]),this._push(ft,[t]),t._thenable()};function kt(t){if(!t.length){this._break();return}var n=t.shift();if(t.length){var r=this;this._slip(St,[function(){kt.apply(r,[t])}])}try{this._repair(),n.apply(this)}catch(l){this._break(l.toString())}}function lt(t,n){for(var r=0;r<t.length;r++)if(t[r]===n)return;t.push(n)}function dt(t,n){for(var r=0;r<t.length;r++)if(t[r]===n){t.splice(r,1);return}}function at(){I.apply(this)}at.prototype=new I;function pt(t,n){for(var r in t)t.hasOwnProperty(r)&&n.call(this,r)}function Ut(t,n,r){if(typeof n>"u")return Ut(t,[],[]);if(t instanceof Object){for(var l=0;l<n.length;l++)if(n[l]===t)return r[l];var a;return t instanceof Array?a=[]:a={},n.push(t),r.push(a),pt(t,function(p){a[p]=Ut(t[p],n,r)}),a}return t}at.prototype._info={name:"JZZ.js",ver:s,version:s,inputs:[],outputs:[]};var ue=[],ae=[],ce=[],Ct=[],Pt={},A={};function F(){E._info.engine=d._type,E._info.version=d._version,E._info.sysex=d._sysex,E._info.inputs=[],E._info.outputs=[],ue=[],ae=[],d._allOuts={},d._allIns={};var t,n;for(t=0;t<d._outs.length;t++)n=d._outs[t],!Pt[n.name]&&(n.engine=d,d._allOuts[n.name]=n,E._info.outputs.push({id:n.name,name:n.name,manufacturer:n.manufacturer,version:n.version,engine:d._type}),ue.push(n));for(t=0;t<Y._outs.length;t++)n=Y._outs[t],!Pt[n.name]&&(E._info.outputs.push({id:n.name,name:n.name,manufacturer:n.manufacturer,version:n.version,engine:n.type}),ue.push(n));for(t=0;t<d._ins.length;t++)n=d._ins[t],!A[n.name]&&(n.engine=d,d._allIns[n.name]=n,E._info.inputs.push({id:n.name,name:n.name,manufacturer:n.manufacturer,version:n.version,engine:d._type}),ae.push(n));for(t=0;t<Y._ins.length;t++)n=Y._ins[t],!A[n.name]&&(E._info.inputs.push({id:n.name,name:n.name,manufacturer:n.manufacturer,version:n.version,engine:n.type}),ae.push(n));if(E._watcher&&E._watcher._handles.length){var r=W(Ct,ce,E._info.inputs,E._info.outputs);if(r){for(f=0;f<r.inputs.removed.length;f++)n=d._inMap[r.inputs.removed[f].name],n&&n._closeAll();for(f=0;f<r.outputs.removed.length;f++)n=d._outMap[r.outputs.removed[f].name],n&&n._closeAll();N(r)}}Ct=E._info.inputs,ce=E._info.outputs}function U(){this._bad||d._refresh(this)}at.prototype.refresh=function(){return this._push(U,[]),this._thenable()};function _t(t,n){var r,l;R(t)&&(t=t(n)),t instanceof Array||(t=[t]);var a=[],p=[],_=n.slice(),S=a;for(r=0;r<t.length;r++)if(typeof t[r]>"u")S=p;else if(t[r]instanceof RegExp)for(l=0;l<_.length;l++)t[r].test(_[l].name)&&(S.push(_[l]),_.splice(l,1),l--);else for(l=0;l<_.length;l++)(t[r]+""==l+""||t[r]===_[l].name||t[r]instanceof Object&&t[r].name===_[l].name)&&(S.push(_[l]),_.splice(l,1),l--);return S==a?a:a.concat(_).concat(p)}function vt(t,n){var r;n instanceof RegExp?r="Port matching "+n+" not found":n instanceof Object||typeof n>"u"?r="Port not found":r='Port "'+n+'" not found',t._crash(r)}function Et(t,n){if(this._bad)t._crash(this._err());else{var r=_t(n,ue);if(!r.length){vt(t,n);return}for(var l=function(p){return function(){p.engine._openOut(this,p.name)}},a=0;a<r.length;a++)r[a]=l(r[a]);t._slip(kt,[r]),t._resume()}}at.prototype.openMidiOut=function(t){var n=new ut;return this._push(U,[]),this._push(Et,[n,t]),n._thenable()},at.prototype._openMidiOutNR=function(t){var n=new ut;return this._push(Et,[n,t]),n._thenable()};function Kt(t,n){if(this._bad)t._crash(this._err());else{var r=_t(n,ae);if(!r.length){vt(t,n);return}for(var l=function(p){return function(){p.engine._openIn(this,p.name)}},a=0;a<r.length;a++)r[a]=l(r[a]);t._slip(kt,[r]),t._resume()}}at.prototype.openMidiIn=function(t){var n=new ut;return this._push(U,[]),this._push(Kt,[n,t]),n._thenable()},at.prototype._openMidiInNR=function(t){var n=new ut;return this._push(Kt,[n,t]),n._thenable()};function Te(t,n){this._bad?t._crash():(t._slip(G,[n]),t._resume())}at.prototype.onChange=function(t){this._orig._watcher||(this._orig._watcher=new P);var n=this._orig._watcher._image();return this._push(Te,[n,t]),n._thenable()},at.prototype._close=function(){d._close()};function ut(){I.apply(this),this._handles=[],this._outs=[]}ut.prototype=new I,ut.prototype._filter=function(t){if(this._orig._mpe){var n,r=0;this._handles&&this._handles.length&&(r=this._handles.length,n=this._handles[0]),this._outs&&this._outs.length&&(r=this._outs.length,n=this._outs[0]),r==1&&!n._mpe&&(t=this._orig._mpe.filter(t))}return t},ut.prototype._receive=function(t){this._emit(this._filter(t))};function sn(t){this._bad||this._receive(t)}ut.prototype.send=function(){return this._push(sn,[Tn.apply(null,arguments)]),this._thenable()},ut.prototype.note=function(t,n,r,l){return this.noteOn(t,n,r),typeof this._ch>"u"&&typeof this._master>"u"?l>0&&this.wait(l).noteOff(t,n):r>0&&this.wait(r).noteOff(t),this._thenable()};function Tn(t){return t.isMidi2?new et(t):C.apply(null,arguments)}ut.prototype._emit=function(t){var n,r;for(n=0;n<this._handles.length;n++)r=Tn(t),this._handles[n].apply(this,[r._stamp(this)]);for(n=0;n<this._outs.length;n++)r=Tn(t),r._stamped(this._outs[n])||this._outs[n].send(r._stamp(this))};function He(t){this._emit(t)}ut.prototype.emit=function(t){return this._push(He,[t]),this._thenable()};function In(t){R(t)?lt(this._orig._handles,t):lt(this._orig._outs,t)}function Gn(t){typeof t>"u"?(this._orig._handles=[],this._orig._outs=[]):R(t)?dt(this._orig._handles,t):dt(this._orig._outs,t)}ut.prototype.connect=function(t){return this._push(In,[t]),this._thenable()},ut.prototype.disconnect=function(t){return this._push(Gn,[t]),this._thenable()},ut.prototype.connected=function(){return this._orig._handles.length+this._orig._outs.length},ut.prototype._image=function(){var t=this._dup();return t._gr=this._gr,t._ch=this._ch,t._sxid=this._sxid,t._master=this._master,t._band=this._band,t},ut.prototype._sxid=127,ut.prototype.sxId=function(t){if(typeof t>"u"&&(t=ut.prototype._sxid),t==this._sxid)return this._thenable();t=K(t);var n=this._image();return n._sxid=t,this._push(J,[n]),n._thenable()},ut.prototype.ch=function(t){if(t==this._ch||typeof t>"u"&&typeof this._ch>"u")return this._thenable();var n=this._image();return typeof t<"u"&&(t=z(t)),n._ch=t,n._master=void 0,n._band=void 0,this._push(J,[n]),n._thenable()},ut.prototype.MIDI1=function(){var t=this._image();return t._ch=void 0,t._sxid=ut.prototype._sxid,t._master=void 0,t._band=void 0,this._push(J,[t]),t._thenable()},ut.prototype.MIDI2=function(){var t=this._image();t._ch=void 0,t._sxid=ut.prototype._sxid,t._master=void 0,t._band=void 0;var n=new w(t);return this._push(J,[n]),n._thenable()};function y(t,n){this._orig._mpe||(this._orig._mpe=new we),this._orig._mpe.setup(t,n)}ut.prototype.mpe=function(t,n){if(t==this._master&&n==this._band||typeof t>"u"&&typeof this._master>"u")return this._thenable();if(typeof t<"u"&&we.validate(t,n),!n)return this.ch(t);var r=this._image();return r._ch=void 0,r._master=t,r._band=n,this._push(y,[t,n]),this._push(J,[r]),r._thenable()};function v(t){if(t!=parseInt(t)||t<0||t>15)throw RangeError("Bad channel value (must not be less than 0 or more than 15): "+t)}function w(t){I.apply(this),this._sink=t}w.prototype=new I,w.prototype._sxid=ut.prototype._sxid,w.prototype._receive=function(t){this._sink._receive(t)};function B(t){return t.isMidi&&!t.isMidi2?new C(t):et.apply(null,arguments)}w.prototype.send=function(){return this._push(sn,[B.apply(null,arguments)]),this._thenable()},w.prototype._image=ut.prototype._image,w.prototype.connect=function(t){return this._sink.connect(t),this._push(J,[this._sink]),this._thenable()},w.prototype.disconnect=function(t){return this._sink.disconnect(t),this._push(J,[this._sink]),this._thenable()},w.prototype.connected=function(){return this._sink.connected()},w.prototype.sxId=ut.prototype.sxId,w.prototype.ch=ut.prototype.ch,w.prototype.gr=function(t){if(t==this._gr||typeof t>"u"&&typeof this._gr>"u")return this._thenable();var n=this._image();return typeof t<"u"&&(t=K(t)),n._gr=t,this._push(J,[n]),n._thenable()},w.prototype.MIDI1=function(){var t=this._sink._image();return this._push(J,[t]),t._thenable()},w.prototype.MIDI2=function(){var t=this._image();return t._gr=void 0,t._ch=void 0,t._sxid=ut.prototype._sxid,this._push(J,[t]),t._thenable()};function P(){I.apply(this),this._handles=[],ht(this,E,"refresh"),ht(this,E,"openMidiOut"),ht(this,E,"openMidiIn"),ht(this,E,"onChange"),ht(this,E,"close")}P.prototype=new I;function G(t){R(t)&&(this._orig._handles.length||d._watch(),lt(this._orig._handles,t))}function q(t){typeof t>"u"?this._orig._handles=[]:dt(this._orig._handles,t),this._orig._handles.length||d._unwatch()}P.prototype.connect=function(t){return this._push(G,[t]),this._thenable()},P.prototype.disconnect=function(t){return this._push(q,[t]),this._thenable()};function H(t,n,r,l){var a;if(t.length!=r.length||n.length!=l.length)return!0;for(a=0;a<t.length;a++)if(t[a].name!=r[a].name)return!0;for(a=0;a<n.length;a++)if(n[a].name!=l[a].name)return!0;return!1}function W(t,n,r,l){if(H(t,n,r,l)){var a=[],p=[],_=[],S=[],L,Z={};for(L=0;L<t.length;L++)Z[t[L].name]=!0;for(L=0;L<r.length;L++)Z[r[L].name]||a.push(r[L]);for(Z={},L=0;L<r.length;L++)Z[r[L].name]=!0;for(L=0;L<t.length;L++)Z[t[L].name]||_.push(t[L]);for(Z={},L=0;L<n.length;L++)Z[n[L].name]=!0;for(L=0;L<l.length;L++)Z[l[L].name]||p.push(l[L]);for(Z={},L=0;L<l.length;L++)Z[l[L].name]=!0;for(L=0;L<n.length;L++)Z[n[L].name]||S.push(n[L]);return{inputs:{added:a,removed:_},outputs:{added:p,removed:S}}}}function N(t){for(u=0;u<E._watcher._handles.length;u++)E._watcher._handles[u].apply(E,[t])}var E,d={_outs:[],_ins:[]},Y={_outs:[],_ins:[]};function ct(){if(e.exports){var t=Jd();if(t){Pu(t);return}}this._break()}function yt(){var t=document.createElement("div");t.style.visibility="hidden",document.body.appendChild(t);var n=document.createElement("object");if(n.style.visibility="hidden",n.style.width="0px",n.style.height="0px",n.classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90",n.type="audio/x-jazz",document.body.appendChild(n),n.isJazz){Au(n);return}this._break()}var Tt,It;function Ht(){if(typeof navigator<"u"&&navigator.requestMIDIAccess){Tt=navigator,It=navigator.requestMIDIAccess;try{It.toString().indexOf("JZZ(")!=-1&&(It=void 0)}catch{}}}function he(){if(Ht(),It){var t=this,n=function(a){lo(a),t._resume()},r=function(a){t._crash(a)},l={};It.call(Tt,l).then(n,r),this._pause();return}this._break()}function Ge(){if(Ht(),It){var t=this,n=function(a){lo(a,!0),t._resume()},r=function(a){t._crash(a)},l={sysex:!0};It.call(Tt,l).then(n,r),this._pause();return}this._break()}function li(){var t=this,n,r;function l(a){n=!0;var p=a.detail;if(!p){if(r||(r=document.getElementById("jazz-midi-msg")),!r)return;try{p=JSON.parse(r.innerText)}catch{}r.innerText=""}document.removeEventListener("jazz-midi-msg",l),p[0]==="version"?(Bu(r,p[2]),t._resume()):t._crash()}this._pause();try{document.addEventListener("jazz-midi-msg",l),document.dispatchEvent(new Event("jazz-midi"))}catch{}setTimeout(function(){n||t._crash()},50)}function un(){this._pause();var t=this;T(function(){t._crash()})}function fi(t){for(var n=[],r=re(t),l=0;l<r.length;l++)r[l]=="webmidi"?(t&&t.sysex===!0&&n.push(Ge),(!t||t.sysex!==!0||t.degrade===!0)&&n.push(he)):r[l]=="node"?(n.push(ct),n.push(un)):r[l]=="extension"?n.push(li):r[l]=="plugin"&&n.push(yt);return n.push(ai),n}function re(t){var n=["node","extension","plugin","webmidi"];if(!t||!t.engine)return n;var r=t.engine instanceof Array?t.engine:[t.engine],l={},a,p,_=[],S=[],L;for(L=0;L<r.length;L++){var Z=r[L].toString().toLowerCase();l[Z]||(l[Z]=!0,Z==="none"&&(a=!0),(Z==="etc"||typeof Z>"u")&&(p=!0),p?S.push(Z):_.push(Z),dt(n,Z))}return(p||_.length||S.length)&&(a=!1),a?[]:_.concat(p?n:S)}function ge(t){E=new at,E._options=t,E._push(kt,[fi(t)]),E.refresh(),E._resume()}function ai(){d._type="none",d._version=s,d._sysex=!0,d._outs=[],d._ins=[],d._refresh=function(){F()},d._watch=$,d._unwatch=$,d._close=$}function uo(){d._inArr=[],d._outArr=[],d._inMap={},d._outMap={},d._outsW=[],d._insW=[],d._version=d._main.version,d._sysex=!0;var t;function n(){for(var r=0;r<this.clients.length;r++)this._close(this.clients[r])}d._refresh=function(){d._outs=[],d._ins=[];var r,l;for(r=0;(l=d._main.MidiOutInfo(r)).length;r++)d._outs.push({type:d._type,name:l[0],manufacturer:l[1],version:l[2]});for(r=0;(l=d._main.MidiInInfo(r)).length;r++)d._ins.push({type:d._type,name:l[0],manufacturer:l[1],version:l[2]});F()},d._openOut=function(r,l){var a=d._outMap[l];if(!a){d._pool.length<=d._outArr.length&&d._pool.push(d._newPlugin()),a={name:l,clients:[],info:{name:l,manufacturer:d._allOuts[l].manufacturer,version:d._allOuts[l].version,type:"MIDI-out",sysex:d._sysex,engine:d._type},_close:function(S){d._closeOut(S)},_closeAll:n,_receive:function(S){S.length&&this.plugin.MidiOutRaw(S.slice())}};var p=d._pool[d._outArr.length];a.plugin=p,d._outArr.push(a),d._outMap[l]=a}if(!a.open){var _=a.plugin.MidiOutOpen(l);if(_!==l){_&&a.plugin.MidiOutClose(),r._break();return}a.open=!0}r._orig._impl=a,lt(a.clients,r._orig),r._info=a.info,r._receive=function(S){a._receive(S)},r._close=function(){a._close(this)}},d._openIn=function(r,l){var a=d._inMap[l];if(!a){d._pool.length<=d._inArr.length&&d._pool.push(d._newPlugin()),a={name:l,clients:[],info:{name:l,manufacturer:d._allIns[l].manufacturer,version:d._allIns[l].version,type:"MIDI-in",sysex:d._sysex,engine:d._type},_close:function(L){d._closeIn(L)},_closeAll:n,handle:function(L,Z){for(var Wt=0;Wt<this.clients.length;Wt++){var Le=C(Z);this.clients[Wt]._emit(Le)}}};var p=function(L){return function(Z,Wt){L.handle(Z,Wt)}};a.onmidi=p(a);var _=d._pool[d._inArr.length];a.plugin=_,d._inArr.push(a),d._inMap[l]=a}if(!a.open){var S=a.plugin.MidiInOpen(l,a.onmidi);if(S!==l){S&&a.plugin.MidiInClose(),r._break();return}a.open=!0}r._orig._impl=a,lt(a.clients,r._orig),r._info=a.info,r._close=function(){a._close(this)}},d._closeOut=function(r){var l=r._impl;dt(l.clients,r._orig),!l.clients.length&&l.open&&(l.open=!1,l.plugin.MidiOutClose())},d._closeIn=function(r){var l=r._impl;dt(l.clients,r._orig),!l.clients.length&&l.open&&(l.open=!1,l.plugin.MidiInClose())},d._close=function(){for(var r=0;r<d._inArr.length;r++)d._inArr[r].open&&d._inArr[r].plugin.MidiInClose();d._unwatch()},d._watch=function(){t||(t=setInterval(function(){d._refresh()},250))},d._unwatch=function(){t&&clearInterval(t),t=void 0}}function Pu(t){d._type="node",d._main=t,d._pool=[],d._newPlugin=function(){return new t.MIDI},uo()}function Au(t){d._type="plugin",d._main=t,d._pool=[t],d._newPlugin=function(){var n=document.createElement("object");return n.style.visibility="hidden",n.style.width="0px",t.style.height="0px",n.classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90",n.type="audio/x-jazz",document.body.appendChild(n),n.isJazz?n:void 0},uo()}function lo(t,n){d._type="webmidi",d._version=43,d._sysex=!!n,d._access=t,d._inMap={},d._outMap={},d._outsW=[],d._insW=[];var r;function l(){for(var a=0;a<this.clients.length;a++)this._close(this.clients[a])}d._refresh=function(){d._outs=[],d._ins=[],d._access.outputs.forEach(function(a){d._outs.push({type:d._type,name:a.name,manufacturer:a.manufacturer,version:a.version})}),d._access.inputs.forEach(function(a){d._ins.push({type:d._type,name:a.name,manufacturer:a.manufacturer,version:a.version})}),F()},d._openOut=function(a,p){var _=d._outMap[p];_||(_={name:p,clients:[],info:{name:p,manufacturer:d._allOuts[p].manufacturer,version:d._allOuts[p].version,type:"MIDI-out",sysex:d._sysex,engine:d._type},_close:function(L){d._closeOut(L)},_closeAll:l,_receive:function(L){_.dev&&L.length&&this.dev.send(L.slice())}});var S;d._access.outputs.forEach(function(L){L.name===p&&(S=L)}),S?(_.dev=S,d._outMap[p]=_,a._orig._impl=_,lt(_.clients,a._orig),a._info=_.info,a._receive=function(L){_._receive(L)},a._close=function(){_._close(this)},_.dev.open&&(a._pause(),_.dev.open().then(function(){a._resume()},function(){a._crash()}))):a._break()},d._openIn=function(a,p){var _=d._inMap[p];_||(_={name:p,clients:[],info:{name:p,manufacturer:d._allIns[p].manufacturer,version:d._allIns[p].version,type:"MIDI-in",sysex:d._sysex,engine:d._type},_close:function(Z){d._closeIn(Z)},_closeAll:l,handle:function(Z){for(var Wt=0;Wt<this.clients.length;Wt++){var Le=C([].slice.call(Z.data));this.clients[Wt]._emit(Le)}}});var S;if(d._access.inputs.forEach(function(Z){Z.name===p&&(S=Z)}),S){_.dev=S;var L=function(Z){return function(Wt){Z.handle(Wt)}};_.dev.onmidimessage=L(_),d._inMap[p]=_,a._orig._impl=_,lt(_.clients,a._orig),a._info=_.info,a._close=function(){_._close(this)},_.dev.open&&(a._pause(),_.dev.open().then(function(){a._resume()},function(){a._crash()}))}else a._break()},d._closeOut=function(a){var p=a._impl;dt(p.clients,a._orig),p.clients.length||(p.dev&&p.dev.close&&p.dev.close(),p.dev=void 0)},d._closeIn=function(a){var p=a._impl;dt(p.clients,a._orig),p.clients.length||(p.dev&&(p.dev.onmidimessage=null,p.dev.close&&p.dev.close()),p.dev=void 0)},d._close=function(){d._unwatch()},d._watch=function(){d._access.onstatechange=function(){r=!0,T(function(){r&&(d._refresh(),r=!1)})}},d._unwatch=function(){d._access.onstatechange=void 0}}function Bu(t,n){d._type="extension",d._version=n,d._sysex=!0,d._pool=[],d._outs=[],d._ins=[],d._inArr=[],d._outArr=[],d._inMap={},d._outMap={},d._outsW=[],d._insW=[],d.refreshClients=[],d._msg=t,d._newPlugin=function(){var a={id:d._pool.length};d._pool.push(a),a.id?document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["new"]})):a.ready=!0},d._newPlugin(),d._refresh=function(a){d.refreshClients.push(a),a._pause(),T(function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["refresh"]}))})};function r(){for(var a=0;a<this.clients.length;a++)this._close(this.clients[a])}d._openOut=function(a,p){var _=d._outMap[p];if(!_){d._pool.length<=d._outArr.length&&d._newPlugin();var S=d._pool[d._outArr.length];_={name:p,clients:[],info:{name:p,manufacturer:d._allOuts[p].manufacturer,version:d._allOuts[p].version,type:"MIDI-out",sysex:d._sysex,engine:d._type},_start:function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["openout",S.id,p]}))},_close:function(L){d._closeOut(L)},_closeAll:r,_receive:function(L){if(L.length){var Z=L.slice();Z.splice(0,0,"play",S.id),document.dispatchEvent(new CustomEvent("jazz-midi",{detail:Z}))}}},_.plugin=S,S.output=_,d._outArr.push(_),d._outMap[p]=_}a._orig._impl=_,lt(_.clients,a._orig),a._info=_.info,a._receive=function(L){_._receive(L)},a._close=function(){_._close(this)},_.open||(a._pause(),_.plugin.ready&&_._start())},d._openIn=function(a,p){var _=d._inMap[p];if(!_){d._pool.length<=d._inArr.length&&d._newPlugin();var S=d._pool[d._inArr.length];_={name:p,clients:[],info:{name:p,manufacturer:d._allIns[p].manufacturer,version:d._allIns[p].version,type:"MIDI-in",sysex:d._sysex,engine:d._type},_start:function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["openin",S.id,p]}))},_close:function(L){d._closeIn(L)},_closeAll:r},_.plugin=S,S.input=_,d._inArr.push(_),d._inMap[p]=_}a._orig._impl=_,lt(_.clients,a._orig),a._info=_.info,a._close=function(){_._close(this)},_.open||(a._pause(),_.plugin.ready&&_._start())},d._closeOut=function(a){var p=a._impl;dt(p.clients,a._orig),!p.clients.length&&p.open&&(p.open=!1,document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["closeout",p.plugin.id]})))},d._closeIn=function(a){var p=a._impl;dt(p.clients,a._orig),!p.clients.length&&p.open&&(p.open=!1,document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["closein",p.plugin.id]})))},d._close=function(){d._unwatch()};var l;d._watch=function(){d._insW=d._ins,d._outsW=d._outs,l=setInterval(function(){document.dispatchEvent(new CustomEvent("jazz-midi",{detail:["refresh"]}))},250)},d._unwatch=function(){clearInterval(l),l=void 0},document.addEventListener("jazz-midi-msg",function(a){var p,_,S,L=a.detail?[a.detail]:void 0;if(!L)for(L=d._msg.innerText.split(`
`),d._msg.innerText="",p=0;p<L.length;p++)try{L[p]=JSON.parse(L[p])}catch{L[p]=[]}for(p=0;p<L.length;p++){var Z=L[p];if(Z.length){if(Z[0]==="refresh"){if(Z[1].ins){for(_=0;_<Z[1].ins.length;_++)Z[1].ins[_].type=d._type;d._ins=Z[1].ins}if(Z[1].outs){for(_=0;_<Z[1].outs.length;_++)Z[1].outs[_].type=d._type;d._outs=Z[1].outs}for(F(),_=0;_<d.refreshClients.length;_++)d.refreshClients[_]._resume();d.refreshClients=[]}else if(Z[0]==="version"){var Wt=d._pool[Z[1]];Wt&&(Wt.ready=!0,Wt.input&&Wt.input._start(),Wt.output&&Wt.output._start())}else if(Z[0]==="openout"){if(S=d._pool[Z[1]].output,S){if(Z[2]==S.name){if(S.open=!0,S.clients)for(_=0;_<S.clients.length;_++)S.clients[_]._resume()}else if(S.clients)for(_=0;_<S.clients.length;_++)S.clients[_]._crash()}}else if(Z[0]==="openin"){if(S=d._pool[Z[1]].input,S){if(Z[2]==S.name){if(S.open=!0,S.clients)for(_=0;_<S.clients.length;_++)S.clients[_]._resume()}else if(S.clients)for(_=0;_<S.clients.length;_++)S.clients[_]._crash()}}else if(Z[0]==="midi"&&(S=d._pool[Z[1]].input,S&&S.clients))for(_=0;_<S.clients.length;_++){var Le=C(Z.slice(3));S.clients[_]._emit(Le)}}}})}var X=function(t){return E||ge(t),E._thenable()};X.JZZ=X,X.version=s,X.info=function(){return at.prototype.info()};function Ou(t){var n=new ut;return t instanceof Object&&pt(t,function(r){n[r]=t[r]}),n._resume(),n}X.Widget=Ou,at.prototype.Widget=X.Widget,X.addMidiIn=function(t,n){var r=Ut(n._info||{});r.name=t,r.type=r.type||"javascript",r.manufacturer=r.manufacturer||"virtual",r.version=r.version||"0.0";var l={_info:function(){return r},_openIn:function(a){a._pause(),a._info=Ut(r),a._close=function(){n.disconnect(a)},n.connect(a),a._resume()}};return X.lib.registerMidiIn(t,l)},at.prototype.addMidiIn=X.addMidiIn,X.addMidiOut=function(t,n){var r=Ut(n._info||{});r.name=t,r.type=r.type||"javascript",r.manufacturer=r.manufacturer||"virtual",r.version=r.version||"0.0";var l={_info:function(){return r},_openOut:function(a){a._pause(),a._info=Ut(r),a._close=function(){a.disconnect()},In.apply(a,[n]),a._resume()}};return X.lib.registerMidiOut(t,l)},at.prototype.addMidiOut=X.addMidiOut,X.maskMidiIn=function(t){A[t]=!0},at.prototype.maskMidiIn=X.maskMidiIn,X.unmaskMidiIn=function(t){delete A[t]},at.prototype.unmaskMidiIn=X.unmaskMidiIn,X.maskMidiOut=function(t){Pt[t]=!0},at.prototype.maskMidiOut=X.maskMidiOut,X.unmaskMidiOut=function(t){delete Pt[t]},at.prototype.unmaskMidiOut=X.unmaskMidiOut;function Bt(){var t=this instanceof Bt?this:t=new Bt;return Bt.prototype.reset.apply(t,arguments),t}Bt.prototype.reset=function(t){if(t instanceof Bt)return this.setType(t.getType()),this.setHour(t.getHour()),this.setMinute(t.getMinute()),this.setSecond(t.getSecond()),this.setFrame(t.getFrame()),this.setQuarter(t.getQuarter()),this;var n=t instanceof Array?t:arguments;return this.setType(n[0]),this.setHour(n[1]),this.setMinute(n[2]),this.setSecond(n[3]),this.setFrame(n[4]),this.setQuarter(n[5]),this};function jn(){this.type==29.97&&!this.second&&this.frame<2&&this.minute%10&&(this.frame=2)}Bt.prototype.isFullFrame=function(){return this.quarter==0||this.quarter==4},Bt.prototype.getType=function(){return this.type},Bt.prototype.getHour=function(){return this.hour},Bt.prototype.getMinute=function(){return this.minute},Bt.prototype.getSecond=function(){return this.second},Bt.prototype.getFrame=function(){return this.frame},Bt.prototype.getQuarter=function(){return this.quarter},Bt.prototype.setType=function(t){if(typeof t>"u"||t==24)this.type=24;else if(t==25)this.type=25;else if(t==29.97)this.type=29.97,jn.apply(this);else if(t==30)this.type=30;else throw RangeError("Bad SMPTE frame rate: "+t);return this.frame>=this.type&&(this.frame=this.type-1),this},Bt.prototype.setHour=function(t){if(typeof t>"u"&&(t=0),t!=parseInt(t)||t<0||t>=24)throw RangeError("Bad SMPTE hours value: "+t);return this.hour=t,this},Bt.prototype.setMinute=function(t){if(typeof t>"u"&&(t=0),t!=parseInt(t)||t<0||t>=60)throw RangeError("Bad SMPTE minutes value: "+t);return this.minute=t,jn.apply(this),this},Bt.prototype.setSecond=function(t){if(typeof t>"u"&&(t=0),t!=parseInt(t)||t<0||t>=60)throw RangeError("Bad SMPTE seconds value: "+t);return this.second=t,jn.apply(this),this},Bt.prototype.setFrame=function(t){if(typeof t>"u"&&(t=0),t!=parseInt(t)||t<0||t>=this.type)throw RangeError("Bad SMPTE frame number: "+t);return this.frame=t,jn.apply(this),this},Bt.prototype.setQuarter=function(t){if(typeof t>"u"&&(t=0),t!=parseInt(t)||t<0||t>=8)throw RangeError("Bad SMPTE quarter frame: "+t);return this.quarter=t,this},Bt.prototype.incrFrame=function(){return this.frame++,this.frame>=this.type&&(this.frame=0,this.second++,this.second>=60&&(this.second=0,this.minute++,this.minute>=60&&(this.minute=0,this.hour=this.hour>=23?0:this.hour+1))),jn.apply(this),this},Bt.prototype.decrFrame=function(){return!this.second&&this.frame==2&&this.type==29.97&&this.minute%10&&(this.frame=0),this.frame--,this.frame<0&&(this.frame=this.type==29.97?29:this.type-1,this.second--,this.second<0&&(this.second=59,this.minute--,this.minute<0&&(this.minute=59,this.hour=this.hour?this.hour-1:23))),this},Bt.prototype.incrQF=function(){return this.backwards=!1,this.quarter=this.quarter+1&7,(this.quarter==0||this.quarter==4)&&this.incrFrame(),this},Bt.prototype.decrQF=function(){return this.backwards=!0,this.quarter=this.quarter+7&7,(this.quarter==3||this.quarter==7)&&this.decrFrame(),this};function fo(t){return[[24,25,29.97,30][t[7]>>1&3],(t[7]&1)<<4|t[6],t[5]<<4|t[4],t[3]<<4|t[2],t[1]<<4|t[0]]}Bt.prototype.read=function(t){if(t instanceof C||(t=C.apply(null,arguments)),t[0]==240&&t[1]==127&&t[3]==1&&t[4]==1&&t[9]==247)return this.type=[24,25,29.97,30][t[5]>>5&3],this.hour=t[5]&31,this.minute=t[6],this.second=t[7],this.frame=t[8],this.quarter=0,this._=void 0,this._b=void 0,this._f=void 0,!0;if(t[0]==241&&typeof t[1]<"u"){var n=t[1]>>4,r=t[1]&15;return n==0?this._==7&&(this._f==7&&(this.reset(fo(this._a)),this.incrFrame()),this.incrFrame()):n==3?this._==4&&this.decrFrame():n==4?this._==3&&this.incrFrame():n==7&&this._===0&&(this._b===0&&(this.reset(fo(this._a)),this.decrFrame()),this.decrFrame()),this._a||(this._a=[]),this._a[n]=r,this._f=this._f===n-1||n==0?n:void 0,this._b=this._b===n+1||n==7?n:void 0,this._=n,this.quarter=n,!0}return!1};function Fu(t){!t.backwards&&t.quarter>=4?t.decrFrame():t.backwards&&t.quarter<4&&t.incrFrame();var n;switch(t.quarter>>1){case 0:n=t.frame;break;case 1:n=t.second;break;case 2:n=t.minute;break;default:n=t.hour}return t.quarter&1?n>>=4:n&=15,t.quarter==7&&(t.type==25?n|=2:t.type==29.97?n|=4:t.type==30&&(n|=6)),!t.backwards&&t.quarter>=4?t.incrFrame():t.backwards&&t.quarter<4&&t.decrFrame(),n|t.quarter<<4}function Ru(t){return t.type==25?t.hour|32:t.type==29.97?t.hour|64:t.type==30?t.hour|96:t.hour}function Du(t){return t<10?"0"+t:t}function ao(t){for(var n=[],r=0;r<t.length;r++)n[r]=Du(r?t[r]:t[r]&31);return n.join(":")}Bt.prototype.toString=function(){return ao([this.hour,this.minute,this.second,this.frame])},X.SMPTE=Bt,at.prototype.SMPTE=Bt;function C(t){var n=this instanceof C?this:n=new C,r;if(t instanceof C)return n._from=t._from.slice(),pt(t,function(a){a!="_from"&&(n[a]=t[a])}),n;if(n._from=[],typeof t>"u")return n;var l=t instanceof Array?t:arguments;for(r=0;r<l.length;r++)g=l[r],r==1&&(n[0]>=128&&n[0]<=175&&(g=C.noteValue(g)),n[0]>=192&&n[0]<=207&&(g=C.programValue(g))),(g!=parseInt(g)||g<0||g>255)&&Ie(l[r]),n.push(g);return n}C.prototype=[],C.prototype.constructor=C,C.prototype.isMidi=function(){return 1};var Yt={};C.noteValue=function(t){return typeof t>"u"?void 0:Yt[t.toString().toLowerCase()]},C.programValue=function(t){return t},C.octaveValue=function(t){var n=Yt[t.toString().toLowerCase()];return typeof n>"u"&&(n=Yt[t.toString().toLowerCase()+"1"]),typeof n>"u"?void 0:n%12},C.freq=function(t,n){return typeof n>"u"&&(n=440),ln(n),t!=parseFloat(t)&&(t=At(t)),n*Math.pow(2,(t-69)/12)};function ln(t){if(t!=parseFloat(t))throw TypeError("Not a number: "+t)}C.shift=function(t,n){return typeof n>"u"&&(n=440),ln(t),ln(n),Math.log2(t/n)*12},C.midi=function(t,n){return t!=parseFloat(t)?At(t):C.shift(t,n)+69},C.to7b=function(t){return ln(t),t<=0?0:t>=1?127:Math.floor(t*128)},C.to14b=function(t){return ln(t),t<=0?0:t>=1?16383:Math.floor(t*16384)},C.to21b=function(t){return typeof t>"u"?2097151:(ln(t),t<=0?0:(t=(Math.floor(t)<<14)+C.to14b(t-Math.floor(t)),t<2097151?t:2097150))};function ir(){}ir.prototype=C,C._sxid=127,C.sxId=function(t){if(typeof t>"u"&&(t=C._sxid),t==this._sxid)return this;t=K(t);var n=new ir;return n._ch=this._ch,n._sxid=t,n},C.ch=function(t){if(t==this._ch||typeof t>"u"&&typeof this._ch>"u")return this;var n=new ir;return typeof t<"u"&&(t=z(t)),n._ch=t,n._sxid=this._sxid,n};var co={c:0,d:2,e:4,f:5,g:7,a:9,b:11,h:11};for(pt(co,function(t){for(g=0;g<12&&(h=co[t]+g*12,!(h>127));g++)Yt[t+g]=h,Yt[t+"♮"+g]=h,h>0&&(Yt[t+"b"+g]=h-1,Yt[t+"♭"+g]=h-1,Yt[t+"bb"+g]=h-2,Yt[t+"♭♭"+g]=h-2,Yt[t+"𝄫"+g]=h-2),h<127&&(Yt[t+"#"+g]=h+1,Yt[t+"♯"+g]=h+1,Yt[t+"##"+g]=h+2,Yt[t+"♯♯"+g]=h+2,Yt[t+"𝄪"+g]=h+2)}),g=0;g<128;g++)Yt[g]=g;function Ie(t){throw RangeError("Bad MIDI value: "+t)}function ho(t){throw TypeError("Invalid value: "+t)}function Nu(t){throw RangeError("Out of range: "+t)}function z(t){return v(t),parseInt(t)}function Ot(t){if(t!=parseInt(t)||t<0||t>15)throw RangeError("Expected a 4-bit value: "+t);return parseInt(t)}function K(t,n){return(t!=parseInt(t)||t<0||t>127)&&Ie(typeof n>"u"?t:n),parseInt(t)}function Ce(t){return(t!=parseInt(t)||t<0||t>255)&&Ie(t),parseInt(t)}function po(t){return(t!=parseInt(t)||t<0||t>16383)&&Ie(t),parseInt(t)}function Ne(t){if(t!=parseInt(t)||t<0||t>65535)throw RangeError("Expected a 16-bit value: "+t);return parseInt(t)}function Lu(t){if(t!=parseInt(t)||t<0||t>1048575)throw RangeError("Expected a 20-bit value: "+t);return parseInt(t)}function $u(t){return(t!=parseInt(t)||t<0||t>2097151)&&Ie(t),parseInt(t)}function Vu(t){return(t!=parseInt(t)||t<0||t>4294967295)&&Ie(t),parseInt(t)}function At(t){return K(C.noteValue(t),t)}function Jt(t){return po(t)&127}function Zt(t){return po(t)>>7}function ku(t){t=""+t;for(var n=0;n<t.length;n++)t.charCodeAt(n)>255&&Ie(t[n]);return t}function rr(t){return[t>>14,t>>7&127,t&127]}function ci(t,n){return t!=parseFloat(t)&&ho(typeof n>"u"?t:n),(t<0||t>1)&&Nu(typeof n>"u"?t:n),parseFloat(t)}function or(t){return typeof t<"u"&&!t?126:127}function go(t){var n,r,l=[],a={};pt(t,function(_){if(r=$u(t[_]),_=At(_),_ in a)throw RangeError("Duplicate MIDI value: "+_);l.push(_),a[_]=r}),l.sort();var p=[l.length];for(n=0;n<l.length;n++)p=p.concat([l[n]],rr(a[l[n]]));return p}function mo(t){var n={};return pt(t,function(r){n[r]=C.to21b(t[r]==parseFloat(t[r])?t[r]:At(t[r]))}),n}function _o(t){var n={};return pt(t,function(r){n[r]=C.to21b(C.midi(t[r]))}),n}function Uu(t){var n=[];if(!(t instanceof Array)||t.length!=12)throw TypeError("Expected an array of size 12");for(var r=0;r<12;r++)n.push(K(t[r]));return n}function Hu(t){var n=[];if(!(t instanceof Array)||t.length!=12)throw TypeError("Expected an array of size 12");for(var r=0;r<12;r++)n.push(Zt(t[r])),n.push(Jt(t[r]));return n}var hi={noteOff:function(t,n,r){return typeof r>"u"&&(r=64),[128+z(t),At(n),K(r)]},noteOn:function(t,n,r){return typeof r>"u"&&(r=127),[144+z(t),At(n),K(r)]},aftertouch:function(t,n,r){return[160+z(t),At(n),K(r)]}},Q={control:function(t,n,r){return[176+z(t),K(n),K(r)]},program:function(t,n){return[192+z(t),K(C.programValue(n),n)]},pressure:function(t,n){return[208+z(t),K(n)]},pitchBend:function(t,n,r){return typeof r>"u"?[224+z(t),Jt(n),Zt(n)]:[224+z(t),K(r),K(n)]},pitchBendF:function(t,n){return Q.pitchBend(t,C.to14b((n+1)/2))},bankMSB:function(t,n){return[176+z(t),0,K(n)]},bankLSB:function(t,n){return[176+z(t),32,K(n)]},modMSB:function(t,n){return[176+z(t),1,K(n)]},modLSB:function(t,n){return[176+z(t),33,K(n)]},breathMSB:function(t,n){return[176+z(t),2,K(n)]},breathLSB:function(t,n){return[176+z(t),34,K(n)]},footMSB:function(t,n){return[176+z(t),4,K(n)]},footLSB:function(t,n){return[176+z(t),36,K(n)]},portamentoMSB:function(t,n){return[176+z(t),5,K(n)]},portamentoLSB:function(t,n){return[176+z(t),37,K(n)]},dataMSB:function(t,n){return[176+z(t),6,K(n)]},dataLSB:function(t,n){return[176+z(t),38,K(n)]},volumeMSB:function(t,n){return[176+z(t),7,K(n)]},volumeLSB:function(t,n){return[176+z(t),39,K(n)]},balanceMSB:function(t,n){return[176+z(t),8,K(n)]},balanceLSB:function(t,n){return[176+z(t),40,K(n)]},panMSB:function(t,n){return[176+z(t),10,K(n)]},panLSB:function(t,n){return[176+z(t),42,K(n)]},expressionMSB:function(t,n){return[176+z(t),11,K(n)]},expressionLSB:function(t,n){return[176+z(t),43,K(n)]},damper:function(t,n){return typeof n>"u"&&(n=!0),[176+z(t),64,n?127:0]},portamento:function(t,n){return typeof n>"u"&&(n=!0),[176+z(t),65,n?127:0]},sostenuto:function(t,n){return typeof n>"u"&&(n=!0),[176+z(t),66,n?127:0]},soft:function(t,n){return typeof n>"u"&&(n=!0),[176+z(t),67,n?127:0]},legato:function(t,n){return typeof n>"u"&&(n=!0),[176+z(t),68,n?127:0]},hold2:function(t,n){return typeof n>"u"&&(n=!0),[176+z(t),69,n?127:0]},soundVariation:function(t,n){return[176+z(t),70,At(n)]},filterResonance:function(t,n){return[176+z(t),71,At(n)]},releaseTime:function(t,n){return[176+z(t),72,At(n)]},attackTime:function(t,n){return[176+z(t),73,At(n)]},brightness:function(t,n){return[176+z(t),74,At(n)]},decayTime:function(t,n){return[176+z(t),75,At(n)]},vibratoRate:function(t,n){return[176+z(t),76,At(n)]},vibratoDepth:function(t,n){return[176+z(t),77,At(n)]},vibratoDelay:function(t,n){return[176+z(t),78,At(n)]},ptc:function(t,n){return[176+z(t),84,At(n)]},dataIncr:function(t){return[176+z(t),96,0]},dataDecr:function(t){return[176+z(t),97,0]},nrpnLSB:function(t,n){return[176+z(t),98,K(n)]},nrpnMSB:function(t,n){return[176+z(t),99,K(n)]},rpnLSB:function(t,n){return[176+z(t),100,K(n)]},rpnMSB:function(t,n){return[176+z(t),101,K(n)]},allSoundOff:function(t){return[176+z(t),120,0]},resetAllControllers:function(t){return[176+z(t),121,0]},localControl:function(t,n){return typeof n>"u"&&(n=!0),[176+z(t),122,n?127:0]},allNotesOff:function(t){return[176+z(t),123,0]},omni:function(t,n){return typeof n>"u"&&(n=!0),[176+z(t),n?125:124,0]},mono:function(t,n){return typeof n>"u"&&(n=1),[176+z(t),126,K(n)]},poly:function(t){return[176+z(t),127,0]}};function yo(t,n,r,l){return typeof n<"u"?[K(t),K(n),K(r),K(l)]:((t!=parseInt(t)||t<0||t>65535)&&ho(t),t=parseInt(t),[t>>12&15,t>>8&15,t>>4&15,t&15])}function xo(t){return ln(t),t=Math.round(t*65536+16384),t<0?0:t>65535?65535:t}var di={mtc:function(t){return[241,Fu(t)]},songPosition:function(t,n){return typeof n>"u"?[242,Jt(t),Zt(t)]:[242,K(n),K(t)]},songSelect:function(t){return[243,K(t)]},tune:function(){return[246]},clock:function(){return[248]},start:function(){return[250]},continue:function(){return[251]},stop:function(){return[252]},active:function(){return[254]},reset:function(){return[255]}},tt={sxIdRequest:function(){return[240,126,this._sxid,6,1,247]},sxTuningDumpRequest:function(t,n){return typeof n>"u"?[240,126,this._sxid,8,0,K(t),247]:[240,126,this._sxid,8,3,K(t),K(n),247]},sxFullFrame:function(t){return[240,127,this._sxid,1,1,Ru(t),t.getMinute(),t.getSecond(),t.getFrame(),247]},sxMasterVolume:function(t,n){return typeof n>"u"?[240,127,this._sxid,4,1,Jt(t),Zt(t),247]:[240,127,this._sxid,4,1,K(n),K(t),247]},sxMasterVolumeF:function(t){return tt.sxMasterVolume.call(this,C.to14b(ci(t)))},sxMasterFineTuning:function(t,n){return typeof n>"u"?[240,127,this._sxid,4,3,Jt(t),Zt(t),247]:[240,127,this._sxid,4,3,K(n),K(t),247]},sxMasterFineTuningF:function(t){return tt.sxMasterFineTuning.call(this,C.to14b(ci((t%1+1)/2,t)))},sxMasterCoarseTuning:function(t){return[240,127,this._sxid,4,4,0,K(t),247]},sxMasterCoarseTuningF:function(t){return tt.sxMasterCoarseTuning.call(this,64+(t-t%1))},sxNoteTuning:function(t,n,r,l){return n==parseInt(n)?[240,or(l),this._sxid,8,7,K(t),K(n)].concat(go(r),[247]):[240,127,this._sxid,8,2,K(t)].concat(go(n),[247])},sxNoteTuningF:function(t,n,r,l){return n==parseInt(n)?tt.sxNoteTuning.call(this,t,n,mo(r),l):tt.sxNoteTuning.call(this,t,mo(n))},sxNoteTuningHZ:function(t,n,r,l){return n==parseInt(n)?tt.sxNoteTuning.call(this,t,n,_o(r),l):tt.sxNoteTuning.call(this,t,_o(n))},sxScaleTuning1:function(t,n,r){return t==parseInt(t)?[240,or(r),this._sxid,8,8].concat(rr(Ne(t)),Uu(n),[247]):tt.sxScaleTuning1.call(this,65535,t,n)},sxScaleTuning1F:function(t,n,r){if(t!=parseInt(t))return tt.sxScaleTuning1F.call(this,65535,t,n);for(var l=[],a=0;a<n.length;a++){if(n[a]<-.64||n[a]>.63)throw RangeError("Out of range: "+n[a]);l.push(Math.floor(n[a]*100+64))}return tt.sxScaleTuning1.call(this,t,l,r)},sxScaleTuning2:function(t,n,r){return t==parseInt(t)?[240,or(r),this._sxid,8,9].concat(rr(Ne(t)),Hu(n),[247]):tt.sxScaleTuning2.call(this,65535,t,n)},sxScaleTuning2F:function(t,n,r){if(t!=parseInt(t))return tt.sxScaleTuning2F.call(this,65535,t,n);for(var l=[],a=0;a<n.length;a++){var p=(n[a]+1)/2;if(p<-1||p>1)throw RangeError("Out of range: "+n[a]);l.push(C.to14b((n[a]+1)/2))}return tt.sxScaleTuning2.call(this,t,l,r)},sxGM:function(t){return typeof t>"u"&&(t=1),[240,126,this._sxid,9,t?t==2?3:1:2,247]},sxGS:function(t){for(var n=typeof t>"u"?[64,0,127,0]:t instanceof Array?t:arguments,r=0,l=[240,65,this._sxid,66,18],a=0;a<n.length;a++){var p=K(n[a]);l.push(p),r+=p}return r%=128,l.push(r?128-r:0),l.push(247),l},sxXG:function(t){var n=typeof t>"u"?[0,0,126,0]:t instanceof Array?t:arguments,r=this._sxid==127?0:this._sxid;r>15&&Ie("Bad Yamaha device number: "+r);for(var l=[240,67,16+r,76],a=0;a<n.length;a++)l.push(K(n[a]));return l.push(247),l},sxMidiSoft:function(t,n){var r=[240,0,32,36,0,K(t||0)];n=typeof n>"u"?"":""+n;for(var l=0;l<n.length;l++)r.push(K(n.charCodeAt(l)));return r.push(247),r},gsMasterVolume:function(t){return tt.sxGS.call(this,[64,0,4,K(t)])},gsMasterVolumeF:function(t){return tt.gsMasterVolume.call(this,C.to7b(ci(t)))},gsMasterFineTuning:function(t,n,r,l){return t=yo(t,n,r,l),tt.sxGS.call(this,[64,0,0,t[0],t[1],t[2],t[3]])},gsMasterFineTuningF:function(t){return tt.gsMasterFineTuning.call(this,xo(t%1))},gsMasterCoarseTuning:function(t){return tt.sxGS.call(this,[64,0,5,K(t)])},gsMasterCoarseTuningF:function(t){return tt.gsMasterCoarseTuning.call(this,64+(t-t%1))},gsOctaveTuning:function(t,n,r){return tt.sxGS.call(this,[64,16+[1,2,3,4,5,6,7,8,9,0,11,12,13,14,15][z(t)],64+C.octaveValue(n),K(r)])},gsOctaveTuningF:function(t,n,r){if(r<-.64||r>.63)throw RangeError("Out of range: "+r);return tt.gsOctaveTuning.call(this,t,n,Math.floor(r*100+64))},xgMasterVolume:function(t){return tt.sxXG.call(this,[0,0,4,K(t)])},xgMasterVolumeF:function(t){return tt.xgMasterVolume.call(this,C.to7b(ci(t)))},xgMasterFineTuning:function(t,n,r,l){return t=yo(t,n,r,l),tt.sxXG.call(this,[0,0,0,t[0],t[1],t[2],t[3]])},xgMasterFineTuningF:function(t){return tt.xgMasterFineTuning.call(this,xo(t%1))},xgMasterCoarseTuning:function(t){return tt.sxXG.call(this,[0,0,6,K(t)])},xgMasterCoarseTuningF:function(t){return tt.xgMasterCoarseTuning.call(this,64+(t-t%1))},xgOctaveTuning:function(t,n,r){return tt.sxXG.call(this,[8,z(t),65+C.octaveValue(n),K(r)])},xgOctaveTuningF:function(t,n,r){if(r<-.64||r>.63)throw RangeError("Out of range: "+r);return tt.xgOctaveTuning.call(this,t,n,Math.floor(r*100+64))}};tt.sxScaleTuning=tt.sxScaleTuning2,tt.sxScaleTuningF=tt.sxScaleTuning2F,tt.sxMasterTranspose=tt.sxMasterCoarseTuning,tt.sxMasterTransposeF=tt.sxMasterCoarseTuningF,tt.gsMasterTranspose=tt.gsMasterCoarseTuning,tt.gsMasterTransposeF=tt.gsMasterCoarseTuningF,tt.xgMasterTranspose=tt.xgMasterCoarseTuning,tt.xgMasterTransposeF=tt.xgMasterCoarseTuningF;var bt={bank:function(t,n,r){return typeof r>"u"?[Q.bankMSB(t,Zt(n)),Q.bankLSB(t,Jt(n))]:[Q.bankMSB(t,n),Q.bankLSB(t,r)]},modF:function(t,n){return bt.mod(t,C.to14b(n))},mod:function(t,n,r){return typeof r>"u"?[Q.modMSB(t,Zt(n)),Q.modLSB(t,Jt(n))]:[Q.modMSB(t,n),Q.modLSB(t,r)]},breathF:function(t,n){return bt.breath(t,C.to14b(n))},breath:function(t,n,r){return typeof r>"u"?[Q.breathMSB(t,Zt(n)),Q.breathLSB(t,Jt(n))]:[Q.breathMSB(t,n),Q.breathLSB(t,r)]},footF:function(t,n){return bt.foot(t,C.to14b(n))},foot:function(t,n,r){return typeof r>"u"?[Q.footMSB(t,Zt(n)),Q.footLSB(t,Jt(n))]:[Q.footMSB(t,n),Q.footLSB(t,r)]},portamentoTimeF:function(t,n){return bt.portamentoTime(t,C.to14b(n))},portamentoTime:function(t,n,r){return typeof r>"u"?[Q.portamentoMSB(t,Zt(n)),Q.portamentoLSB(t,Jt(n))]:[Q.portamentoMSB(t,n),Q.portamentoLSB(t,r)]},dataF:function(t,n){return bt.data(t,C.to14b(n))},data:function(t,n,r){return typeof r>"u"?[Q.dataMSB(t,Zt(n)),Q.dataLSB(t,Jt(n))]:[Q.dataMSB(t,n),Q.dataLSB(t,r)]},volumeF:function(t,n){return bt.volume(t,C.to14b(n))},volume:function(t,n,r){return typeof r>"u"?[Q.volumeMSB(t,Zt(n)),Q.volumeLSB(t,Jt(n))]:[Q.volumeMSB(t,n),Q.volumeLSB(t,r)]},balanceF:function(t,n){return bt.balance(t,C.to14b((n+1)/2))},balance:function(t,n,r){return typeof r>"u"?[Q.balanceMSB(t,Zt(n)),Q.balanceLSB(t,Jt(n))]:[Q.balanceMSB(t,n),Q.balanceLSB(t,r)]},panF:function(t,n){return bt.pan(t,C.to14b((n+1)/2))},pan:function(t,n,r){return typeof r>"u"?[Q.panMSB(t,Zt(n)),Q.panLSB(t,Jt(n))]:[Q.panMSB(t,n),Q.panLSB(t,r)]},expressionF:function(t,n){return bt.expression(t,C.to14b(n))},expression:function(t,n,r){return typeof r>"u"?[Q.expressionMSB(t,Zt(n)),Q.expressionLSB(t,Jt(n))]:[Q.expressionMSB(t,n),Q.expressionLSB(t,r)]},nrpn:function(t,n,r){return typeof r>"u"?[Q.nrpnMSB(t,Zt(n)),Q.nrpnLSB(t,Jt(n))]:[Q.nrpnMSB(t,n),Q.nrpnLSB(t,r)]},rpn:function(t,n,r){return typeof r>"u"?[Q.rpnMSB(t,Zt(n)),Q.rpnLSB(t,Jt(n))]:[Q.rpnMSB(t,n),Q.rpnLSB(t,r)]},rpnPitchBendRange:function(t,n,r){return bt.rpn(t,0,0).concat(bt.data(t,n,r))},rpnPitchBendRangeF:function(t,n){return bt.rpnPitchBendRange(t,K(n-n%1),Math.floor(n%1*100))},rpnFineTuning:function(t,n,r){return bt.rpn(t,0,1).concat(bt.data(t,n,r))},rpnFineTuningF:function(t,n){return bt.rpn(t,0,1).concat(bt.dataF(t,(n%1+1)/2))},rpnCoarseTuning:function(t,n){return bt.rpn(t,0,2).concat([Q.dataMSB(t,n)])},rpnCoarseTuningF:function(t,n){return bt.rpn(t,0,2).concat([Q.dataMSB(t,64+(n-n%1))])},rpnTuning:function(t,n,r,l){return bt.rpnCoarseTuning(t,n).concat(bt.rpnFineTuning(t,r,l))},rpnTuningF:function(t,n){return bt.rpnCoarseTuningF(t,n).concat(bt.rpnFineTuningF(t,n))},rpnTuningA:function(t,n){return bt.rpnTuningF(t,C.shift(n))},rpnSelectTuningProgram:function(t,n){return bt.rpn(t,0,3).concat([Q.dataMSB(t,n)])},rpnSelectTuningBank:function(t,n){return bt.rpn(t,0,4).concat([Q.dataMSB(t,n)])},rpnSelectTuning:function(t,n,r){return typeof r>"u"?bt.rpnSelectTuningProgram(t,n):bt.rpnSelectTuningBank(t,n).concat(bt.rpnSelectTuningProgram(t,r))},rpnModulationDepthRange:function(t,n,r){return bt.rpn(t,0,5).concat(bt.data(t,n,r))},rpnModulationDepthRangeF:function(t,n){return bt.rpnModulationDepthRange(t,K(n-n%1),Math.floor(n%1*128))},rpnNull:function(t){return bt.rpn(t,127,127)},mode1:function(t){return[Q.omni(t,!0),Q.poly(t)]},mode2:function(t){return[Q.omni(t,!0),Q.mono(t)]},mode3:function(t){return[Q.omni(t,!1),Q.poly(t)]},mode4:function(t){return[Q.omni(t,!1),Q.mono(t)]}},fn={sxMasterTuning:function(t,n,r){return[tt.sxMasterCoarseTuning.call(this,t),tt.sxMasterFineTuning.call(this,n,r)]},sxMasterTuningF:function(t){return[tt.sxMasterCoarseTuningF.call(this,t),tt.sxMasterFineTuningF.call(this,t)]},gsMasterTuningF:function(t){return[tt.gsMasterCoarseTuningF.call(this,t),tt.gsMasterFineTuningF.call(this,t)]},xgMasterTuningF:function(t){return[tt.xgMasterCoarseTuningF.call(this,t),tt.xgMasterFineTuningF.call(this,t)]},sxMasterTuningA:function(t){return fn.sxMasterTuningF.call(this,C.shift(t))},gsMasterTuningA:function(t){return fn.gsMasterTuningF.call(this,C.shift(t))},xgMasterTuningA:function(t){return fn.xgMasterTuningF.call(this,C.shift(t))},gsScaleTuning:function(t,n){var r=[];if(n.length!=12)throw RangeError("Wrong input size: "+n.length);for(var l=0;l<12;l++)r.push(tt.gsOctaveTuning.call(this,t,l,n[l]));return r},gsScaleTuningF:function(t,n){var r=[];if(n.length!=12)throw RangeError("Wrong input size: "+n.length);for(var l=0;l<12;l++)r.push(tt.gsOctaveTuningF.call(this,t,l,n[l]));return r},xgScaleTuning:function(t,n){var r=[];if(n.length!=12)throw RangeError("Wrong input size: "+n.length);for(var l=0;l<12;l++)r.push(tt.xgOctaveTuning.call(this,t,l,n[l]));return r},xgScaleTuningF:function(t,n){var r=[];if(n.length!=12)throw RangeError("Wrong input size: "+n.length);for(var l=0;l<12;l++)r.push(tt.xgOctaveTuningF.call(this,t,l,n[l]));return r}};function Nt(t,n){var r=new C;return r.ff=Ce(t),r.dd=typeof n>"u"?"":ku(n),r}var pi={smf:function(t){if(t instanceof C)return new C(t);var n=t instanceof Array?t:arguments,r=Ce(n[0]),l="";return n.length==2?l=We(n[1]):n.length>2&&(l=We(Array.prototype.slice.call(n,1))),Nt(r,l)},smfSeqNumber:function(t){if(t==parseInt(t)){if(t<0||t>65535)throw RangeError("Sequence number out of range: "+t);t=String.fromCharCode(t>>8)+String.fromCharCode(t&255)}else if(t=""+t,t.length==0)t="\0\0";else if(t.length==1)t="\0"+t;else if(t.length>2)throw RangeError("Sequence number out of range"+ze(t));return Nt(0,t)},smfText:function(t){return Nt(1,X.lib.toUTF8(t))},smfCopyright:function(t){return Nt(2,X.lib.toUTF8(t))},smfSeqName:function(t){return Nt(3,X.lib.toUTF8(t))},smfInstrName:function(t){return Nt(4,X.lib.toUTF8(t))},smfLyric:function(t){return Nt(5,X.lib.toUTF8(t))},smfMarker:function(t){return Nt(6,X.lib.toUTF8(t))},smfCuePoint:function(t){return Nt(7,X.lib.toUTF8(t))},smfProgName:function(t){return Nt(8,X.lib.toUTF8(t))},smfDevName:function(t){return Nt(9,X.lib.toUTF8(t))},smfChannelPrefix:function(t){if(t==parseInt(t))v(t),t=String.fromCharCode(t);else if(t=""+t,t.length==0)t="\0";else if(t.length>1||t.charCodeAt(0)>15)throw RangeError("Channel number out of range"+ze(t));return Nt(32,t)},smfMidiPort:function(t){if(t==parseInt(t)){if(t<0||t>127)throw RangeError("Port number out of range: "+t);t=String.fromCharCode(t)}else if(t=""+t,t.length==0)t="\0";else if(t.length>1||t.charCodeAt(0)>127)throw RangeError("Port number out of range"+ze(t));return Nt(33,t)},smfEndOfTrack:function(t){if(We(t)!="")throw RangeError("Unexpected data"+ze(We(t)));return Nt(47)},smfTempo:function(t){if((""+t).length==3)return Nt(81,t);if(t==parseInt(t)&&t>0&&t<=16777215)return Nt(81,String.fromCharCode(t>>16)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255));throw RangeError("Out of range"+ze(We(t)))},smfBPM:function(t){return pi.smfTempo(Math.round(6e7/t))},smfSMPTE:function(t){if(t instanceof Bt)return Nt(84,String.fromCharCode(t.hour)+String.fromCharCode(t.minute)+String.fromCharCode(t.second)+String.fromCharCode(t.frame)+String.fromCharCode(t.quarter%4*25));var n=""+t;if(n.length==5)return Nt(84,t);var r=t instanceof Array?t:Array.prototype.slice.call(arguments);return r.splice(0,0,30),pi.smfSMPTE(new Bt(r))},smfTimeSignature:function(t,n,r,l){var a,p,_,S,L=(""+t).match(/^\s*(\d+)\s*\/\s*(\d+)\s*$/);if(L){if(a=parseInt(L[1]),p=parseInt(L[2]),a>0&&a<256&&p>0&&!(p&p-1)){for(_=p,p=0,_>>=1;_;_>>=1)p++;return _=n==parseInt(n)?n:24,S=r==parseInt(r)?r:8,Nt(88,String.fromCharCode(a)+String.fromCharCode(p)+String.fromCharCode(_)+String.fromCharCode(S))}else if((""+t).length==4)return Nt(88,t)}else if(t==parseInt(t)&&n==parseInt(n)){if(t>0&&t<256&&n>0&&!(n&n-1)){for(a=t,p=0,_=n,_>>=1;_;_>>=1)p++;return _=r==parseInt(r)?r:24,S=l==parseInt(l)?l:8,Nt(88,String.fromCharCode(a)+String.fromCharCode(p)+String.fromCharCode(_)+String.fromCharCode(S))}else if((""+t).length==4)return Nt(88,t);t=t+"/"+n}else if((""+t).length==4)return Nt(88,t);throw RangeError("Wrong time signature"+ze(We(""+t)))},smfKeySignature:function(t){t=""+t;var n=t.match(/^\s*([A-H][b#]?)\s*(|maj|major|dur|m|min|minor|moll)\s*$/i);if(n){var r={CB:0,GB:1,DB:2,AB:3,EB:4,BB:5,F:6,C:7,G:8,D:9,A:10,E:11,B:12,H:12,"F#":13,"C#":14,"G#":15,"D#":16,"A#":17}[n[1].toUpperCase()],l={"":0,MAJ:0,MAJOR:0,DUR:0,M:1,MIN:1,MINOR:1,MOLL:1}[n[2].toUpperCase()];typeof r<"u"&&typeof l<"u"&&(l&&(r-=3),r-=7,r>=-7&&r<0?t=String.fromCharCode(256+r)+String.fromCharCode(l):r>=0&&r<=7&&(t=String.fromCharCode(r)+String.fromCharCode(l)))}if(t.length==2&&t.charCodeAt(1)<=1&&(t.charCodeAt(0)<=7||t.charCodeAt(0)<=255&&t.charCodeAt(0)>=249))return Nt(89,t);throw RangeError("Incorrect key signature"+ze(t))},smfSequencer:function(t){return Nt(127,We(t))}},je={};function vo(t,n){C[t]=function(){return new C(n.apply(this,arguments))},je[t]=function(){return this.send(n.apply(this,arguments))}}function Gu(t,n){C[t]=function(){return n.apply(this,arguments)},je[t]=function(){return this.send(n.apply(this,arguments))}}function ju(t,n){C[t]=function(){var r,l=[],a=n.apply(this,arguments);for(r=0;r<a.length;r++)l.push(new C(a[r]));return l},je[t]=function(){for(var r=n.apply(this,arguments),l=this,a=0;a<r.length;a++)l=l.send(r[a]);return l}}function Wu(t,n){C[t]=function(){return new C(n.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments))))},je[t]=function(){if(typeof this._master<"u"){var r=new C(n.apply(this,[this._master].concat(Array.prototype.slice.call(arguments))));return r._mpe=r[1],this.send(r)}return this.send(n.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments))))}}function zu(t,n){C[t]=function(){return new C(n.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments))))},je[t]=function(){if(typeof this._master<"u"){var r,l=Array.prototype.slice.call(arguments);l.length<n.length?l=[this._master].concat(l):(r=At(l[0]),l[0]=this._master);var a=new C(n.apply(this,l));return a._mpe=r,this.send(a)}return this.send(n.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments))))}}function Ku(t,n){C[t]=function(){var r,l=[],a=n.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments)));for(r=0;r<a.length;r++)l.push(new C(a[r]));return l},je[t]=function(){var r,l,a;if(typeof this._master<"u"){var p,_=Array.prototype.slice.call(arguments);for(_.length<n.length?_=[this._master].concat(_):(p=At(_[0]),_[0]=this._master),l=n.apply(this,_),a=this,r=0;r<l.length;r++){var S=C(l[r]);S._mpe=p,a=a.send(S)}return a}for(l=n.apply(this,typeof this._ch>"u"?arguments:[this._ch].concat(Array.prototype.slice.call(arguments))),a=this,r=0;r<l.length;r++)a=a.send(l[r]);return a}}pt(di,function(t){vo(t,di[t])}),pt(tt,function(t){vo(t,tt[t])}),pt(pi,function(t){Gu(t,pi[t])}),pt(fn,function(t){ju(t,fn[t])}),pt(hi,function(t){Wu(t,hi[t])}),pt(Q,function(t){zu(t,Q[t])}),pt(bt,function(t){Ku(t,bt[t])});function bo(t){pt(je,function(n){t.prototype[n]=je[n]})}bo(ut);var Co={a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};for(c=0;c<16;c++)Co[c]=c;C.prototype.getChannel=function(){if(this.ff==32&&this.dd.length==1&&this.dd.charCodeAt(0)<16)return this.dd.charCodeAt(0);var t=this[0];if(!(typeof t>"u"||t<128||t>239))return t&15},C.prototype.setChannel=function(t){if(t=Co[t],typeof t>"u")return this;if(this.ff==32)this.dd=String.fromCharCode(t);else{var n=this[0];typeof n<"u"&&n>=128&&n<=239&&(this[0]=n&240|t)}return this},C.prototype.getNote=function(){var t=this[0];if(!(typeof t>"u"||t<128||t>175))return this[1]},C.prototype.setNote=function(t){var n=this[0];return typeof n>"u"||n<128||n>175?this:(t=C.noteValue(t),typeof t<"u"&&(this[1]=t),this)},C.prototype.getVelocity=function(){var t=this[0];if(!(typeof t>"u"||t<128||t>159))return this[2]},C.prototype.setVelocity=function(t){var n=this[0];return typeof n>"u"||n<128||n>159?this:(t=parseInt(t),t>=0&&t<128&&(this[2]=t),this)},C.prototype.getSysExId=function(){if(this[0]==240)return this[2]},C.prototype.setSysExId=function(t){return this[0]==240&&this.length>2&&(t=parseInt(t),t>=0&&t<128&&(this[2]=t)),this},C.prototype.getData=function(){if(typeof this.dd<"u")return this.dd.toString()},C.prototype.setData=function(t){return this.dd=We(t),this};function qu(t,n){return t==127&&typeof n<"u"&&n.charCodeAt(0)==67&&n.charCodeAt(1)==123}function Xu(t,n){return qu(t,n)&&n.charCodeAt(2)==1}function Ju(t,n){if(t>=0&&t<=127&&n>=0&&n<=127){var r=t&15,l=t>>4;if(r>0&&r<8&&l<7)r=["C","D","E","F","G","A","B"][r-1]+["bbb","bb","b","","#","##","###"][l];else return"-";return n>34?r+"?":r+["","6","Maj7","Maj7(#11)","(9)","Maj7(9)","6(9)","aug","m","m6","m7","m7b5","m(9)","m7(9)","m7(11)","m+7","m+7(9)","dim","dim7","7","7sus4","7b5","7(9)","7(#11)","7(13)","7(b9)","7(b13)","7(#9)","Maj7aug","7aug","1+8","1+5","sus4","1+2+5","cc"][n]}return"-"}C.prototype.getText=function(){if(typeof this.dd<"u")return Xu(this.ff,this.dd)?Ju(this.dd.charCodeAt(3),this.dd.charCodeAt(4)):X.lib.fromUTF8(this.dd);if(this.isMidiSoft()){for(var t=[],n=6;n<this.length-1;n++)t.push(String.fromCharCode(this[n]));return t.join("")}},C.prototype.setText=function(t){return this.dd=X.lib.toUTF8(t),this},C.prototype.getTempo=function(){if(this.ff==81&&typeof this.dd<"u")return this.dd.charCodeAt(0)*65536+this.dd.charCodeAt(1)*256+this.dd.charCodeAt(2)},C.prototype.getBPM=function(){var t=this.getTempo();if(t)return 6e7/t},C.prototype.getTimeSignature=function(){if(this.ff==88&&typeof this.dd<"u")return[this.dd.charCodeAt(0),1<<this.dd.charCodeAt(1)]},C.prototype.getTimeSignature4=function(){if(this.ff==88&&typeof this.dd<"u"){var t=[this.dd.charCodeAt(0),1<<this.dd.charCodeAt(1)];return this.dd.length==4&&t.push(this.dd.charCodeAt(2),this.dd.charCodeAt(3)),t}},C.prototype.getKeySignature=function(){if(this.ff==89&&typeof this.dd<"u"){var t=this.dd.charCodeAt(0),n=this.dd.charCodeAt(1);if(t&128&&(t=t-256),t>=-7&&t<=7&&n>=0&&n<=1)return[t,["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#","G#","D#","A#"][n?t+10:t+7],!!n]}},C.prototype.isNoteOn=function(){var t=this[0];return typeof t>"u"||t<144||t>159?!1:this[2]>0},C.prototype.isNoteOff=function(){var t=this[0];return typeof t>"u"||t<128||t>159?!1:t<144?!0:this[2]==0},C.prototype.isSysEx=function(){return this[0]==240},C.prototype.isFullSysEx=function(){return this[0]==240&&this[this.length-1]==247},C.prototype.isMidiSoft=function(){return this.isFullSysEx()&&this[1]==0&&this[2]==32&&this[3]==36&&this[4]==0},C.prototype.isSMF=function(){return this.ff>=0&&this.ff<=127},C.prototype.isEOT=function(){return this.ff==47},C.prototype.isText=function(){return this.ff==1},C.prototype.isCopyright=function(){return this.ff==2},C.prototype.isSeqName=function(){return this.ff==3},C.prototype.isInstrName=function(){return this.ff==4},C.prototype.isLyric=function(){return this.ff==5},C.prototype.isMarker=function(){return this.ff==6},C.prototype.isCuePoint=function(){return this.ff==7},C.prototype.isProgName=function(){return this.ff==8},C.prototype.isDevName=function(){return this.ff==9},C.prototype.isTempo=function(){return this.ff==81},C.prototype.isTimeSignature=function(){return this.ff==88},C.prototype.isKeySignature=function(){return this.ff==89},C.prototype.isGmReset=function(){return this.match([240,126,[0,0],9,[0,0],247])},C.prototype.isGsReset=function(){return this.match([240,65,[0,0],66,18,64,0,127,0,65,247])},C.prototype.isXgReset=function(){return this.match([240,67,[16,240],76,0,0,126,0,247])},C.prototype.match=function(t){var n,r;for(n=0;n<t.length;n++)if(r=t[n][1],typeof r>"u"){if(this[n]!=t[n])return!1}else if((this[n]&r)!=(t[n][0]&r))return!1;return!0};function gi(t){for(var n=[],r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}function Zu(t){for(var n="",r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return n}function We(t){return t instanceof Array?Zu(t):typeof t>"u"?"":""+t}function Yu(t){for(var n=0,r=0;r<t.length;r++)n=(n<<8)+t.charCodeAt(r);return n}function Ee(t){return(t<16?"0":"")+t.toString(16)}function mi(t){for(var n=[],r=0;r<t.length;r++)n.push(Ee(t[r]));return n.join(" ")}function wo(t){for(var n=[],r=0;r<t.length;r++)r&&r%4==0&&n.push(" "),n.push(Ee(t[r]));return n.join("")}function Mo(t){for(var n="",r=0;r<t.length;r++)t[r]==`
`?n+="\\n":t[r]=="\r"?n+="\\r":t[r]=="	"?n+="\\t":t.charCodeAt(r)<32?n+="\\x"+Ee(t.charCodeAt(r)):n+=t[r];return n}function Wn(t){return t.length?": "+mi(gi(t)):""}function ze(t){return t.length?": "+Mo(X.lib.fromUTF8(t)):""}C.prototype.label=function(t){return this.lbl=this.lbl?this.lbl+", "+t:t,this},C.prototype.toString=function(){return this.lbl?this._str()+" ("+this.lbl+")":this._str()},C.prototype._str=function(){var t,n;if(this.length)t=mi(this);else{if(typeof this.ff>"u")return"empty";t="ff"+Ee(this.ff)}return n=this._string(),n?t+" -- "+n:t},C.prototype._string=function(){var t="",n;if(!this.length){if(this.ff==0)t+="Sequence Number: "+Yu(this.dd);else if(this.ff>0&&this.ff<10)t+=["","Text","Copyright","Sequence Name","Instrument Name","Lyric","Marker","Cue Point","Program Name","Device Name"][this.ff]+ze(this.dd);else if(this.ff==32)t+="Channel Prefix"+Wn(this.dd);else if(this.ff==33)t+="MIDI Port"+Wn(this.dd);else if(this.ff==47)t+="End of Track"+Wn(this.dd);else if(this.ff==81){var r=Math.round(this.getBPM()*100)/100;t+="Tempo: "+r+" bpm"}else if(this.ff==84)t+="SMPTE Offset: "+ao(gi(this.dd));else if(this.ff==88){var l=1<<this.dd.charCodeAt(1);t+="Time Signature: "+this.dd.charCodeAt(0)+"/"+l,t+=" "+this.dd.charCodeAt(2)+" "+this.dd.charCodeAt(3)}else if(this.ff==89){t+="Key Signature: ";var a=this.getKeySignature();a?(t+=a[1],a[2]&&(t+=" min")):t+="invalid"}else if(this.ff==127){if(this.dd.charCodeAt(0)==67&&this.dd.charCodeAt(1)==123)return t+="[XF:"+Ee(this.dd.charCodeAt(2))+"]",n={0:"Version",1:"Chord",2:"Rehearsal Mark",3:"Phrase Mark",4:"Max Phrase Mark",5:"Fingering Number",12:"Guide Track Flag",16:"Guitar Info",18:"Chord Voicing",127:"XG Song Data Number"}[this.dd.charCodeAt(2)],t+=n?" "+n:"",t+=": ",this.dd.charCodeAt(2)==0?t+this.dd.substr(3,4)+" "+mi(gi(this.dd.substr(7))):this.dd.charCodeAt(2)==1?t+this.getText():t+mi(gi(this.dd.substr(3)));t+="Sequencer Specific"+Wn(this.dd)}else t+="SMF"+Wn(this.dd);return t}if(n={241:"MIDI Time Code",242:"Song Position",243:"Song Select",244:"Undefined",245:"Undefined",246:"Tune request",248:"Timing clock",249:"Undefined",250:"Start",251:"Continue",252:"Stop",253:"Undefined",254:"Active Sensing",255:"Reset"}[this[0]],n)return n;if(this.isMidiSoft())return n=Mo(this.getText()),n&&(n=" "+n),"[K:"+Ee(this[5])+"]"+n;var p=this[0]>>4;return n={8:"Note Off",10:"Aftertouch",12:"Program Change",13:"Channel Aftertouch",14:"Pitch Wheel"}[p],n||(p==9?this[2]?"Note On":"Note Off":p!=11?t:(n={0:"Bank Select MSB",1:"Modulation Wheel MSB",2:"Breath Controller MSB",4:"Foot Controller MSB",5:"Portamento Time MSB",6:"Data Entry MSB",7:"Channel Volume MSB",8:"Balance MSB",10:"Pan MSB",11:"Expression Controller MSB",12:"Effect Control 1 MSB",13:"Effect Control 2 MSB",16:"General Purpose Controller 1 MSB",17:"General Purpose Controller 2 MSB",18:"General Purpose Controller 3 MSB",19:"General Purpose Controller 4 MSB",31:"Karaoke",32:"Bank Select LSB",33:"Modulation Wheel LSB",34:"Breath Controller LSB",36:"Foot Controller LSB",37:"Portamento Time LSB",38:"Data Entry LSB",39:"Channel Volume LSB",40:"Balance LSB",42:"Pan LSB",43:"Expression Controller LSB",44:"Effect control 1 LSB",45:"Effect control 2 LSB",48:"General Purpose Controller 1 LSB",49:"General Purpose Controller 2 LSB",50:"General Purpose Controller 3 LSB",51:"General Purpose Controller 4 LSB",64:"Damper Pedal",65:"Portamento",66:"Sostenuto",67:"Soft Pedal",68:"Legato",69:"Hold 2",70:"Sound Variation",71:"Filter Resonance",72:"Release Time",73:"Attack Time",74:"Brightness",75:"Decay Time",76:"Vibrato Rate",77:"Vibrato Depth",78:"Vibrato Delay",79:"Sound Controller 10",80:"General Purpose Controller 5",81:"General Purpose Controller 6",82:"General Purpose Controller 7",83:"General Purpose Controller 8",84:"Portamento Control",88:"High Resolution Velocity Prefix",91:"Effects 1 Depth",92:"Effects 2 Depth",93:"Effects 3 Depth",94:"Effects 4 Depth",95:"Effects 5 Depth",96:"Data Increment",97:"Data Decrement",98:"Non-Registered Parameter Number LSB",99:"Non-Registered Parameter Number MSB",100:"Registered Parameter Number LSB",101:"Registered Parameter Number MSB",120:"All Sound Off",121:"Reset All Controllers",122:"Local Control On/Off",123:"All Notes Off",124:"Omni Mode Off",125:"Omni Mode On",126:"Mono Mode On",127:"Poly Mode On"}[this[1]],this[1]>=64&&this[1]<=69&&(n+=this[2]<64?" Off":" On"),n||(n="Undefined"),n))},C.prototype._stamp=function(t){return this._from.push(t._orig?t._orig:t),this},C.prototype._unstamp=function(t){if(typeof t>"u")this._from=[];else{t._orig&&(t=t._orig);var n=this._from.indexOf(t);n>-1&&this._from.splice(n,1)}return this},C.prototype._stamped=function(t){t._orig&&(t=t._orig);for(var n=0;n<this._from.length;n++)if(this._from[n]==t)return!0;return!1},X.MIDI=C,at.prototype.MIDI=C;function Qu(){var t;for(this._cc=[],t=0;t<16;t++)this._cc[t]={}}function tl(t,n){var r=typeof t>"u"?"??":Ee(t),l=typeof n>"u"?"??":Ee(n),a={"0000":"Pitch Bend Sensitivity","0001":"Channel Fine Tune","0002":"Channel Coarse Tune","0003":"Select Tuning Program","0004":"Select Tuning Bank","0005":"Vibrato Depth Range","7f7f":"NONE"}[r+""+l];return"RPN "+r+" "+l+(a?": "+a:"")}function el(t,n){var r=typeof t>"u"?"??":Ee(t),l=typeof n>"u"?"??":Ee(n);return"NRPN "+r+" "+l}function nl(t){if(!t.length||t[0]<128)return t;if(t[0]==255)return this._clear(),t;var n=t[0]&15,r=t[0]>>4,l;if(r==12)t._bm=this._cc[n].bm,t._bl=this._cc[n].bl,X.MIDI.programName&&t.label(X.MIDI.programName(t[1],t._bm,t._bl));else if(r==11)switch(t[1]){case 0:this._cc[n].bm=t[2];break;case 32:this._cc[n].bl=t[2];break;case 98:this._cc[n].nl=t[2],this._cc[n].rn="n";break;case 99:this._cc[n].nm=t[2],this._cc[n].rn="n";break;case 100:this._cc[n].rl=t[2],this._cc[n].rn="r";break;case 101:this._cc[n].rm=t[2],this._cc[n].rn="r";break;case 6:case 38:case 96:case 97:this._cc[n].rn=="r"&&(t._rm=this._cc[n].rm,t._rl=this._cc[n].rl,t.label(tl(this._cc[n].rm,this._cc[n].rl))),this._cc[n].rn=="n"&&(t._nm=this._cc[n].rm,t._nl=this._cc[n].nl,t.label(el(this._cc[n].nm,this._cc[n].nl)));break}else t.isFullSysEx()&&(t[1]==127?t[3]==4?(l={1:"Master Volume",2:"Master Balance",3:"Master Fine Tuning",4:"Master Coarse Tuning"}[t[4]],l&&t.label(l)):t[3]==8&&(l={2:"Note Tuning",7:"Note Tuning, Bank",8:"Scale Tuning, 1 byte format",9:"Scale Tuning, 2 byte format"}[t[4]],l&&t.label(l)):t[1]==126?t[3]==6?t[4]==1?t.label("Device ID Request"):t[4]==2&&t.label("Device ID Response"):t[3]==8?(l={0:"Bulk Tuning Dump Request",1:"Bulk Tuning Dump",3:"Bulk Tuning Dump Request, Bank",4:"Bulk Tuning Dump, Bank",5:"Scale Tuning Dump, 1 byte format",6:"Scale Tuning Dump, 2 byte format",7:"Note Tuning, Bank",8:"Scale Tuning, 1 byte format",9:"Scale Tuning, 2 byte format"}[t[4]],l&&t.label(l)):t[3]==9&&(t[4]==1?(t.label("GM1 System On"),this._clear(),this._gm="1"):t[4]==2?(t.label("GM System Off"),this._clear(),this._gm="0"):t[4]==3&&(t.label("GM2 System On"),this._clear(),this._gm="2")):t[1]==67?(t[2]&240)==16&&t[3]==76&&(t[4]==0&&t[5]==0&&t[6]==126&&t[7]==0?(t.label("XG System On"),this._clear(),this._gm="Y"):t[4]==0&&t[5]==0&&t[6]==0?t.label("XG Master Tuning"):t[4]==0&&t[5]==0&&t[6]==4?t.label("XG Master Volume"):t[4]==0&&t[5]==0&&t[6]==6?t.label("XG Master Transpose"):t[4]==8&&t[5]<16&&t[6]>=65&&t[6]<=76?t.label("XG Scale Tuning"):t.label("XG Parameter")):t[1]==65&&t[3]==66&&t[4]==18&&(t[5]==64&&(t[6]==0?t[7]==127&&t[8]==0&&t[9]==65?(t.label("GS Reset"),this._clear(),this._gm="R"):t[7]==0?t.label("GS Master Tuning"):t[7]==4?t.label("GS Master Volume"):t[7]==5?t.label("GS Master Transpose"):t.label("GS Parameter"):(t[6]&240)==16&&t[7]==21?t.label("GS Drum Part Change"):(t[6]&240)==16&&t[7]>=64&&t[7]<=75?t.label("GS Scale Tuning"):t.label("GS Parameter")),t[5]==65&&t.label("GS Parameter")));return t}function So(){var t=new ut;return t._clear=Qu,t._read=nl,t._receive=function(n){this._emit(this._read(n))},t._clear(),t._resume(),t}X.Context=So,at.prototype.Context=So;function we(){var t=this instanceof we?this:t=new we;return t.reset(),arguments.length&&we.prototype.setup.apply(t,arguments),t}we.validate=function(t){var n=t instanceof Array?t:arguments;if(n[0]!=parseInt(n[0])||n[0]<0||n[0]>14)throw RangeError("Bad master channel value: "+n[0]);if(n[1]!=parseInt(n[1])||n[1]<0||n[0]+n[1]>15)throw RangeError("Bad zone size value: "+n[1])},we.prototype.reset=function(){for(var t=0;t<16;t++)this[t]={band:0,master:t}},we.prototype.setup=function(t,n){we.validate(t,n);var r,l=t+n;if(!(this[t].master==t&&this[t].band==n)&&!(!n&&!this[t].band)){for(this[t].band?(r=t+this[t].band,l<r&&(l=r)):this[t].master==t-1?(r=t-1,r=r+this[r].band,l<r&&(l=r),this[t-1]={band:0,master:t-1}):this[t].master!=t&&(r=this[t].master,r=r+this[r].band,l<r&&(l=r),this[this[t].master].band=t-this[t].master-1),this[t].master=t,this[t].band=n,r=t+1;r<=t+n;r++)this[r].band&&l<r+this[r].band&&(l=r+this[r].band),this[r]={band:0,master:t};for(;r<=l;r++)this[r]={band:0,master:r}}},we.prototype.filter=function(t){var n=t.getChannel();if(!this[n]||!this[this[n].master].band)return t;var r=this[n].master,l=this[r].band,a,p,_;if(typeof t._mpe<"u"){for(_=256,a=r+1;a<=r+l;a++)if(!this[a].notes)_>0&&(n=a,_=0);else for(_>this[a].notes.length&&(n=a,_=this[a].notes.length),p=0;p<this[a].notes.length;p++)if(this[a].notes[p]==t._mpe){n=a,_=-1;break}t.setChannel(n),t._mpe=void 0}return n==r||(t.isNoteOn()?(this[n].notes||(this[n].notes=[]),lt(this[n].notes,t.getNote())):t.isNoteOff()&&this[n].notes&&dt(this[n].notes,t.getNote())),t},X.MPE=we;function et(t){var n=this instanceof et?this:n=new et,r;if(t instanceof et)return n._from=t._from.slice(),pt(t,function(a){a!="_from"&&(n[a]=t[a])}),n;n._from=[],typeof t>"u"&&(t=[0,0,0,0]);var l=t instanceof Array?t:arguments;for(n.length=0,r=0;r<l.length;r++)g=l[r],(g!=parseInt(g)||g<0||g>255)&&Ie(l[r]),n.push(g);if(n.length!=[4,4,4,8,8,16,4,4,8,8,8,12,12,16,16,16][n[0]>>4])throw RangeError("Wrong UMP size");return n}et.prototype=[],et.prototype.constructor=et,et.prototype.isMidi=function(){return 2},et.prototype.isMidi2=!0,et.prototype.dump=function(){var t,n="";for(t=0;t<this.length;t++)n+=String.fromCharCode(this[t]);return n};function _i(){}_i.prototype=et,et._sxid=127,et.sxId=function(t){if(typeof t>"u"&&(t=et._sxid),t==this._sxid)return this;t=K(t);var n=new _i;return n._ch=this._ch,n._gr=this._gr,n._sxid=t,n},et.ch=function(t){if(t==this._ch||typeof t>"u"&&typeof this._ch>"u")return this;var n=new _i;return typeof t<"u"&&(t=z(t)),n._ch=t,n._gr=this._gr,n._sxid=this._sxid,n},et.gr=function(t){if(t==this._gr||typeof t>"u"&&typeof this._gr>"u")return this;var n=new _i;return typeof t<"u"&&(t=Ot(t)),n._ch=this._ch,n._gr=t,n._sxid=this._sxid,n},et.prototype.getGroup=function(){if(this[0]){var t=this[0]>>4;if(t==1||t==2||t==3||t==4||t==5||t==13)return this[0]&15}};var Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0];function Ae(t,n,r,l){return typeof n<"u"?[Ce(t),Ce(n),Ce(r),Ce(l)]:(t=Vu(t),[t>>24&255,t>>16&255,t>>8&255,t&255])}var To={noop:function(){return[0,0,0,0]},umpClock:function(t){return t=Ne(t),[0,16,t>>8,t&255]},umpTimestamp:function(t){return t=Ne(t),[0,32,t>>8,t&255]},umpTicksPQN:function(t){return t=Ne(t),[0,48,t>>8,t&255]},umpDelta:function(t){return t=t||0,t=Lu(t),[0,64+(t>>16),t>>8&255,t&255]},umpStartClip:function(){return[240,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},umpEndClip:function(){return[240,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},sr={umpTempo:function(t,n){return[208+Ot(t),16,0,0].concat(Ae(n),[0,0,0,0,0,0,0,0])},umpBPM:function(t,n){return sr.umpTempo(t,Math.round(6e9/n))},umpTimeSignature:function(t,n,r){var l,a,p,_=(""+n).match(/^\s*(\d+)\s*\/\s*(\d+)\s*$/);if(_?(l=parseInt(_[1]),a=parseInt(_[2])):n==parseInt(n)&&r==parseInt(r)&&(l=parseInt(n),a=parseInt(r)),l>0&&l<256&&a>0&&!(a&a-1)){for(p=0,a>>=1;a;a>>=1)p++;if(a=Math.round(l*32/(1<<p)),a<256)return[208+Ot(t),16,0,1,l,p,a,0,0,0,0,0,0,0,0,0]}throw RangeError("Wrong time signature "+n+(typeof r>"u"?"":"/"+r))}},Io={umpMetadata:function(t,n){return xt.umpCustomText(t,0,1,1,0,n)},umpProjectName:function(t,n){return xt.umpCustomText(t,0,1,1,1,n)},umpCompositionName:function(t,n){return xt.umpCustomText(t,0,1,1,2,n)},umpClipName:function(t,n){return xt.umpCustomText(t,0,1,1,3,n)},umpCopyright:function(t,n){return xt.umpCustomText(t,0,1,1,4,n)},umpComposerName:function(t,n){return xt.umpCustomText(t,0,1,1,5,n)},umpLyricistName:function(t,n){return xt.umpCustomText(t,0,1,1,6,n)},umpArrangerName:function(t,n){return xt.umpCustomText(t,0,1,1,7,n)},umpPublisherName:function(t,n){return xt.umpCustomText(t,0,1,1,8,n)},umpPerformerName:function(t,n){return xt.umpCustomText(t,0,1,1,9,n)},umpAccPerformerName:function(t,n){return xt.umpCustomText(t,0,1,1,10,n)},umpRecordingDate:function(t,n){return xt.umpCustomText(t,0,1,1,11,n)},umpRecordingLocation:function(t,n){return xt.umpCustomText(t,0,1,1,12,n)},umpText:function(t,n){return xt.umpCustomText(t,0,1,2,0,n)},umpLyrics:function(t,n){return xt.umpCustomText(t,0,1,2,1,n)},umpLyricsLanguage:function(t,n){return xt.umpCustomText(t,0,1,2,2,n)},umpRuby:function(t,n){return xt.umpCustomText(t,0,1,2,3,n)},umpRubyLanguage:function(t,n){return xt.umpCustomText(t,0,1,2,4,n)}},Eo=[0,6,32,38,98,99,100,101],yi={umpNoteOn:function(t,n,r,l,a,p){return typeof l>"u"&&(l=65535),a=a||0,p=p||0,l=Ne(l),p=Ne(p),[64+Ot(t),144+z(n),At(r),Ce(a),l>>8,l&255,p>>8,p&255]},umpNoteOff:function(t,n,r,l,a,p){return l=l||0,a=a||0,p=p||0,l=Ne(l),p=Ne(p),[64+Ot(t),128+z(n),At(r),Ce(a),l>>8,l&255,p>>8,p&255]},umpAftertouch:function(t,n,r,l,a,p,_){return[64+Ot(t),160+z(n),At(r),0].concat(Ae(l,a,p,_))},umpControl:function(t,n,r,l,a,p,_){return Eo.includes(r)&&Ie(r),[64+Ot(t),176+z(n),K(r),0].concat(Ae(l,a,p,_))},umpPressure:function(t,n,r,l,a,p){return[64+Ot(t),208+z(n),0,0].concat(Ae(r,l,a,p))},umpProgram:function(t,n,r,l,a){return typeof l>"u"&&typeof a>"u"?[64+Ot(t),192+z(n),0,0,At(r),0,0,0]:[64+Ot(t),192+z(n),0,1,At(r),0,At(l),At(a)]},umpPitchBend:function(t,n,r,l,a,p){return[64+Ot(t),224+z(n),0,0].concat(Ae(r,l,a,p))},umpPnPitchBend:function(t,n,r,l,a,p,_){return[64+Ot(t),96+z(n),At(r),0].concat(Ae(l,a,p,_))},umpRPN:function(t,n,r,l,a,p,_,S){return[64+Ot(t),32+z(n),K(r),K(l)].concat(Ae(a,p,_,S))},umpNRPN:function(t,n,r,l,a,p,_,S){return[64+Ot(t),48+z(n),K(r),K(l)].concat(Ae(a,p,_,S))},umpPnRPN:function(t,n,r,l,a,p,_,S){return[64+Ot(t),0+z(n),At(r),Ce(l)].concat(Ae(a,p,_,S))},umpPnNRPN:function(t,n,r,l,a,p,_,S){return[64+Ot(t),16+z(n),At(r),Ce(l)].concat(Ae(a,p,_,S))},umpPnManagement:function(t,n,r,l){for(var a=l.toString().split(""),p=0,_=0;_<a.length;_++)if(a[_]=="S"&&!(p&1))p|=1;else if(a[_]=="D"&&!(p&2))p|=2;else{p=l;break}return[64+Ot(t),240+z(n),At(r),Ce(p),0,0,0,0]}};yi.umpPnPressure=yi.umpAftertouch;var xt={umpCustomText:function(t,n,r,l,a,p){var _,S=[];for(p=X.lib.toUTF8(""+p),_=0;_<p.length;_++)S.push(p.charCodeAt(_));for(S=Ao(S,12),_=0;_<S.length;_++)S[_]=[208+Ot(t),Po(S.length,_)*64+(r?16:0)+z(n),l,a].concat(S[_],Pe).slice(0,16);return S},umpCMetadata:function(t,n,r){return xt.umpCustomText(t,n,0,1,0,r)},umpCProjectName:function(t,n,r){return xt.umpCustomText(t,n,0,1,1,r)},umpCCompositionName:function(t,n,r){return xt.umpCustomText(t,n,0,1,2,r)},umpCClipName:function(t,n,r){return xt.umpCustomText(t,n,0,1,3,r)},umpCCopyright:function(t,n,r){return xt.umpCustomText(t,n,0,1,4,r)},umpCComposerName:function(t,n,r){return xt.umpCustomText(t,n,0,1,5,r)},umpCLyricistName:function(t,n,r){return xt.umpCustomText(t,n,0,1,6,r)},umpCArrangerName:function(t,n,r){return xt.umpCustomText(t,n,0,1,7,r)},umpCPublisherName:function(t,n,r){return xt.umpCustomText(t,n,0,1,8,r)},umpCPerformerName:function(t,n,r){return xt.umpCustomText(t,n,0,1,9,r)},umpCAccPerformerName:function(t,n,r){return xt.umpCustomText(t,n,0,1,10,r)},umpCRecordingDate:function(t,n,r){return xt.umpCustomText(t,n,0,1,11,r)},umpCRecordingLocation:function(t,n,r){return xt.umpCustomText(t,n,0,1,12,r)},umpCText:function(t,n,r){return xt.umpCustomText(t,n,0,2,0,r)},umpCLyrics:function(t,n,r){return xt.umpCustomText(t,n,0,2,1,r)},umpCLyricsLanguage:function(t,n,r){return xt.umpCustomText(t,n,0,2,2,r)},umpCRuby:function(t,n,r){return xt.umpCustomText(t,n,0,2,3,r)},umpCRubyLanguage:function(t,n,r){return xt.umpCustomText(t,n,0,2,4,r)}},me={};function il(t,n){et[t]=function(){return new et(n.apply(this,arguments))},me[t]=function(){return this.send(n.apply(this,arguments))}}function rl(t,n){et[t]=function(){var r=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(r=[this._gr].concat(r)),new et(n.apply(this,r))},me[t]=function(){var r=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(r=[this._gr].concat(r)),this.send(n.apply(this,r))}}function ol(t,n){et[t]=function(){var r=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(r=[this._gr].concat(r));for(var l=n.apply(this,r),a=0;a<l.length;a++)l[a]=new et(l[a]);return l},me[t]=function(){var r=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(r=[this._gr].concat(r));for(var l=n.apply(this,r),a=0;a<l.length;a++)this.send(l[a]);return this}}function sl(t,n){et[t]=function(){var r=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(r=[this._gr].concat(r)),typeof this._ch<"u"&&(r=[r[0]].concat([this._ch]).concat(r.slice(1))),new et(n.apply(this,r))},me[t]=function(){var r=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(r=[this._gr].concat(r)),typeof this._ch<"u"&&(r=[r[0]].concat([this._ch]).concat(r.slice(1))),this.send(n.apply(this,r))}}function ul(t,n){et[t]=function(){var r=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(r=[this._gr].concat(r)),typeof this._ch<"u"&&(r=[r[0]].concat([this._ch]).concat(r.slice(1)));for(var l=n.apply(this,r),a=0;a<l.length;a++)l[a]=new et(l[a]);return l},me[t]=function(){var r=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(r=[this._gr].concat(r)),typeof this._ch<"u"&&(r=[r[0]].concat([this._ch]).concat(r.slice(1)));for(var l=n.apply(this,r),a=0;a<l.length;a++)this.send(l[a]);return this}}function Po(t,n){return t==1?0:n==0?1:n==t-1?3:2}function Ao(t,n){for(var r=[],l=t;l.length;l=l.slice(n))r.push(l.slice(0,n));return r.length?r:[[]]}function zn(t,n){for(var r=Ao(n.slice(1,n.length-1),6),l=0;l<r.length;l++)r[l]=new et([48+t,Po(r.length,l)*16+r[l].length].concat(r[l],Pe).slice(0,8));return r}function ll(t,n){et[t]=function(){var r=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(r=[this._gr].concat(r)),zn(Ot(r[0]),n.apply(this,r.slice(1)))},me[t]=function(){var r=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(r=[this._gr].concat(r));for(var l=zn(Ot(r[0]),n.apply(this,r.slice(1))),a=this,p=0;p<l.length;p++)a=a.send(l[p]);return a}}function fl(t,n){et[t]=function(){var r=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(r=[this._gr].concat(r));for(var l=n.apply(this,r.slice(1)),a=[],p=0;p<l.length;p++)a=a.concat(zn(Ot(r[0]),l[p]));return a},me[t]=function(){var r=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(r=[this._gr].concat(r));for(var l=n.apply(this,r.slice(1)),a=this,p=0;p<l.length;p++)for(var _=zn(Ot(r[0]),l[p]),S=0;S<_.length;S++)a=a.send(_[S]);return a}}function al(t,n){et[t]=function(){var r=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(r=[this._gr].concat(r)),new et([16+Ot(r[0])].concat(n.apply(this,r.slice(1)),Pe).slice(0,4))},me[t]=function(){var r=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(r=[this._gr].concat(r)),this.send([16+Ot(r[0])].concat(n.apply(this,r.slice(1)),Pe).slice(0,4))}}function Bo(t,n){et[t]=function(){var r=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(r=[this._gr].concat(r)),typeof this._ch<"u"&&(r=[r[0]].concat([this._ch]).concat(r.slice(1))),new et([32+Ot(r[0])].concat(n.apply(this,r.slice(1)),Pe).slice(0,4))},me[t]=function(){var r=Array.prototype.slice.call(arguments);return typeof this._gr<"u"&&(r=[this._gr].concat(r)),typeof this._ch<"u"&&(r=[r[0]].concat([this._ch]).concat(r.slice(1))),this.send([32+Ot(r[0])].concat(n.apply(this,r.slice(1)),Pe).slice(0,4))}}function cl(t,n){et[t]=function(){var r=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(r=[this._gr].concat(r)),typeof this._ch<"u"&&(r=[r[0]].concat([this._ch]).concat(r.slice(1)));for(var l=n.apply(this,r.slice(1)),a=0;a<l.length;a++)l[a]=new et([32+Ot(r[0])].concat(l[a],Pe).slice(0,4));return l},me[t]=function(){var r=Array.prototype.slice.call(arguments);typeof this._gr<"u"&&(r=[this._gr].concat(r)),typeof this._ch<"u"&&(r=[r[0]].concat([this._ch]).concat(r.slice(1)));for(var l=n.apply(this,r.slice(1)),a=this,p=0;p<l.length;p++)a=a.send([32+Ot(r[0])].concat(l[p],Pe).slice(0,4));return a}}pt(To,function(t){il(t,To[t])}),pt(sr,function(t){rl(t,sr[t])}),pt(Io,function(t){ol(t,Io[t])}),pt(yi,function(t){sl(t,yi[t])}),pt(xt,function(t){ul(t,xt[t])}),pt(di,function(t){al(t,di[t])}),pt(hi,function(t){Bo(t,hi[t])}),pt(Q,function(t){Bo(t,Q[t])}),pt(bt,function(t){cl(t,bt[t])}),pt(tt,function(t){ll(t,tt[t])}),pt(fn,function(t){fl(t,fn[t])});function ur(t){pt(me,function(n){t.prototype[n]=me[n]})}ur(w),et.prototype.getTempo=function(){if(this.isTempo())return(this[4]<<24)+(this[5]<<16)+(this[6]<<8)+this[7]},et.prototype.getBPM=function(){var t=this.getTempo();if(t)return Math.round(6e9/t)},et.prototype.getTimeSignature=function(){if(this.isTimeSignature())return[this[4],1<<this[5]]},et.prototype.getTicksPQN=function(){if(this.isTicksPQN())return(this[2]<<8)+this[3]},et.prototype.getDelta=function(){if(this.isDelta())return((this[1]&15)<<16)+(this[2]<<8)+this[3]},et.prototype.isTempo=function(){return this[0]>>4==13&&this[1]>>4==1&&this[2]==0&&this[3]==0},et.prototype.isTimeSignature=function(){return this[0]>>4==13&&this[1]>>4==1&&this[2]==0&&this[3]==1},et.prototype.isTicksPQN=function(){return this[0]==0&&this[1]>>4==3},et.prototype.isDelta=function(){return this[0]==0&&this[1]>>4==4},et.prototype.isStartClip=function(){return this.match([240,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0])},et.prototype.isEndClip=function(){return this.match([240,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0])},et.prototype.isNoteOn=function(){var t=(this[0]||0)>>4,n=(this[1]||0)>>4;return t==4?n==9:t==2?n==9&&!!this[3]:!1},et.prototype.isNoteOff=function(){var t=(this[0]||0)>>4,n=(this[1]||0)>>4;return t==4?n==8:t==2?n==8||n==9&&!this[3]:!1},et.prototype.toString=C.prototype.toString,et.prototype._str=function(){var t=this._string();return t?wo(this)+" -- "+t:wo(this)},et.prototype._string=function(){var t,n,r=this[0]>>4;return r==1||r==2?new C(this.slice(1))._string():(r==0?(t=this[1]>>4,n=["NOOP","JR Clock","JR Timestamp","Ticks Per Quarter Note","Delta Ticks"][t]):r==3?n="SysEx":r==4?(t=this[1]>>4,n={0:"Registered Per-Note Controller",1:"Assignable Per-Note Controller",2:"Registered Controller",3:"Assignable Controller",4:"Relative Registered Controller",5:"Relative Assignable Controller",6:"Per-Note Pitch Bend",8:"Note Off",9:"Note On",10:"Poly Pressure",11:"Control Change",12:"Program Change",13:"Channel Pressure",14:"Pitch Bend",15:"Per-Note Management"}[t]):r==5?n="Data":r==13&&(t=this[2],t==0?(t=this[3],n={0:"Tempo ",1:"Time Signature ",2:"Metronome",5:"Key Signature",6:"Chord Name"}[t],t==0?n+=this.getBPM()+" BPM":t==1&&(n+=this.getTimeSignature().join("/"))):t==1?(t=this[3],n={0:"Metadata",1:"Project Name",2:"Composition Name",3:"Clip Name",4:"Copyright",5:"Composer Name",6:"Lyricist Name",7:"Arranger Name",8:"Publisher Name",9:"Primary Performer Name",10:"Accompanying Performer Name",11:"Recording Date",12:"Recording Location"}[t]||"Unknown Text"):t==2&&(t=this[3],n={0:"Text",1:"Lyrics",2:"Lyrics Language",3:"Ruby",4:"Ruby Language"}[t]||"Unknown Text")),r==15&&(n={32:"Start of Clip",33:"End of Clip"}[this[1]]),n)},et.prototype._stamp=C.prototype._stamp,et.prototype._unstamp=C.prototype._unstamp,et.prototype._stamped=C.prototype._stamped,et.prototype.match=C.prototype.match,X.UMP=et,at.prototype.UMP=et,X.MIDI2=et,at.prototype.MIDI2=et;function hl(t,n){var r=t*256+n;return r?r>>9||1:0}function lr(t,n,r,l){var a=t*16777216+n*65536+r*256+l;return a?a>>25&127||1:0}function oe(t,n){return t.gr=n,t}function dl(t){if(t.isMidi2){var n,r,l,a=t[0]>>4,p=t[0]&15;if(a==1||a==2)this._emit(oe(new C(t.slice(1)),p));else if(a==3)r=t[1]>>4,n=t[1]&15,r==0?(this._emit(oe(new C([240].concat(t.slice(2,2+n),[247])),p)),this._sx[p]=void 0):r==1?this._sx[p]=t.slice(2,2+n):r==2?this._sx[p]&&(this._sx[p]=this._sx[p].concat(t.slice(2,2+n))):r==3&&(this._sx[p]&&this._emit(oe(new C([240].concat(this._sx[p],t.slice(2,2+n),[247])),p)),this._sx[p]=void 0);else if(a==4){if(n=t[1]>>4,r=t[1]&15,n==2||n==3?(this._emit(oe(new C([176+r,n==2?101:99,t[2]]),p)),this._emit(oe(new C([176+r,n==2?100:98,t[3]]),p)),this._emit(oe(new C([176+r,6,t[4]>>1]),p)),this._emit(oe(new C([176+r,38,(t[4]&1)*64+(t[4]>>2)]),p))):(n==8||n==9)&&this._emit(oe(new C([t[1],t[2],hl(t[4],t[5])]),p)),n==10&&this._emit(oe(new C([t[1],t[2],lr(t[4],t[5],t[6],t[7])]),p)),n==11){if(Eo.includes(t[2]))return;this._emit(oe(new C([t[1],t[2],lr(t[4],t[5],t[6],t[7])]),p))}n==13&&this._emit(oe(new C([t[1],lr(t[4],t[5],t[6],t[7])]),p)),n==14?(l=t[4]*16777216+t[5]*65536+t[6]*256+t[4]>>18,this._emit(oe(new C([t[1],l&127,l>>7&127]),p))):n==12&&(t[3]&&(this._emit(oe(new C([176+r,0,t[6]]),p)),this._emit(oe(new C([176+r,32,t[7]]),p))),this._emit(oe(new C([t[1],t[4]]),p)))}}else this._emit(t)}function pl(){var t=new ut;return t._sx=[],t._receive=dl,t._resume(),t.MIDI2()}X.M2M1=pl,at.prototype.M2M1=X.M2M1;function gl(t){if(t.isMidi2)this._emit(t);else{var n=t.gr>=0&&t.gr<=15?t.gr:0;if(t[0]>=128&&t[0]<240)this._emit(X.MIDI2([32+n].concat(t.slice(),Pe).slice(0,4)));else if(t[0]>240&&t[0]<=255&&t[0]!=247)this._emit(X.MIDI2([16+n].concat(t.slice(),Pe).slice(0,4)));else if(t.isFullSysEx())for(var r=zn(n,t.slice()),l=0;l<r.length;l++)this._emit(X.MIDI2(r[l]))}}function ml(){var t=new ut;return t._receive=gl,t._resume(),t}X.M1M2=ml,at.prototype.M1M2=X.M1M2,X.lib={},X.lib.now=O,X.lib.schedule=T;var fr=[],En,ar=0;try{var _l=URL.createObjectURL(new Blob(["(",function(){function t(){postMessage({}),setTimeout(t,0)}t()}.toString(),")()"],{type:"application/javascript"})),yl=function(){for(var t=fr.length,n=0;n<t;n++)fr.shift()();ar++,ar>20&&En&&(En.terminate(),En=void 0)},Oo=function(t){fr.push(t),ar=0,En||(En=new Worker(_l),En.onmessage=yl)};Oo(function(){X.lib.schedule=Oo})}catch{}X.lib.openMidiOut=function(t,n){var r=new ut;return n._openOut(r),r._info=n._info(t),r},X.lib.openMidiIn=function(t,n){var r=new ut;return n._openIn(r),r._info=n._info(t),r},X.lib.registerMidiOut=function(t,n){for(var r=n._info(t),l=0;l<Y._outs.length;l++)if(Y._outs[l].name==r.name)return!1;return r.engine=n,Y._outs.push(r),E&&(F(),E._bad&&(E._repair(),E._resume())),!0},X.lib.registerMidiIn=function(t,n){for(var r=n._info(t),l=0;l<Y._ins.length;l++)if(Y._ins[l].name==r.name)return!1;return r.engine=n,Y._ins.push(r),E&&(F(),E._bad&&(E._repair(),E._resume())),!0};var de;function xl(){if(!de&&typeof window<"u"){var t=window.AudioContext||window.webkitAudioContext;if(t){de=new t,de&&!de.createGain&&(de.createGain=de.createGainNode);var n=function(){if(de.state!="running"){de.resume();var r=de.createOscillator(),l=de.createGain();try{l.gain.value=0}catch{}l.gain.setTargetAtTime(0,de.currentTime,.01),r.connect(l),l.connect(de.destination),r.start||(r.start=r.noteOn),r.stop||(r.stop=r.noteOff),r.start(.1),r.stop(.11)}else typeof document<"u"&&(document.removeEventListener("touchstart",n),document.removeEventListener("touchend",n),document.removeEventListener("mousedown",n),document.removeEventListener("keydown",n))};typeof document<"u"&&(document.addEventListener("touchstart",n),document.addEventListener("touchend",n),document.addEventListener("mousedown",n),document.addEventListener("keydown",n)),n()}}}X.lib.copyMidiHelpers=bo,X.lib.copyMidi2Helpers=ur,X.lib.copyUmpHelpers=ur,X.lib.getAudioContext=function(){return xl(),de};var Ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";X.lib.fromBase64=function(t){var n="",r,l,a,p,_,S,L,Z=0;for(t=t.replace(/[^A-Za-z0-9+/=]/g,"");Z<t.length;)p=Ke.indexOf(t.charAt(Z++)),_=Ke.indexOf(t.charAt(Z++)),S=Ke.indexOf(t.charAt(Z++)),L=Ke.indexOf(t.charAt(Z++)),r=p<<2|_>>4,l=(_&15)<<4|S>>2,a=(S&3)<<6|L,n=n+String.fromCharCode(r),S!=64&&(n=n+String.fromCharCode(l)),L!=64&&(n=n+String.fromCharCode(a));return n},X.lib.toBase64=function(t){var n,r,l,a,p,_,S,L,Z=0,Wt=0,Le="",cr=[];if(!t)return t;do n=t.charCodeAt(Z++),r=t.charCodeAt(Z++),l=t.charCodeAt(Z++),L=n<<16|r<<8|l,a=L>>18&63,p=L>>12&63,_=L>>6&63,S=L&63,cr[Wt++]=Ke.charAt(a)+Ke.charAt(p)+Ke.charAt(_)+Ke.charAt(S);while(Z<t.length);Le=cr.join("");var hr=t.length%3;return hr?Le.slice(0,hr-3)+"===".slice(hr):Le},X.lib.fromUTF8=function(t){t=typeof t>"u"?"":""+t;var n="",r,l,a;for(r=0;r<t.length;r++){if(l=t.charCodeAt(r),l>255)return t;if(l<128)n+=t[r];else if((l&224)==192){if(l=(l&31)<<6,r++,r>=t.length||(a=t.charCodeAt(r),(a&192)!=128))return t;l+=a&63,n+=String.fromCharCode(l)}else if((l&240)==224){if(l=(l&15)<<12,r++,r>=t.length||(a=t.charCodeAt(r),(a&192)!=128)||(l+=(a&63)<<6,r++,r>=t.length)||(a=t.charCodeAt(r),(a&192)!=128))return t;l+=a&63,n+=String.fromCharCode(l)}else if((l&248)==240){if(l=(l&7)<<18,r++,r>=t.length||(a=t.charCodeAt(r),(a&192)!=128)||(l+=(a&63)<<12,r++,r>=t.length)||(a=t.charCodeAt(r),(a&192)!=128)||(l+=(a&63)<<6,r++,r>=t.length)||(a=t.charCodeAt(r),(a&192)!=128)||(l+=a&63,l>1114111))return t;l-=65536,n+=String.fromCharCode(55296+(l>>10)),n+=String.fromCharCode(56320+(l&1023))}}return n},X.lib.toUTF8=function(t){t=typeof t>"u"?"":""+t;var n="",r,l;for(r=0;r<t.length;r++)l=t.charCodeAt(r),l<128?n+=t[r]:l<2048?(n+=String.fromCharCode(192+(l>>6)),n+=String.fromCharCode(128+(l&63))):l<65536?(n+=String.fromCharCode(224+(l>>12)),n+=String.fromCharCode(128+(l>>6&63)),n+=String.fromCharCode(128+(l&63))):(n+=String.fromCharCode(240+(l>>18)),n+=String.fromCharCode(128+(l>>12&63)),n+=String.fromCharCode(128+(l>>6&63)),n+=String.fromCharCode(128+(l&63)));return n};var Qt=[],_e={},ye={},Be=o.Promise;typeof Be!="function"&&(Be=function(t){this.executor=t},Be.prototype.then=function(t,n){typeof t!="function"&&(t=$),typeof n!="function"&&(n=$),this.executor(t,n)});function Kn(t,n,r){this.name=t,this.message=n,this.code=r}function Fo(t,n){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.currentTarget=n,this.defaultPrevented=!1,this.eventPhase=0,this.path=[],this.port=t,this.returnValue=!0,this.srcElement=n,this.target=n,this.timeStamp=O(),this.type="statechange"}function vl(t,n){this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.currentTarget=t,this.data=n,this.defaultPrevented=!1,this.eventPhase=0,this.path=[],this.receivedTime=O(),this.returnValue=!0,this.srcElement=t,this.target=t,this.timeStamp=this.receivedTime,this.type="midimessage"}function Oe(t,n){t&&(t.onstatechange&&t.onstatechange(new Fo(t,t)),n.onstatechange&&n.onstatechange(new Fo(t,n)))}function bl(t,n){var r=this,l=!1,a=null,p=null;this.type="input",this.id=n.id,this.name=n.name,this.manufacturer=n.man,this.version=n.ver,Object.defineProperty(this,"state",{get:function(){return n.connected?"connected":"disconnected"},enumerable:!0}),Object.defineProperty(this,"connection",{get:function(){return l?n.proxy?"open":"pending":"closed"},enumerable:!0}),Object.defineProperty(this,"onmidimessage",{get:function(){return p},set:function(_){R(_)?(p=_,l||r.open().then($,$)):p=null},enumerable:!0}),Object.defineProperty(this,"onstatechange",{get:function(){return a},set:function(_){R(_)?a=_:a=null},enumerable:!0}),this.open=function(){return new Be(function(_,S){l?_(r):n.open().then(function(){l||(l=!0,Oe(r,t)),_(r)},function(){S(new Kn("InvalidAccessError","Port is not available",15))})})},this.close=function(){return new Be(function(_){l&&(l=!1,n.close(),Oe(r,t)),_(r)})},Object.freeze(this)}function Ro(t){for(var n,r;t.length;){for(n=0;n<t.length&&!(t[n]==parseInt(t[n])&&t[n]>=128&&t[n]<=255&&t[n]!=247);n++);if(t.splice(0,n),!t.length)return;if(t[0]==240){for(n=1;n<t.length&&t[n]!=247;n++);return n==t.length?void 0:t.splice(0,n+1)}else{if(r=Do(t[0])+1,r>t.length)return;for(n=1;n<r&&!(t[n]!=parseInt(t[n])||t[n]<0||t[n]>=128);n++);if(n==r)return t.splice(0,n);t.splice(0,n)}}}function Pn(t,n,r,l){var a=this;this.id=t,this.name=n,this.man=r,this.ver=l,this.connected=!0,this.ports=[],this.pending=[],this.proxy=void 0,this.queue=[],this.onmidi=function(p){var _;for(a.queue=a.queue.concat(p.slice()),_=Ro(a.queue);_;_=Ro(a.queue))for(u=0;u<a.ports.length;u++)a.ports[u][0].onmidimessage&&(_[0]!=240||a.ports[u][1])&&a.ports[u][0].onmidimessage(new vl(a,new Uint8Array(_)))}}Pn.prototype.open=function(){var t=this;return new Be(function(n,r){var l;t.proxy||!t.connected?n():(t.pending.push([n,r]),t.pending.length==1&&X().openMidiIn(t.name).or(function(){for(l=0;l<t.pending.length;l++)t.pending[l][1]();t.pending=[]}).and(function(){for(t.proxy=this,t.proxy.connect(t.onmidi),l=0;l<t.pending.length;l++)t.pending[l][0]();t.pending=[]}))})},Pn.prototype.close=function(){var t;if(this.proxy){for(t=0;t<this.ports.length;t++)if(this.ports[t].connection=="open")return;this.proxy.close(),this.proxy=void 0}},Pn.prototype.disconnect=function(){this.connected=!1,this.proxy&&(this.proxy.close(),this.proxy=void 0)},Pn.prototype.reconnect=function(){var t=this,n,r,l=[];for(this.connected=!0,n=0;n<Qt.length;n++)r=Qt[n].inputs.get(this.id),r.connection=="closed"?Oe(r,Qt[n]):l.push([r,Qt[n]]);l.length&&X()._openMidiInNR(t.name).or(function(){for(n=0;n<l.length;n++)l[n][0].close()}).and(function(){for(t.proxy=this,t.proxy.connect(t.onmidi),n=0;n<l.length;n++)Oe(l[n][0],l[n][1])})};function Do(t){return t>=128&&t<=191||t>=224&&t<=239||t==242?2:t>=192&&t<=223||t==241||t==243?1:0}var An="Failed to execute 'send' on 'MIDIOutput': ";function Cl(t,n){var r,l,a,p=[];for(r=0;r<t.length;r++)if(t[r]!=parseInt(t[r])||t[r]<0||t[r]>255)throw TypeError(An+t[r]+" is not a UInt8 value.");for(l=0,r=0;r<t.length;r++)if(l){if(t[r]>127)throw TypeError(An+"Unexpected status byte at index "+r+" ("+t[r]+").");a.push(t[r]),l--}else{if(t[r]<128)throw TypeError(An+"Running status is not allowed at index "+r+" ("+t[r]+").");if(t[r]==247)throw TypeError(An+"Unexpected end of system exclusive message at index "+r+" ("+t[r]+").");if(a=[t[r]],p.push(a),t[r]==240){if(!n)throw new Kn("InvalidAccessError",An+"System exclusive messag is not allowed at index "+r+" ("+t[r]+").",15);for(l=-1;r<t.length;r++)if(a.push(t[r]),t[r]==247){l=0;break}}else l=Do(t[r])}if(l)throw TypeError(An+"Message is incomplete");return[p]}function wl(t,n){var r=this,l=!1,a=null;this.type="output",this.id=n.id,this.name=n.name,this.manufacturer=n.man,this.version=n.ver,Object.defineProperty(this,"state",{get:function(){return n.connected?"connected":"disconnected"},enumerable:!0}),Object.defineProperty(this,"connection",{get:function(){return l?n.proxy?"open":"pending":"closed"},enumerable:!0}),Object.defineProperty(this,"onstatechange",{get:function(){return a},set:function(p){R(p)?a=p:a=null},enumerable:!0}),this.open=function(){return new Be(function(p,_){l?p(r):n.open().then(function(){l||(l=!0,Oe(r,t)),p(r)},function(){_(new Kn("InvalidAccessError","Port is not available",15))})})},this.close=function(){return new Be(function(p){l&&(l=!1,r.clear(),n.close(),Oe(r,t)),p(r)})},this.clear=function(){},this.send=function(p,_){if(Cl(p,t.sysexEnabled),!n.connected)throw new Kn("InvalidStateError","Port is not connected",11);if(l){var S=O();_>S?setTimeout(function(){n.proxy.send(p)},_-S):n.proxy.send(p)}else this.open().then(function(){r.send(p,_)},$)},Object.freeze(this)}function Bn(t,n,r,l){this.id=t,this.name=n,this.man=r,this.ver=l,this.connected=!0,this.ports=[],this.pending=[],this.proxy=void 0}Bn.prototype.open=function(){var t=this;return new Be(function(n,r){var l;t.proxy||!t.connected?n():(t.pending.push([n,r]),t.pending.length==1&&X().openMidiOut(t.name).or(function(){for(l=0;l<t.pending.length;l++)t.pending[l][1]();t.pending=[]}).and(function(){for(t.proxy=this,l=0;l<t.pending.length;l++)t.pending[l][0]();t.pending=[]}))})},Bn.prototype.close=function(){var t;if(this.proxy){for(t=0;t<this.ports.length;t++)if(this.ports[t].connection=="open")return;this.proxy.close(),this.proxy=void 0}},Bn.prototype.disconnect=function(){this.connected=!1,this.proxy&&(this.proxy.close(),this.proxy=void 0)},Bn.prototype.reconnect=function(){var t=this,n,r,l=[];for(this.connected=!0,n=0;n<Qt.length;n++)r=Qt[n].outputs.get(this.id),r.connection=="closed"?Oe(r,Qt[n]):l.push([r,Qt[n]]);l.length&&X()._openMidiOutNR(t.name).or(function(){for(n=0;n<l.length;n++)l[n][0].close()}).and(function(){for(t.proxy=this,n=0;n<l.length;n++)Oe(l[n][0],l[n][1])})};function No(t){this.has=function(n){return t.hasOwnProperty(n)&&t[n].connected},this.keys=function(){try{var n=new Map;for(var r in t)this.has(r)&&n.set(r,this.get(r));return n.keys()}catch{}},this.values=function(){try{var n=new Map;for(var r in t)this.has(r)&&n.set(r,this.get(r));return n.values()}catch{}},this.entries=function(){try{var n=new Map;for(var r in t)this.has(r)&&n.set(r,this.get(r));return n.entries()}catch{}},this.forEach=function(n,r){typeof r>"u"&&(r=this);for(var l in t)this.has(l)&&n.call(r,this.get(l),l,this)},Object.defineProperty(this,"size",{get:function(){var n=0;for(var r in t)this.has(r)&&n++;return n},enumerable:!0})}function xi(t,n){this.get=function(r){if(ye.hasOwnProperty(r)&&ye[r].connected)return n[r]||(n[r]=new bl(t,ye[r]),ye[r].ports.push([n[r],t.sysexEnabled])),n[r]},Object.freeze(this)}xi.prototype=new No(ye),xi.prototype.constructor=xi;function vi(t,n){this.get=function(r){if(_e.hasOwnProperty(r)&&_e[r].connected)return n[r]||(n[r]=new wl(t,_e[r]),_e[r].ports.push([n[r],t.sysexEnabled])),n[r]},Object.freeze(this)}vi.prototype=new No(_e),vi.prototype.constructor=vi;function Ml(t){var n,r,l,a;for(n=0;n<t.inputs.added.length;n++)l=t.inputs.added[n],ye.hasOwnProperty(l.id)||(ye[l.id]=new Pn(l.id,l.name,l.manufacturer,l.version)),ye[l.id].reconnect();for(n=0;n<t.outputs.added.length;n++)l=t.outputs.added[n],_e.hasOwnProperty(l.id)||(_e[l.id]=new Bn(l.id,l.name,l.manufacturer,l.version)),_e[l.id].reconnect();for(n=0;n<t.inputs.removed.length;n++)if(l=t.inputs.removed[n],ye.hasOwnProperty(l.id)){for(a=[],r=0;r<Qt.length;r++)a.push([Qt[r].inputs.get(l.id),Qt[r]]);for(ye[l.id].disconnect(),r=0;r<a.length;r++)Oe(a[r][0],a[r][1])}for(n=0;n<t.outputs.removed.length;n++)if(l=t.outputs.removed[n],_e.hasOwnProperty(l.id)){for(a=[],r=0;r<Qt.length;r++)a.push([Qt[r].outputs.get(l.id),Qt[r]]);for(_e[l.id].disconnect(),r=0;r<a.length;r++)Oe(a[r][0],a[r][1])}}function Sl(t){var n={},r={},l=null,a=this;this.sysexEnabled=t,this.inputs=new xi(a,n),this.outputs=new vi(a,r),Object.defineProperty(this,"onstatechange",{get:function(){return l},set:function(L){l=R(L)?L:null},enumerable:!0}),Object.freeze(this);var p,_,S=E._info;for(p=0;p<S.inputs.length;p++)_=S.inputs[p],ye.hasOwnProperty(_.id)||(ye[_.id]=new Pn(_.id,_.name,_.manufacturer,_.version));for(p=0;p<S.outputs.length;p++)_=S.outputs[p],_e.hasOwnProperty(_.id)||(_e[_.id]=new Bn(_.id,_.name,_.manufacturer,_.version));Qt.length||X().onChange(Ml),Qt.push(this)}return X.requestMIDIAccess=function(t){return new Be(function(n,r){X.JZZ(t).or(function(){}).and(function(){var l=!!(t&&t.sysex);if(l&&!this.info().sysex)r(new Kn("SecurityError","Sysex is not allowed",18));else{var a=new Sl(l);n(a)}})})},typeof navigator<"u"&&!navigator.requestMIDIAccess&&(navigator.requestMIDIAccess=X.requestMIDIAccess),X.close=function(){d._close&&d._close()},X})})(Iu);var Ei=Iu.exports;const Zd=nr("jzz",()=>{const e=Dt(),i=Dt();let o={};function s(k){console.log("access",k);const J=k.inputs.values(),ht=k.outputs.values();console.log(J,ht)}function u(){console.log("info jzz"),Ei.JZZ.requestMIDIAccess({engine:["webmidi","extension","etc"],sysex:!0}).then(k=>s(k),k=>console.log("error",k)),console.log("JZZ.info()",Ei.JZZ.info()),Ei.JZZ.close()}function f(k){i.value!==void 0?(console.log("TX_WEB",k),i.value.send(k)):console.warning("TX_WEB Wem midi not connected",k)}function c(){console.log("midi_out value",i.value),console.log("midi_out value.info()",i.value.info())}function h(){Ei.JZZ().or("Cannot start MIDI engine!").openMidiOut().or("Cannot open MIDI Out port!").wait(500).send([144,60,127]).wait(500).send([128,60,0]).close()}const g=Dt();function b(k){console.log("onMIDISuccess  MIDI ready!")}function M(k){console.error(`onMIDIFailure Failed to get MIDI access - ${k}`)}function O(k){let J=`--> RX_WEB MIDI @timestamp ${k.timeStamp} [${k.data.length} bytes]: `;for(const ht of k.data)J+=`0x${ht.toString(16)} `;console.log(J)}function T(k){k.inputs.forEach(J=>{J.onmidimessage=O})}function $(k){let J=0;const ht=[];for(const St of k.inputs){const ft=St[1];ht[J]={name:ft.name,id:ft.id,manufacturer:ft.manufacturer,version:ft.version},J++}J=0;const Ft=[];for(const St of k.outputs){const ft=St[1];Ft[J]={name:ft.name,id:ft.id,manufacturer:ft.manufacturer,version:ft.version},J++}console.log("webmidi ins",ht),console.log("webmidi outs",Ft)}function R(){navigator.permissions.query({name:"midi",sysex:!0}).then(k=>{k.state==="granted"||k.state}),navigator.requestMIDIAccess({name:"midi",sysex:!0}).then(k=>{k.onstatechange=J=>{console.log("webmidi onstatechange",J.port.name,J.port.state,J.port.id)},g.value=k,T(k),$(k)}).then(b,M)}function I(k,J){console.log("<-- TX_WEB",J),g.value.outputs.get(k).send(J)}function it(){console.log("close")}return{open:R,close:it,test:h,midi_in:e,midi_out:i,midi_debug:o,ports:u,info:c,TX_WEB:f,send:I}}),Yd={id:"piano"},Qd={__name:"MidiKeyboard",setup(e){return(i,o)=>(D(),V("div",Yd))}},tp={class:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},ep={class:"container-fluid"},np={class:"navbar-brand",href:"#"},ip={class:"btn-group",role:"group","aria-label":"Basic radio toggle button group"},rp=["id","value"],op=["for"],sp={key:0,class:"btn-group",role:"group","aria-label":"Basic radio toggle button group"},up=["id","value"],lp=["for"],fp=x("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},[x("span",{class:"navbar-toggler-icon"})],-1),ap={class:"collapse navbar-collapse",id:"navbarCollapse"},cp={class:"flex-shrink-0"},hp=x("br",null,null,-1),dp=x("br",null,null,-1),pp=x("br",null,null,-1),gp={class:"container"},mp={key:4},_p={class:"btn-group",role:"group"},yp=["id","value"],xp=["for"],vp={key:5},bp={class:"btn-group",role:"group"},Cp=["value","id"],wp=["for"],Mp={key:7},Sp=x("br",null,null,-1),Tp=x("br",null,null,-1),Ip={key:0,class:"footer mt-auto py-3 navbar-dark fixed-bottom bg-dark"},Ep={class:"container"},Pp={__name:"MiniDedex",setup(e){const i=zt();Qr(()=>{});const o=Dt(1),s=Dt(["1","2","3","4","5","6","7","8"]),u=Dt("8DX7"),f=["ini","DX7","8DX7"],c=Dt("One"),h=["One","All","Group"],g=["FX","O","i"],b=Dt(!1),M=Dt(!1),O=Dt(!1);function T(){console.log({single:o.value,many:s.value,device:u.value,ops:g.value})}return($,R)=>(D(),V(gt,null,[x("header",null,[x("nav",tp,[x("div",ep,[x("a",np,[x("div",ip,[(D(),V(gt,null,Gt(f,(I,it)=>x("span",{key:it},[jt(x("input",{type:"radio",id:"device"+it,value:I,"onUpdate:modelValue":R[0]||(R[0]=k=>u.value=k),class:"btn-check",autocomplete:"off"},null,8,rp),[[yn,u.value]]),x("label",{class:"btn btn-outline-primary",for:"device"+it},j(I),9,op)])),64)),u.value=="8DX7"?(D(),V("div",sp,[(D(),V(gt,null,Gt(h,(I,it)=>x("span",{key:it},[jt(x("input",{type:"radio",id:"dx7x"+it,value:I,"onUpdate:modelValue":R[1]||(R[1]=k=>c.value=k),class:"btn-check",autocomplete:"off"},null,8,up),[[yn,c.value]]),x("label",{class:"btn btn-outline-primary",for:"dx7x"+it},j(I),9,lp)])),64))])):st("",!0),x("button",{type:"button",class:ie(b.value?"btn btn-info":"btn btn-outline-info"),onClick:R[2]||(R[2]=I=>b.value=!b.value)},"FX",2),x("button",{type:"button",class:ie(M.value?"btn btn-info":"btn btn-outline-info"),onClick:R[3]||(R[3]=I=>M.value=!M.value)},"O",2),x("button",{type:"button",class:"btn btn-outline-info",onClick:R[4]||(R[4]=I=>O.value=!O.value)},"i"),x("button",{type:"button",class:"btn btn-outline-info",onClick:T},"log")])]),fp,x("div",ap,[nt(zd)])])])]),x("main",cp,[hp,dp,pp,x("div",gp,[O.value?(D(),pn(bh,{key:0})):st("",!0),st("",!0),b.value?(D(),pn(zh,{key:2})):st("",!0),u.value=="DX7"?(D(),pn(vr,{key:3,tg:1},null,8,["tg"])):st("",!0),u.value=="8DX7"&&c.value=="One"?(D(),V("span",mp,[x("div",_p,[(D(),V(gt,null,Gt(8,I=>x("span",{key:I},[jt(x("input",{type:"radio",id:"singe"+I,value:I,"onUpdate:modelValue":R[5]||(R[5]=it=>o.value=it),class:"btn-check",autocomplete:"off"},null,8,yp),[[yn,o.value]]),x("label",{class:"btn btn-outline-primary",for:"singe"+I},j(I),9,xp)])),64))]),nt(vr,{tg:o.value},null,8,["tg"])])):st("",!0),u.value=="8DX7"&&c.value=="All"?(D(),V("span",vp,[x("div",bp,[(D(),V(gt,null,Gt(8,I=>x("span",{key:I},[jt(x("input",{"onUpdate:modelValue":R[6]||(R[6]=it=>s.value=it),value:I,type:"checkbox",class:"btn-check",id:I,autocomplete:"off"},null,8,Cp),[[ro,s.value]]),x("label",{class:"btn btn-outline-primary",for:"many"+I},j(I),9,wp)])),64))]),(D(),V(gt,null,Gt(8,I=>nt(vr,{tg:I,key:I},null,8,["tg"])),64))])):st("",!0),u.value=="8DX7"&&c.value=="Group"?(D(),pn(yh,{key:6})):st("",!0),u.value=="ini"?(D(),V("span",Mp,[(D(!0),V(gt,null,Gt(m(i).minidexed,(I,it)=>(D(),V("div",{key:it},j(it)+" = "+j(I.val),1))),128))])):st("",!0),nt(Qd)]),Sp,Tp]),M.value?(D(),V("footer",Ip,[x("div",Ep,[nt(Xd)])])):st("",!0)],64))}},Ap={__name:"App",setup(e){return zt(),oo(),Zd(),so(),(i,o)=>(D(),pn(Pp,{key:0}))}},Eu=Ja(Ap);Eu.use(tc());Eu.mount("#app");
